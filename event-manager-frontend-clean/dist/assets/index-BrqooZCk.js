import{r as by,a as _y,g as wy,b as xy,c as Y,u as us,B as Sy,R as jy,d as ua,N as zu}from"./vendor-B-hFx8jO.js";function Ey(o,n){for(var i=0;i<n.length;i++){const r=n[i];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in o)){const d=Object.getOwnPropertyDescriptor(r,c);d&&Object.defineProperty(o,c,d.get?d:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var Uu={exports:{}},si={};var yg;function Ny(){if(yg)return si;yg=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(r,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:o,type:r,key:h,ref:c!==void 0?c:null,props:d}}return si.Fragment=n,si.jsx=i,si.jsxs=i,si}var vg;function Ty(){return vg||(vg=1,Uu.exports=Ny()),Uu.exports}var f=Ty(),Du={exports:{}},ii={},Mu={exports:{}},Bu={};var bg;function Oy(){return bg||(bg=1,(function(o){function n(T,K){var ae=T.length;T.push(K);e:for(;0<ae;){var Te=ae-1>>>1,xe=T[Te];if(0<c(xe,K))T[Te]=K,T[ae]=xe,ae=Te;else break e}}function i(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var K=T[0],ae=T.pop();if(ae!==K){T[0]=ae;e:for(var Te=0,xe=T.length,at=xe>>>1;Te<at;){var ke=2*(Te+1)-1,be=T[ke],Je=ke+1,Ht=T[Je];if(0>c(be,ae))Je<xe&&0>c(Ht,be)?(T[Te]=Ht,T[Je]=ae,Te=Je):(T[Te]=be,T[ke]=ae,Te=ke);else if(Je<xe&&0>c(Ht,ae))T[Te]=Ht,T[Je]=ae,Te=Je;else break e}}return K}function c(T,K){var ae=T.sortIndex-K.sortIndex;return ae!==0?ae:T.id-K.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();o.unstable_now=function(){return h.now()-m}}var p=[],v=[],b=1,w=null,x=3,j=!1,N=!1,C=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function k(T){for(var K=i(v);K!==null;){if(K.callback===null)r(v);else if(K.startTime<=T)r(v),K.sortIndex=K.expirationTime,n(p,K);else break;K=i(v)}}function q(T){if(C=!1,k(T),!N)if(i(p)!==null)N=!0,Z||(Z=!0,G());else{var K=i(v);K!==null&&Q(q,K.startTime-T)}}var Z=!1,ne=-1,X=5,te=-1;function me(){return D?!0:!(o.unstable_now()-te<X)}function re(){if(D=!1,Z){var T=o.unstable_now();te=T;var K=!0;try{e:{N=!1,C&&(C=!1,V(ne),ne=-1),j=!0;var ae=x;try{t:{for(k(T),w=i(p);w!==null&&!(w.expirationTime>T&&me());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,x=w.priorityLevel;var xe=Te(w.expirationTime<=T);if(T=o.unstable_now(),typeof xe=="function"){w.callback=xe,k(T),K=!0;break t}w===i(p)&&r(p),k(T)}else r(p);w=i(p)}if(w!==null)K=!0;else{var at=i(v);at!==null&&Q(q,at.startTime-T),K=!1}}break e}finally{w=null,x=ae,j=!1}K=void 0}}finally{K?G():Z=!1}}}var G;if(typeof $=="function")G=function(){$(re)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,U=J.port2;J.port1.onmessage=re,G=function(){U.postMessage(null)}}else G=function(){M(re,0)};function Q(T,K){ne=M(function(){T(o.unstable_now())},K)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(T){T.callback=null},o.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<T?Math.floor(1e3/T):5},o.unstable_getCurrentPriorityLevel=function(){return x},o.unstable_next=function(T){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var ae=x;x=K;try{return T()}finally{x=ae}},o.unstable_requestPaint=function(){D=!0},o.unstable_runWithPriority=function(T,K){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var ae=x;x=T;try{return K()}finally{x=ae}},o.unstable_scheduleCallback=function(T,K,ae){var Te=o.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Te+ae:Te):ae=Te,T){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ae+xe,T={id:b++,callback:K,priorityLevel:T,startTime:ae,expirationTime:xe,sortIndex:-1},ae>Te?(T.sortIndex=ae,n(v,T),i(p)===null&&T===i(v)&&(C?(V(ne),ne=-1):C=!0,Q(q,ae-Te))):(T.sortIndex=xe,n(p,T),N||j||(N=!0,Z||(Z=!0,G()))),T},o.unstable_shouldYield=me,o.unstable_wrapCallback=function(T){var K=x;return function(){var ae=x;x=K;try{return T.apply(this,arguments)}finally{x=ae}}}})(Bu)),Bu}var _g;function Ay(){return _g||(_g=1,Mu.exports=Oy()),Mu.exports}var wg;function Cy(){if(wg)return ii;wg=1;var o=Ay(),n=by(),i=_y();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var l=a.return;if(l===null)break;var u=l.alternate;if(u===null){if(s=l.return,s!==null){a=s;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===a)return p(l),e;if(u===s)return p(l),t;u=u.sibling}throw Error(r(188))}if(a.return!==s.return)a=l,s=u;else{for(var g=!1,y=l.child;y;){if(y===a){g=!0,a=l,s=u;break}if(y===s){g=!0,s=l,a=u;break}y=y.sibling}if(!g){for(y=u.child;y;){if(y===a){g=!0,a=u,s=l;break}if(y===s){g=!0,s=u,a=l;break}y=y.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),$=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var J=Symbol.for("react.client.reference");function U(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case M:return"Profiler";case D:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case $:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return t=e.displayName||null,t!==null?t:U(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return U(e(t))}catch{}}return null}var Q=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Te=[],xe=-1;function at(e){return{current:e}}function ke(e){0>xe||(e.current=Te[xe],Te[xe]=null,xe--)}function be(e,t){xe++,Te[xe]=e.current,e.current=t}var Je=at(null),Ht=at(null),da=at(null),pi=at(null);function yi(e,t){switch(be(da,t),be(Ht,e),be(Je,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hf(t),e=$f(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ke(Je),be(Je,e)}function fn(){ke(Je),ke(Ht),ke(da)}function fl(e){e.memoizedState!==null&&be(pi,e);var t=Je.current,a=$f(t,e.type);t!==a&&(be(Ht,e),be(Je,a))}function vi(e){Ht.current===e&&(ke(Je),ke(Ht)),pi.current===e&&(ke(pi),ei._currentValue=ae)}var gl,mc;function Ha(e){if(gl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);gl=t&&t[1]||"",mc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gl+e+mc}var ml=!1;function pl(e,t){if(!e||ml)return"";ml=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(z){var R=z}Reflect.construct(e,[],H)}else{try{H.call()}catch(z){R=z}e.call(H.prototype)}}else{try{throw Error()}catch(z){R=z}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(z){if(z&&R&&typeof z.stack=="string")return[z.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),g=u[0],y=u[1];if(g&&y){var _=g.split(`
`),A=y.split(`
`);for(l=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;if(s===_.length||l===A.length)for(s=_.length-1,l=A.length-1;1<=s&&0<=l&&_[s]!==A[l];)l--;for(;1<=s&&0<=l;s--,l--)if(_[s]!==A[l]){if(s!==1||l!==1)do if(s--,l--,0>l||_[s]!==A[l]){var B=`
`+_[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=l);break}}}finally{ml=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ha(a):""}function Im(e,t){switch(e.tag){case 26:case 27:case 5:return Ha(e.type);case 16:return Ha("Lazy");case 13:return e.child!==t&&t!==null?Ha("Suspense Fallback"):Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 15:return pl(e.type,!1);case 11:return pl(e.type.render,!1);case 1:return pl(e.type,!0);case 31:return Ha("Activity");default:return""}}function pc(e){try{var t="",a=null;do t+=Im(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var yl=Object.prototype.hasOwnProperty,vl=o.unstable_scheduleCallback,bl=o.unstable_cancelCallback,Pm=o.unstable_shouldYield,Fm=o.unstable_requestPaint,dt=o.unstable_now,Wm=o.unstable_getCurrentPriorityLevel,yc=o.unstable_ImmediatePriority,vc=o.unstable_UserBlockingPriority,bi=o.unstable_NormalPriority,e0=o.unstable_LowPriority,bc=o.unstable_IdlePriority,t0=o.log,a0=o.unstable_setDisableYieldValue,hs=null,ht=null;function ha(e){if(typeof t0=="function"&&a0(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(hs,e)}catch{}}var ft=Math.clz32?Math.clz32:i0,n0=Math.log,s0=Math.LN2;function i0(e){return e>>>=0,e===0?32:31-(n0(e)/s0|0)|0}var _i=256,wi=262144,xi=4194304;function $a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Si(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~u,s!==0?l=$a(s):(g&=y,g!==0?l=$a(g):a||(a=y&~e,a!==0&&(l=$a(a))))):(y=s&~u,y!==0?l=$a(y):g!==0?l=$a(g):a||(a=s&~e,a!==0&&(l=$a(a)))),l===0?0:t!==0&&t!==l&&(t&u)===0&&(u=l&-l,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:l}function fs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function r0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var e=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),e}function _l(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function gs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function l0(e,t,a,s,l,u){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,A=e.hiddenUpdates;for(a=g&~a;0<a;){var B=31-ft(a),H=1<<B;y[B]=0,_[B]=-1;var R=A[B];if(R!==null)for(A[B]=null,B=0;B<R.length;B++){var z=R[B];z!==null&&(z.lane&=-536870913)}a&=~H}s!==0&&wc(e,s,0),u!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=u&~(g&~t))}function wc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ft(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function xc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ft(a),l=1<<s;l&t|e[s]&t&&(e[s]|=t),a&=~l}}function Sc(e,t){var a=t&-t;return a=(a&42)!==0?1:wl(a),(a&(e.suspendedLanes|t))!==0?0:a}function wl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:cg(e.type))}function Ec(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var fa=Math.random().toString(36).slice(2),Ze="__reactFiber$"+fa,st="__reactProps$"+fa,gn="__reactContainer$"+fa,Sl="__reactEvents$"+fa,o0="__reactListeners$"+fa,u0="__reactHandles$"+fa,Nc="__reactResources$"+fa,ms="__reactMarker$"+fa;function jl(e){delete e[Ze],delete e[st],delete e[Sl],delete e[o0],delete e[u0]}function mn(e){var t=e[Ze];if(t)return t;for(var a=e.parentNode;a;){if(t=a[gn]||a[Ze]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Xf(e);e!==null;){if(a=e[Ze])return a;e=Xf(e)}return t}e=a,a=e.parentNode}return null}function pn(e){if(e=e[Ze]||e[gn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ps(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function yn(e){var t=e[Nc];return t||(t=e[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[ms]=!0}var Tc=new Set,Oc={};function Ga(e,t){vn(e,t),vn(e+"Capture",t)}function vn(e,t){for(Oc[e]=t,e=0;e<t.length;e++)Tc.add(t[e])}var c0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Cc={};function d0(e){return yl.call(Cc,e)?!0:yl.call(Ac,e)?!1:c0.test(e)?Cc[e]=!0:(Ac[e]=!0,!1)}function ji(e,t,a){if(d0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ei(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Kt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function h0(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(g){a=""+g,u.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function El(e){if(!e._valueTracker){var t=Rc(e)?"checked":"value";e._valueTracker=h0(e,t,""+e[t])}}function kc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Rc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var f0=/[\n"\\]/g;function Et(e){return e.replace(f0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nl(e,t,a,s,l,u,g,y){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Tl(e,g,jt(t)):a!=null?Tl(e,g,jt(a)):s!=null&&e.removeAttribute("value"),l==null&&u!=null&&(e.defaultChecked=!!u),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+jt(y):e.removeAttribute("name")}function zc(e,t,a,s,l,u,g,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){El(e);return}a=a!=null?""+jt(a):"",t=t!=null?""+jt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),El(e)}function Tl(e,t,a){t==="number"&&Ni(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bn(e,t,a,s){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&s&&(e[a].defaultSelected=!0)}else{for(a=""+jt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Uc(e,t,a){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+jt(a):""}function Dc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(Q(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=jt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),El(e)}function _n(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var g0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||g0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Bc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var l in t)s=t[l],t.hasOwnProperty(l)&&a[l]!==s&&Mc(e,l,s)}else for(var u in t)t.hasOwnProperty(u)&&Mc(e,u,t[u])}function Ol(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return p0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jt(){}var Al=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wn=null,xn=null;function qc(e){var t=pn(e);if(t&&(e=t.stateNode)){var a=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var l=s[st]||null;if(!l)throw Error(r(90));Nl(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&kc(s)}break e;case"textarea":Uc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&bn(e,!!a.multiple,t,!1)}}}var Rl=!1;function Lc(e,t,a){if(Rl)return e(t,a);Rl=!0;try{var s=e(t);return s}finally{if(Rl=!1,(wn!==null||xn!==null)&&(gr(),wn&&(t=wn,e=xn,xn=wn=null,qc(t),e)))for(t=0;t<e.length;t++)qc(e[t])}}function ys(e,t){var a=e.stateNode;if(a===null)return null;var s=a[st]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(Qt)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){kl=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{kl=!1}var ga=null,zl=null,Oi=null;function Hc(){if(Oi)return Oi;var e,t=zl,a=t.length,s,l="value"in ga?ga.value:ga.textContent,u=l.length;for(e=0;e<a&&t[e]===l[e];e++);var g=a-e;for(s=1;s<=g&&t[a-s]===l[u-s];s++);return Oi=l.slice(e,1<s?1-s:void 0)}function Ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function $c(){return!1}function it(e){function t(a,s,l,u,g){this._reactName=a,this._targetInst=l,this.type=s,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ci:$c,this.isPropagationStopped=$c,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),t}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=it(Va),bs=w({},Va,{view:0,detail:0}),y0=it(bs),Ul,Dl,_s,ki=w({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(Ul=e.screenX-_s.screenX,Dl=e.screenY-_s.screenY):Dl=Ul=0,_s=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),Gc=it(ki),v0=w({},ki,{dataTransfer:0}),b0=it(v0),_0=w({},bs,{relatedTarget:0}),Ml=it(_0),w0=w({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=it(w0),S0=w({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),j0=it(S0),E0=w({},Va,{data:0}),Vc=it(E0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=O0[e])?!!t[e]:!1}function Bl(){return A0}var C0=w({},bs,{key:function(e){if(e.key){var t=N0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R0=it(C0),k0=w({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=it(k0),z0=w({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),U0=it(z0),D0=w({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),M0=it(D0),B0=w({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=it(B0),L0=w({},Va,{newState:0,oldState:0}),H0=it(L0),$0=[9,13,27,32],ql=Qt&&"CompositionEvent"in window,ws=null;Qt&&"documentMode"in document&&(ws=document.documentMode);var G0=Qt&&"TextEvent"in window&&!ws,Kc=Qt&&(!ql||ws&&8<ws&&11>=ws),Jc=" ",Qc=!1;function Xc(e,t){switch(e){case"keyup":return $0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function V0(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Qc=!0,Jc);case"textInput":return e=t.data,e===Jc&&Qc?null:e;default:return null}}function Y0(e,t){if(Sn)return e==="compositionend"||!ql&&Xc(e,t)?(e=Hc(),Oi=zl=ga=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kc&&t.locale!=="ko"?null:t.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K0[e.type]:t==="textarea"}function Pc(e,t,a,s){wn?xn?xn.push(s):xn=[s]:wn=s,t=wr(t,"onChange"),0<t.length&&(a=new Ri("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var xs=null,Ss=null;function J0(e){Uf(e,0)}function zi(e){var t=ps(e);if(kc(t))return e}function Fc(e,t){if(e==="change")return t}var Wc=!1;if(Qt){var Ll;if(Qt){var Hl="oninput"in document;if(!Hl){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),Hl=typeof ed.oninput=="function"}Ll=Hl}else Ll=!1;Wc=Ll&&(!document.documentMode||9<document.documentMode)}function td(){xs&&(xs.detachEvent("onpropertychange",ad),Ss=xs=null)}function ad(e){if(e.propertyName==="value"&&zi(Ss)){var t=[];Pc(t,Ss,e,Cl(e)),Lc(J0,t)}}function Q0(e,t,a){e==="focusin"?(td(),xs=t,Ss=a,xs.attachEvent("onpropertychange",ad)):e==="focusout"&&td()}function X0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Ss)}function Z0(e,t){if(e==="click")return zi(t)}function I0(e,t){if(e==="input"||e==="change")return zi(t)}function P0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:P0;function js(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var l=a[s];if(!yl.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,t){var a=nd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nd(a)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ni(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ni(e.document)}return t}function $l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var F0=Qt&&"documentMode"in document&&11>=document.documentMode,jn=null,Gl=null,Es=null,Vl=!1;function ld(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vl||jn==null||jn!==Ni(s)||(s=jn,"selectionStart"in s&&$l(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Es&&js(Es,s)||(Es=s,s=wr(Gl,"onSelect"),0<s.length&&(t=new Ri("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=jn)))}function Ya(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var En={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Yl={},od={};Qt&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function Ka(e){if(Yl[e])return Yl[e];if(!En[e])return e;var t=En[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in od)return Yl[e]=t[a];return e}var ud=Ka("animationend"),cd=Ka("animationiteration"),dd=Ka("animationstart"),W0=Ka("transitionrun"),ep=Ka("transitionstart"),tp=Ka("transitioncancel"),hd=Ka("transitionend"),fd=new Map,Kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kl.push("scrollEnd");function Ut(e,t){fd.set(e,t),Ga(t,[e])}var Ui=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],Nn=0,Jl=0;function Di(){for(var e=Nn,t=Jl=Nn=0;t<e;){var a=Nt[t];Nt[t++]=null;var s=Nt[t];Nt[t++]=null;var l=Nt[t];Nt[t++]=null;var u=Nt[t];if(Nt[t++]=null,s!==null&&l!==null){var g=s.pending;g===null?l.next=l:(l.next=g.next,g.next=l),s.pending=l}u!==0&&gd(a,l,u)}}function Mi(e,t,a,s){Nt[Nn++]=e,Nt[Nn++]=t,Nt[Nn++]=a,Nt[Nn++]=s,Jl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ql(e,t,a,s){return Mi(e,t,a,s),Bi(e)}function Ja(e,t){return Mi(e,null,null,t),Bi(e)}function gd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var l=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(l=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,l&&t!==null&&(l=31-ft(a),e=u.hiddenUpdates,s=e[l],s===null?e[l]=[t]:s.push(t),t.lane=a|536870912),u):null}function Bi(e){if(50<Qs)throw Qs=0,nu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Tn={};function ap(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,a,s){return new ap(e,t,a,s)}function Xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xt(e,t){var a=e.alternate;return a===null?(a=mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function md(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qi(e,t,a,s,l,u){var g=0;if(s=e,typeof e=="function")Xl(e)&&(g=1);else if(typeof e=="string")g=ly(e,a,Je.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=mt(31,a,t,l),e.elementType=te,e.lanes=u,e;case C:return Qa(a.children,l,u,t);case D:g=8,l|=24;break;case M:return e=mt(12,a,t,l|2),e.elementType=M,e.lanes=u,e;case q:return e=mt(13,a,t,l),e.elementType=q,e.lanes=u,e;case Z:return e=mt(19,a,t,l),e.elementType=Z,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:g=10;break e;case V:g=9;break e;case k:g=11;break e;case ne:g=14;break e;case X:g=16,s=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=mt(g,a,t,l),t.elementType=e,t.type=s,t.lanes=u,t}function Qa(e,t,a,s){return e=mt(7,e,s,t),e.lanes=a,e}function Zl(e,t,a){return e=mt(6,e,null,t),e.lanes=a,e}function pd(e){var t=mt(18,null,null,0);return t.stateNode=e,t}function Il(e,t,a){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yd=new WeakMap;function Tt(e,t){if(typeof e=="object"&&e!==null){var a=yd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:pc(t)},yd.set(e,t),t)}return{value:e,source:t,stack:pc(t)}}var On=[],An=0,Li=null,Ns=0,Ot=[],At=0,ma=null,$t=1,Gt="";function Zt(e,t){On[An++]=Ns,On[An++]=Li,Li=e,Ns=t}function vd(e,t,a){Ot[At++]=$t,Ot[At++]=Gt,Ot[At++]=ma,ma=e;var s=$t;e=Gt;var l=32-ft(s)-1;s&=~(1<<l),a+=1;var u=32-ft(t)+l;if(30<u){var g=l-l%5;u=(s&(1<<g)-1).toString(32),s>>=g,l-=g,$t=1<<32-ft(t)+l|a<<l|s,Gt=u+e}else $t=1<<u|a<<l|s,Gt=e}function Pl(e){e.return!==null&&(Zt(e,1),vd(e,1,0))}function Fl(e){for(;e===Li;)Li=On[--An],On[An]=null,Ns=On[--An],On[An]=null;for(;e===ma;)ma=Ot[--At],Ot[At]=null,Gt=Ot[--At],Ot[At]=null,$t=Ot[--At],Ot[At]=null}function bd(e,t){Ot[At++]=$t,Ot[At++]=Gt,Ot[At++]=ma,$t=t.id,Gt=t.overflow,ma=e}var Ie=null,Ae=null,ge=!1,pa=null,Ct=!1,Wl=Error(r(519));function ya(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ts(Tt(t,e)),Wl}function _d(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Ze]=e,t[st]=s,a){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(a=0;a<Zs.length;a++)de(Zs[a],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),zc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Dc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||qf(t.textContent,a)?(s.popover!=null&&(de("beforetoggle",t),de("toggle",t)),s.onScroll!=null&&de("scroll",t),s.onScrollEnd!=null&&de("scrollend",t),s.onClick!=null&&(t.onclick=Jt),t=!0):t=!1,t||ya(e,!0)}function wd(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:Ct=!1;return;case 27:case 3:Ct=!0;return;default:Ie=Ie.return}}function Cn(e){if(e!==Ie)return!1;if(!ge)return wd(e),ge=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vu(e.type,e.memoizedProps)),a=!a),a&&Ae&&ya(e),wd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ae=Qf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ae=Qf(e)}else t===27?(t=Ae,Ra(e.type)?(e=Su,Su=null,Ae=e):Ae=t):Ae=Ie?kt(e.stateNode.nextSibling):null;return!0}function Xa(){Ae=Ie=null,ge=!1}function eo(){var e=pa;return e!==null&&(ut===null?ut=e:ut.push.apply(ut,e),pa=null),e}function Ts(e){pa===null?pa=[e]:pa.push(e)}var to=at(null),Za=null,It=null;function va(e,t,a){be(to,t._currentValue),t._currentValue=a}function Pt(e){e._currentValue=to.current,ke(to)}function ao(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function no(e,t,a,s){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){var g=l.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=l;for(var _=0;_<t.length;_++)if(y.context===t[_]){u.lanes|=a,y=u.alternate,y!==null&&(y.lanes|=a),ao(u.return,a,e),s||(g=null);break e}u=y.next}}else if(l.tag===18){if(g=l.return,g===null)throw Error(r(341));g.lanes|=a,u=g.alternate,u!==null&&(u.lanes|=a),ao(g,a,e),g=null}else g=l.child;if(g!==null)g.return=l;else for(g=l;g!==null;){if(g===e){g=null;break}if(l=g.sibling,l!==null){l.return=g.return,g=l;break}g=g.return}l=g}}function Rn(e,t,a,s){e=null;for(var l=t,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var g=l.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=l.type;gt(l.pendingProps.value,g.value)||(e!==null?e.push(y):e=[y])}}else if(l===pi.current){if(g=l.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ei):e=[ei])}l=l.return}e!==null&&no(t,e,a,s),t.flags|=262144}function Hi(e){for(e=e.firstContext;e!==null;){if(!gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Za=e,It=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return xd(Za,e)}function $i(e,t){return Za===null&&Ia(e),xd(e,t)}function xd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},It===null){if(e===null)throw Error(r(308));It=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else It=It.next=t;return a}var np=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},sp=o.unstable_scheduleCallback,ip=o.unstable_NormalPriority,Le={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new np,data:new Map,refCount:0}}function Os(e){e.refCount--,e.refCount===0&&sp(ip,function(){e.controller.abort()})}var As=null,io=0,kn=0,zn=null;function rp(e,t){if(As===null){var a=As=[];io=0,kn=uu(),zn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return io++,t.then(Sd,Sd),t}function Sd(){if(--io===0&&As!==null){zn!==null&&(zn.status="fulfilled");var e=As;As=null,kn=0,zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lp(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(s.status="rejected",s.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),s}var jd=T.S;T.S=function(e,t){of=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rp(e,t),jd!==null&&jd(e,t)};var Pa=at(null);function ro(){var e=Pa.current;return e!==null?e:Ne.pooledCache}function Gi(e,t){t===null?be(Pa,Pa.current):be(Pa,t.pool)}function Ed(){var e=ro();return e===null?null:{parent:Le._currentValue,pool:e}}var Un=Error(r(460)),lo=Error(r(474)),Vi=Error(r(542)),Yi={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Td(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Jt,Jt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e;default:if(typeof t.status=="string")t.then(Jt,Jt);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=s}},function(s){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e}throw Wa=t,Un}}function Fa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wa=a,Un):a}}var Wa=null;function Od(){if(Wa===null)throw Error(r(459));var e=Wa;return Wa=null,e}function Ad(e){if(e===Un||e===Vi)throw Error(r(483))}var Dn=null,Cs=0;function Ki(e){var t=Cs;return Cs+=1,Dn===null&&(Dn=[]),Td(Dn,e,t)}function Rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ji(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Cd(e){function t(E,S){if(e){var O=E.deletions;O===null?(E.deletions=[S],E.flags|=16):O.push(S)}}function a(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function s(E){for(var S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function l(E,S){return E=Xt(E,S),E.index=0,E.sibling=null,E}function u(E,S,O){return E.index=O,e?(O=E.alternate,O!==null?(O=O.index,O<S?(E.flags|=67108866,S):O):(E.flags|=67108866,S)):(E.flags|=1048576,S)}function g(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function y(E,S,O,L){return S===null||S.tag!==6?(S=Zl(O,E.mode,L),S.return=E,S):(S=l(S,O),S.return=E,S)}function _(E,S,O,L){var ee=O.type;return ee===C?B(E,S,O.props.children,L,O.key):S!==null&&(S.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===X&&Fa(ee)===S.type)?(S=l(S,O.props),Rs(S,O),S.return=E,S):(S=qi(O.type,O.key,O.props,null,E.mode,L),Rs(S,O),S.return=E,S)}function A(E,S,O,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Il(O,E.mode,L),S.return=E,S):(S=l(S,O.children||[]),S.return=E,S)}function B(E,S,O,L,ee){return S===null||S.tag!==7?(S=Qa(O,E.mode,L,ee),S.return=E,S):(S=l(S,O),S.return=E,S)}function H(E,S,O){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Zl(""+S,E.mode,O),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case j:return O=qi(S.type,S.key,S.props,null,E.mode,O),Rs(O,S),O.return=E,O;case N:return S=Il(S,E.mode,O),S.return=E,S;case X:return S=Fa(S),H(E,S,O)}if(Q(S)||G(S))return S=Qa(S,E.mode,O,null),S.return=E,S;if(typeof S.then=="function")return H(E,Ki(S),O);if(S.$$typeof===$)return H(E,$i(E,S),O);Ji(E,S)}return null}function R(E,S,O,L){var ee=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ee!==null?null:y(E,S,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return O.key===ee?_(E,S,O,L):null;case N:return O.key===ee?A(E,S,O,L):null;case X:return O=Fa(O),R(E,S,O,L)}if(Q(O)||G(O))return ee!==null?null:B(E,S,O,L,null);if(typeof O.then=="function")return R(E,S,Ki(O),L);if(O.$$typeof===$)return R(E,S,$i(E,O),L);Ji(E,O)}return null}function z(E,S,O,L,ee){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return E=E.get(O)||null,y(S,E,""+L,ee);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return E=E.get(L.key===null?O:L.key)||null,_(S,E,L,ee);case N:return E=E.get(L.key===null?O:L.key)||null,A(S,E,L,ee);case X:return L=Fa(L),z(E,S,O,L,ee)}if(Q(L)||G(L))return E=E.get(O)||null,B(S,E,L,ee,null);if(typeof L.then=="function")return z(E,S,O,Ki(L),ee);if(L.$$typeof===$)return z(E,S,O,$i(S,L),ee);Ji(S,L)}return null}function I(E,S,O,L){for(var ee=null,pe=null,F=S,ue=S=0,fe=null;F!==null&&ue<O.length;ue++){F.index>ue?(fe=F,F=null):fe=F.sibling;var ye=R(E,F,O[ue],L);if(ye===null){F===null&&(F=fe);break}e&&F&&ye.alternate===null&&t(E,F),S=u(ye,S,ue),pe===null?ee=ye:pe.sibling=ye,pe=ye,F=fe}if(ue===O.length)return a(E,F),ge&&Zt(E,ue),ee;if(F===null){for(;ue<O.length;ue++)F=H(E,O[ue],L),F!==null&&(S=u(F,S,ue),pe===null?ee=F:pe.sibling=F,pe=F);return ge&&Zt(E,ue),ee}for(F=s(F);ue<O.length;ue++)fe=z(F,E,ue,O[ue],L),fe!==null&&(e&&fe.alternate!==null&&F.delete(fe.key===null?ue:fe.key),S=u(fe,S,ue),pe===null?ee=fe:pe.sibling=fe,pe=fe);return e&&F.forEach(function(Ma){return t(E,Ma)}),ge&&Zt(E,ue),ee}function se(E,S,O,L){if(O==null)throw Error(r(151));for(var ee=null,pe=null,F=S,ue=S=0,fe=null,ye=O.next();F!==null&&!ye.done;ue++,ye=O.next()){F.index>ue?(fe=F,F=null):fe=F.sibling;var Ma=R(E,F,ye.value,L);if(Ma===null){F===null&&(F=fe);break}e&&F&&Ma.alternate===null&&t(E,F),S=u(Ma,S,ue),pe===null?ee=Ma:pe.sibling=Ma,pe=Ma,F=fe}if(ye.done)return a(E,F),ge&&Zt(E,ue),ee;if(F===null){for(;!ye.done;ue++,ye=O.next())ye=H(E,ye.value,L),ye!==null&&(S=u(ye,S,ue),pe===null?ee=ye:pe.sibling=ye,pe=ye);return ge&&Zt(E,ue),ee}for(F=s(F);!ye.done;ue++,ye=O.next())ye=z(F,E,ue,ye.value,L),ye!==null&&(e&&ye.alternate!==null&&F.delete(ye.key===null?ue:ye.key),S=u(ye,S,ue),pe===null?ee=ye:pe.sibling=ye,pe=ye);return e&&F.forEach(function(vy){return t(E,vy)}),ge&&Zt(E,ue),ee}function Ee(E,S,O,L){if(typeof O=="object"&&O!==null&&O.type===C&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case j:e:{for(var ee=O.key;S!==null;){if(S.key===ee){if(ee=O.type,ee===C){if(S.tag===7){a(E,S.sibling),L=l(S,O.props.children),L.return=E,E=L;break e}}else if(S.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===X&&Fa(ee)===S.type){a(E,S.sibling),L=l(S,O.props),Rs(L,O),L.return=E,E=L;break e}a(E,S);break}else t(E,S);S=S.sibling}O.type===C?(L=Qa(O.props.children,E.mode,L,O.key),L.return=E,E=L):(L=qi(O.type,O.key,O.props,null,E.mode,L),Rs(L,O),L.return=E,E=L)}return g(E);case N:e:{for(ee=O.key;S!==null;){if(S.key===ee)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){a(E,S.sibling),L=l(S,O.children||[]),L.return=E,E=L;break e}else{a(E,S);break}else t(E,S);S=S.sibling}L=Il(O,E.mode,L),L.return=E,E=L}return g(E);case X:return O=Fa(O),Ee(E,S,O,L)}if(Q(O))return I(E,S,O,L);if(G(O)){if(ee=G(O),typeof ee!="function")throw Error(r(150));return O=ee.call(O),se(E,S,O,L)}if(typeof O.then=="function")return Ee(E,S,Ki(O),L);if(O.$$typeof===$)return Ee(E,S,$i(E,O),L);Ji(E,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,S!==null&&S.tag===6?(a(E,S.sibling),L=l(S,O),L.return=E,E=L):(a(E,S),L=Zl(O,E.mode,L),L.return=E,E=L),g(E)):a(E,S)}return function(E,S,O,L){try{Cs=0;var ee=Ee(E,S,O,L);return Dn=null,ee}catch(F){if(F===Un||F===Vi)throw F;var pe=mt(29,F,null,E.mode);return pe.lanes=L,pe.return=E,pe}finally{}}}var en=Cd(!0),Rd=Cd(!1),ba=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ve&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,t=Bi(e),gd(e,null,a),t}return Mi(e,s,t,a),Bi(e)}function ks(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,xc(e,a)}}function co(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var l=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?l=u=g:u=u.next=g,a=a.next}while(a!==null);u===null?l=u=t:u=u.next=t}else l=u=t;a={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ho=!1;function zs(){if(ho){var e=zn;if(e!==null)throw e}}function Us(e,t,a,s){ho=!1;var l=e.updateQueue;ba=!1;var u=l.firstBaseUpdate,g=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var _=y,A=_.next;_.next=null,g===null?u=A:g.next=A,g=_;var B=e.alternate;B!==null&&(B=B.updateQueue,y=B.lastBaseUpdate,y!==g&&(y===null?B.firstBaseUpdate=A:y.next=A,B.lastBaseUpdate=_))}if(u!==null){var H=l.baseState;g=0,B=A=_=null,y=u;do{var R=y.lane&-536870913,z=R!==y.lane;if(z?(he&R)===R:(s&R)===R){R!==0&&R===kn&&(ho=!0),B!==null&&(B=B.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var I=e,se=y;R=t;var Ee=a;switch(se.tag){case 1:if(I=se.payload,typeof I=="function"){H=I.call(Ee,H,R);break e}H=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=se.payload,R=typeof I=="function"?I.call(Ee,H,R):I,R==null)break e;H=w({},H,R);break e;case 2:ba=!0}}R=y.callback,R!==null&&(e.flags|=64,z&&(e.flags|=8192),z=l.callbacks,z===null?l.callbacks=[R]:z.push(R))}else z={lane:R,tag:y.tag,payload:y.payload,callback:y.callback,next:null},B===null?(A=B=z,_=H):B=B.next=z,g|=R;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;z=y,y=z.next,z.next=null,l.lastBaseUpdate=z,l.shared.pending=null}}while(!0);B===null&&(_=H),l.baseState=_,l.firstBaseUpdate=A,l.lastBaseUpdate=B,u===null&&(l.shared.lanes=0),Na|=g,e.lanes=g,e.memoizedState=H}}function kd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function zd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)kd(a[e],t)}var Mn=at(null),Qi=at(0);function Ud(e,t){e=ra,be(Qi,e),be(Mn,t),ra=e|t.baseLanes}function fo(){be(Qi,ra),be(Mn,Mn.current)}function go(){ra=Qi.current,ke(Mn),ke(Qi)}var pt=at(null),Rt=null;function xa(e){var t=e.alternate;be(Me,Me.current&1),be(pt,e),Rt===null&&(t===null||Mn.current!==null||t.memoizedState!==null)&&(Rt=e)}function mo(e){be(Me,Me.current),be(pt,e),Rt===null&&(Rt=e)}function Dd(e){e.tag===22?(be(Me,Me.current),be(pt,e),Rt===null&&(Rt=e)):Sa()}function Sa(){be(Me,Me.current),be(pt,pt.current)}function yt(e){ke(pt),Rt===e&&(Rt=null),ke(Me)}var Me=at(0);function Xi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wu(a)||xu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ft=0,le=null,Se=null,He=null,Zi=!1,Bn=!1,tn=!1,Ii=0,Ds=0,qn=null,op=0;function Ue(){throw Error(r(321))}function po(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!gt(e[a],t[a]))return!1;return!0}function yo(e,t,a,s,l,u){return Ft=u,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?vh:ko,tn=!1,u=a(s,l),tn=!1,Bn&&(u=Bd(t,a,s,l)),Md(e),u}function Md(e){T.H=qs;var t=Se!==null&&Se.next!==null;if(Ft=0,He=Se=le=null,Zi=!1,Ds=0,qn=null,t)throw Error(r(300));e===null||$e||(e=e.dependencies,e!==null&&Hi(e)&&($e=!0))}function Bd(e,t,a,s){le=e;var l=0;do{if(Bn&&(qn=null),Ds=0,Bn=!1,25<=l)throw Error(r(301));if(l+=1,He=Se=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}T.H=bh,u=t(a,s)}while(Bn);return u}function up(){var e=T.H,t=e.useState()[0];return t=typeof t.then=="function"?Ms(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(le.flags|=1024),t}function vo(){var e=Ii!==0;return Ii=0,e}function bo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function _o(e){if(Zi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zi=!1}Ft=0,He=Se=le=null,Bn=!1,Ds=Ii=0,qn=null}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?le.memoizedState=He=e:He=He.next=e,He}function Be(){if(Se===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=He===null?le.memoizedState:He.next;if(t!==null)He=t,Se=e;else{if(e===null)throw le.alternate===null?Error(r(467)):Error(r(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},He===null?le.memoizedState=He=e:He=He.next=e}return He}function Pi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ms(e){var t=Ds;return Ds+=1,qn===null&&(qn=[]),e=Td(qn,e,t),t=le,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?vh:ko),e}function Fi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ms(e);if(e.$$typeof===$)return Pe(e)}throw Error(r(438,String(e)))}function wo(e){var t=null,a=le.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=le.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Pi(),le.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=me;return t.index++,a}function Wt(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=Be();return xo(t,Se,e)}function xo(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var l=e.baseQueue,u=s.pending;if(u!==null){if(l!==null){var g=l.next;l.next=u.next,u.next=g}t.baseQueue=l=u,s.pending=null}if(u=e.baseState,l===null)e.memoizedState=u;else{t=l.next;var y=g=null,_=null,A=t,B=!1;do{var H=A.lane&-536870913;if(H!==A.lane?(he&H)===H:(Ft&H)===H){var R=A.revertLane;if(R===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),H===kn&&(B=!0);else if((Ft&R)===R){A=A.next,R===kn&&(B=!0);continue}else H={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(y=_=H,g=u):_=_.next=H,le.lanes|=R,Na|=R;H=A.action,tn&&a(u,H),u=A.hasEagerState?A.eagerState:a(u,H)}else R={lane:H,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(y=_=R,g=u):_=_.next=R,le.lanes|=H,Na|=H;A=A.next}while(A!==null&&A!==t);if(_===null?g=u:_.next=y,!gt(u,e.memoizedState)&&($e=!0,B&&(a=zn,a!==null)))throw a;e.memoizedState=u,e.baseState=g,e.baseQueue=_,s.lastRenderedState=u}return l===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function So(e){var t=Be(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,l=a.pending,u=t.memoizedState;if(l!==null){a.pending=null;var g=l=l.next;do u=e(u,g.action),g=g.next;while(g!==l);gt(u,t.memoizedState)||($e=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function qd(e,t,a){var s=le,l=Be(),u=ge;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var g=!gt((Se||l).memoizedState,a);if(g&&(l.memoizedState=a,$e=!0),l=l.queue,No($d.bind(null,s,l,e),[e]),l.getSnapshot!==t||g||He!==null&&He.memoizedState.tag&1){if(s.flags|=2048,Ln(9,{destroy:void 0},Hd.bind(null,s,l,a,t),null),Ne===null)throw Error(r(349));u||(Ft&127)!==0||Ld(s,t,a)}return a}function Ld(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=le.updateQueue,t===null?(t=Pi(),le.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Hd(e,t,a,s){t.value=a,t.getSnapshot=s,Gd(t)&&Vd(e)}function $d(e,t,a){return a(function(){Gd(t)&&Vd(e)})}function Gd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!gt(e,a)}catch{return!0}}function Vd(e){var t=Ja(e,2);t!==null&&ct(t,e,2)}function jo(e){var t=nt();if(typeof e=="function"){var a=e;if(e=a(),tn){ha(!0);try{a()}finally{ha(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function Yd(e,t,a,s){return e.baseState=a,xo(e,Se,typeof s=="function"?s:Wt)}function cp(e,t,a,s,l){if(ar(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};T.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,Kd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Kd(e,t){var a=t.action,s=t.payload,l=e.state;if(t.isTransition){var u=T.T,g={};T.T=g;try{var y=a(l,s),_=T.S;_!==null&&_(g,y),Jd(e,t,y)}catch(A){Eo(e,t,A)}finally{u!==null&&g.types!==null&&(u.types=g.types),T.T=u}}else try{u=a(l,s),Jd(e,t,u)}catch(A){Eo(e,t,A)}}function Jd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Qd(e,t,s)},function(s){return Eo(e,t,s)}):Qd(e,t,a)}function Qd(e,t,a){t.status="fulfilled",t.value=a,Xd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Kd(e,a)))}function Eo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Xd(t),t=t.next;while(t!==s)}e.action=null}function Xd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zd(e,t){return t}function Id(e,t){if(ge){var a=Ne.formState;if(a!==null){e:{var s=le;if(ge){if(Ae){t:{for(var l=Ae,u=Ct;l.nodeType!==8;){if(!u){l=null;break t}if(l=kt(l.nextSibling),l===null){l=null;break t}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){Ae=kt(l.nextSibling),s=l.data==="F!";break e}}ya(s)}s=!1}s&&(t=a[0])}}return a=nt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},a.queue=s,a=mh.bind(null,le,s),s.dispatch=a,s=jo(!1),u=Ro.bind(null,le,!1,s.queue),s=nt(),l={state:t,dispatch:null,action:e,pending:null},s.queue=l,a=cp.bind(null,le,l,u,a),l.dispatch=a,s.memoizedState=e,[t,a,!1]}function Pd(e){var t=Be();return Fd(t,Se,e)}function Fd(e,t,a){if(t=xo(e,t,Zd)[0],e=Wi(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ms(t)}catch(g){throw g===Un?Vi:g}else s=t;t=Be();var l=t.queue,u=l.dispatch;return a!==t.memoizedState&&(le.flags|=2048,Ln(9,{destroy:void 0},dp.bind(null,l,a),null)),[s,u,e]}function dp(e,t){e.action=t}function Wd(e){var t=Be(),a=Se;if(a!==null)return Fd(t,a,e);Be(),t=t.memoizedState,a=Be();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ln(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=le.updateQueue,t===null&&(t=Pi(),le.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function eh(){return Be().memoizedState}function er(e,t,a,s){var l=nt();le.flags|=e,l.memoizedState=Ln(1|t,{destroy:void 0},a,s===void 0?null:s)}function tr(e,t,a,s){var l=Be();s=s===void 0?null:s;var u=l.memoizedState.inst;Se!==null&&s!==null&&po(s,Se.memoizedState.deps)?l.memoizedState=Ln(t,u,a,s):(le.flags|=e,l.memoizedState=Ln(1|t,u,a,s))}function th(e,t){er(8390656,8,e,t)}function No(e,t){tr(2048,8,e,t)}function hp(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=Pi(),le.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function ah(e){var t=Be().memoizedState;return hp({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function nh(e,t){return tr(4,2,e,t)}function sh(e,t){return tr(4,4,e,t)}function ih(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rh(e,t,a){a=a!=null?a.concat([e]):null,tr(4,4,ih.bind(null,t,e),a)}function To(){}function lh(e,t){var a=Be();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&po(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function oh(e,t){var a=Be();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&po(t,s[1]))return s[0];if(s=e(),tn){ha(!0);try{e()}finally{ha(!1)}}return a.memoizedState=[s,t],s}function Oo(e,t,a){return a===void 0||(Ft&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=cf(),le.lanes|=e,Na|=e,a)}function uh(e,t,a,s){return gt(a,t)?a:Mn.current!==null?(e=Oo(e,a,s),gt(e,t)||($e=!0),e):(Ft&42)===0||(Ft&1073741824)!==0&&(he&261930)===0?($e=!0,e.memoizedState=a):(e=cf(),le.lanes|=e,Na|=e,t)}function ch(e,t,a,s,l){var u=K.p;K.p=u!==0&&8>u?u:8;var g=T.T,y={};T.T=y,Ro(e,!1,t,a);try{var _=l(),A=T.S;if(A!==null&&A(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=lp(_,s);Bs(e,t,B,_t(e))}else Bs(e,t,s,_t(e))}catch(H){Bs(e,t,{then:function(){},status:"rejected",reason:H},_t())}finally{K.p=u,g!==null&&y.types!==null&&(g.types=y.types),T.T=g}}function fp(){}function Ao(e,t,a,s){if(e.tag!==5)throw Error(r(476));var l=dh(e).queue;ch(e,l,t,ae,a===null?fp:function(){return hh(e),a(s)})}function dh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hh(e){var t=dh(e);t.next===null&&(t=e.alternate.memoizedState),Bs(e,t.next.queue,{},_t())}function Co(){return Pe(ei)}function fh(){return Be().memoizedState}function gh(){return Be().memoizedState}function gp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=_t();e=_a(a);var s=wa(t,e,a);s!==null&&(ct(s,t,a),ks(s,t,a)),t={cache:so()},e.payload=t;return}t=t.return}}function mp(e,t,a){var s=_t();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ar(e)?ph(t,a):(a=Ql(e,t,a,s),a!==null&&(ct(a,e,s),yh(a,t,s)))}function mh(e,t,a){var s=_t();Bs(e,t,a,s)}function Bs(e,t,a,s){var l={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ar(e))ph(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,y=u(g,a);if(l.hasEagerState=!0,l.eagerState=y,gt(y,g))return Mi(e,t,l,0),Ne===null&&Di(),!1}catch{}finally{}if(a=Ql(e,t,l,s),a!==null)return ct(a,e,s),yh(a,t,s),!0}return!1}function Ro(e,t,a,s){if(s={lane:2,revertLane:uu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ar(e)){if(t)throw Error(r(479))}else t=Ql(e,a,s,2),t!==null&&ct(t,e,2)}function ar(e){var t=e.alternate;return e===le||t!==null&&t===le}function ph(e,t){Bn=Zi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function yh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,xc(e,a)}}var qs={readContext:Pe,use:Fi,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};qs.useEffectEvent=Ue;var vh={readContext:Pe,use:Fi,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Pe,useEffect:th,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,er(4194308,4,ih.bind(null,t,e),a)},useLayoutEffect:function(e,t){return er(4194308,4,e,t)},useInsertionEffect:function(e,t){er(4,2,e,t)},useMemo:function(e,t){var a=nt();t=t===void 0?null:t;var s=e();if(tn){ha(!0);try{e()}finally{ha(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=nt();if(a!==void 0){var l=a(t);if(tn){ha(!0);try{a(t)}finally{ha(!1)}}}else l=t;return s.memoizedState=s.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},s.queue=e,e=e.dispatch=mp.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:function(e){e=jo(e);var t=e.queue,a=mh.bind(null,le,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:To,useDeferredValue:function(e,t){var a=nt();return Oo(a,e,t)},useTransition:function(){var e=jo(!1);return e=ch.bind(null,le,e.queue,!0,!1),nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=le,l=nt();if(ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ne===null)throw Error(r(349));(he&127)!==0||Ld(s,t,a)}l.memoizedState=a;var u={value:a,getSnapshot:t};return l.queue=u,th($d.bind(null,s,u,e),[e]),s.flags|=2048,Ln(9,{destroy:void 0},Hd.bind(null,s,u,a,t),null),a},useId:function(){var e=nt(),t=Ne.identifierPrefix;if(ge){var a=Gt,s=$t;a=(s&~(1<<32-ft(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ii++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=op++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Co,useFormState:Id,useActionState:Id,useOptimistic:function(e){var t=nt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ro.bind(null,le,!0,a),a.dispatch=t,[e,t]},useMemoCache:wo,useCacheRefresh:function(){return nt().memoizedState=gp.bind(null,le)},useEffectEvent:function(e){var t=nt(),a={impl:e};return t.memoizedState=a,function(){if((ve&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ko={readContext:Pe,use:Fi,useCallback:lh,useContext:Pe,useEffect:No,useImperativeHandle:rh,useInsertionEffect:nh,useLayoutEffect:sh,useMemo:oh,useReducer:Wi,useRef:eh,useState:function(){return Wi(Wt)},useDebugValue:To,useDeferredValue:function(e,t){var a=Be();return uh(a,Se.memoizedState,e,t)},useTransition:function(){var e=Wi(Wt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Ms(e),t]},useSyncExternalStore:qd,useId:fh,useHostTransitionStatus:Co,useFormState:Pd,useActionState:Pd,useOptimistic:function(e,t){var a=Be();return Yd(a,Se,e,t)},useMemoCache:wo,useCacheRefresh:gh};ko.useEffectEvent=ah;var bh={readContext:Pe,use:Fi,useCallback:lh,useContext:Pe,useEffect:No,useImperativeHandle:rh,useInsertionEffect:nh,useLayoutEffect:sh,useMemo:oh,useReducer:So,useRef:eh,useState:function(){return So(Wt)},useDebugValue:To,useDeferredValue:function(e,t){var a=Be();return Se===null?Oo(a,e,t):uh(a,Se.memoizedState,e,t)},useTransition:function(){var e=So(Wt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Ms(e),t]},useSyncExternalStore:qd,useId:fh,useHostTransitionStatus:Co,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var a=Be();return Se!==null?Yd(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wo,useCacheRefresh:gh};bh.useEffectEvent=ah;function zo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=_t(),l=_a(s);l.payload=t,a!=null&&(l.callback=a),t=wa(e,l,s),t!==null&&(ct(t,e,s),ks(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=_t(),l=_a(s);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=wa(e,l,s),t!==null&&(ct(t,e,s),ks(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=_t(),s=_a(a);s.tag=2,t!=null&&(s.callback=t),t=wa(e,s,a),t!==null&&(ct(t,e,a),ks(t,e,a))}};function _h(e,t,a,s,l,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,g):t.prototype&&t.prototype.isPureReactComponent?!js(a,s)||!js(l,u):!0}function wh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function an(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function xh(e){Ui(e)}function Sh(e){console.error(e)}function jh(e){Ui(e)}function nr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Eh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Do(e,t,a){return a=_a(a),a.tag=3,a.payload={element:null},a.callback=function(){nr(e,t)},a}function Nh(e){return e=_a(e),e.tag=3,e}function Th(e,t,a,s){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var u=s.value;e.payload=function(){return l(u)},e.callback=function(){Eh(t,a,s)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Eh(t,a,s),typeof l!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function pp(e,t,a,s,l){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Rn(t,a,l,!0),a=pt.current,a!==null){switch(a.tag){case 31:case 13:return Rt===null?mr():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=l,s===Yi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),ru(e,s,l)),!1;case 22:return a.flags|=65536,s===Yi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),ru(e,s,l)),!1}throw Error(r(435,a.tag))}return ru(e,s,l),mr(),!1}if(ge)return t=pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,s!==Wl&&(e=Error(r(422),{cause:s}),Ts(Tt(e,a)))):(s!==Wl&&(t=Error(r(423),{cause:s}),Ts(Tt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,s=Tt(s,a),l=Do(e.stateNode,s,l),co(e,l),De!==4&&(De=2)),!1;var u=Error(r(520),{cause:s});if(u=Tt(u,a),Js===null?Js=[u]:Js.push(u),De!==4&&(De=2),t===null)return!0;s=Tt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=Do(a.stateNode,s,e),co(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ta===null||!Ta.has(u))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Nh(l),Th(l,e,a,s),co(a,l),!1}a=a.return}while(a!==null);return!1}var Mo=Error(r(461)),$e=!1;function Fe(e,t,a,s){t.child=e===null?Rd(t,null,a,s):en(t,e.child,a,s)}function Oh(e,t,a,s,l){a=a.render;var u=t.ref;if("ref"in s){var g={};for(var y in s)y!=="ref"&&(g[y]=s[y])}else g=s;return Ia(t),s=yo(e,t,a,g,u,l),y=vo(),e!==null&&!$e?(bo(e,t,l),ea(e,t,l)):(ge&&y&&Pl(t),t.flags|=1,Fe(e,t,s,l),t.child)}function Ah(e,t,a,s,l){if(e===null){var u=a.type;return typeof u=="function"&&!Xl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Ch(e,t,u,s,l)):(e=qi(a.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Yo(e,l)){var g=u.memoizedProps;if(a=a.compare,a=a!==null?a:js,a(g,s)&&e.ref===t.ref)return ea(e,t,l)}return t.flags|=1,e=Xt(u,s),e.ref=t.ref,e.return=t,t.child=e}function Ch(e,t,a,s,l){if(e!==null){var u=e.memoizedProps;if(js(u,s)&&e.ref===t.ref)if($e=!1,t.pendingProps=s=u,Yo(e,l))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,ea(e,t,l)}return Bo(e,t,a,s,l)}function Rh(e,t,a,s){var l=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,l=0;s!==null;)l=l|s.lanes|s.childLanes,s=s.sibling;s=l&~u}else s=0,t.child=null;return kh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(t,u!==null?u.cachePool:null),u!==null?Ud(t,u):fo(),Dd(t);else return s=t.lanes=536870912,kh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(Gi(t,u.cachePool),Ud(t,u),Sa(),t.memoizedState=null):(e!==null&&Gi(t,null),fo(),Sa());return Fe(e,t,l,a),t.child}function Ls(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function kh(e,t,a,s,l){var u=ro();return u=u===null?null:{parent:Le._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Gi(t,null),fo(),Dd(t),e!==null&&Rn(e,t,s,!0),t.childLanes=l,null}function sr(e,t){return t=rr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zh(e,t,a){return en(t,e.child,null,a),e=sr(t,t.pendingProps),e.flags|=2,yt(t),t.memoizedState=null,e}function yp(e,t,a){var s=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(s.mode==="hidden")return e=sr(t,s),t.lanes=536870912,Ls(null,e);if(mo(t),(e=Ae)?(e=Jf(e,Ct),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:$t,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,Ie=t,Ae=null)):e=null,e===null)throw ya(t);return t.lanes=536870912,null}return sr(t,s)}var u=e.memoizedState;if(u!==null){var g=u.dehydrated;if(mo(t),l)if(t.flags&256)t.flags&=-257,t=zh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if($e||Rn(e,t,a,!1),l=(a&e.childLanes)!==0,$e||l){if(s=Ne,s!==null&&(g=Sc(s,a),g!==0&&g!==u.retryLane))throw u.retryLane=g,Ja(e,g),ct(s,e,g),Mo;mr(),t=zh(e,t,a)}else e=u.treeContext,Ae=kt(g.nextSibling),Ie=t,ge=!0,pa=null,Ct=!1,e!==null&&bd(t,e),t=sr(t,s),t.flags|=4096;return t}return e=Xt(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ir(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Bo(e,t,a,s,l){return Ia(t),a=yo(e,t,a,s,void 0,l),s=vo(),e!==null&&!$e?(bo(e,t,l),ea(e,t,l)):(ge&&s&&Pl(t),t.flags|=1,Fe(e,t,a,l),t.child)}function Uh(e,t,a,s,l,u){return Ia(t),t.updateQueue=null,a=Bd(t,s,a,l),Md(e),s=vo(),e!==null&&!$e?(bo(e,t,u),ea(e,t,u)):(ge&&s&&Pl(t),t.flags|=1,Fe(e,t,a,u),t.child)}function Dh(e,t,a,s,l){if(Ia(t),t.stateNode===null){var u=Tn,g=a.contextType;typeof g=="object"&&g!==null&&(u=Pe(g)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Uo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},oo(t),g=a.contextType,u.context=typeof g=="object"&&g!==null?Pe(g):Tn,u.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(zo(t,a,g,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&Uo.enqueueReplaceState(u,u.state,null),Us(t,s,u,l),zs(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,_=an(a,y);u.props=_;var A=u.context,B=a.contextType;g=Tn,typeof B=="object"&&B!==null&&(g=Pe(B));var H=a.getDerivedStateFromProps;B=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,B||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||A!==g)&&wh(t,u,s,g),ba=!1;var R=t.memoizedState;u.state=R,Us(t,s,u,l),zs(),A=t.memoizedState,y||R!==A||ba?(typeof H=="function"&&(zo(t,a,H,s),A=t.memoizedState),(_=ba||_h(t,a,_,s,R,A,g))?(B||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),u.props=s,u.state=A,u.context=g,s=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,uo(e,t),g=t.memoizedProps,B=an(a,g),u.props=B,H=t.pendingProps,R=u.context,A=a.contextType,_=Tn,typeof A=="object"&&A!==null&&(_=Pe(A)),y=a.getDerivedStateFromProps,(A=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==H||R!==_)&&wh(t,u,s,_),ba=!1,R=t.memoizedState,u.state=R,Us(t,s,u,l),zs();var z=t.memoizedState;g!==H||R!==z||ba||e!==null&&e.dependencies!==null&&Hi(e.dependencies)?(typeof y=="function"&&(zo(t,a,y,s),z=t.memoizedState),(B=ba||_h(t,a,B,s,R,z,_)||e!==null&&e.dependencies!==null&&Hi(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,z,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,z,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=_,s=B):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,ir(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=en(t,e.child,null,l),t.child=en(t,null,a,l)):Fe(e,t,a,l),t.memoizedState=u.state,e=t.child):e=ea(e,t,l),e}function Mh(e,t,a,s){return Xa(),t.flags|=256,Fe(e,t,a,s),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lo(e){return{baseLanes:e,cachePool:Ed()}}function Ho(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=bt),e}function Bh(e,t,a){var s=t.pendingProps,l=!1,u=(t.flags&128)!==0,g;if((g=u)||(g=e!==null&&e.memoizedState===null?!1:(Me.current&2)!==0),g&&(l=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(l?xa(t):Sa(),(e=Ae)?(e=Jf(e,Ct),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:$t,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,Ie=t,Ae=null)):e=null,e===null)throw ya(t);return xu(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,l?(Sa(),l=t.mode,y=rr({mode:"hidden",children:y},l),s=Qa(s,l,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=Lo(a),s.childLanes=Ho(e,g,a),t.memoizedState=qo,Ls(null,s)):(xa(t),$o(t,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(u)t.flags&256?(xa(t),t.flags&=-257,t=Go(e,t,a)):t.memoizedState!==null?(Sa(),t.child=e.child,t.flags|=128,t=null):(Sa(),y=s.fallback,l=t.mode,s=rr({mode:"visible",children:s.children},l),y=Qa(y,l,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,en(t,e.child,null,a),s=t.child,s.memoizedState=Lo(a),s.childLanes=Ho(e,g,a),t.memoizedState=qo,t=Ls(null,s));else if(xa(t),xu(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var A=g.dgst;g=A,s=Error(r(419)),s.stack="",s.digest=g,Ts({value:s,source:null,stack:null}),t=Go(e,t,a)}else if($e||Rn(e,t,a,!1),g=(a&e.childLanes)!==0,$e||g){if(g=Ne,g!==null&&(s=Sc(g,a),s!==0&&s!==_.retryLane))throw _.retryLane=s,Ja(e,s),ct(g,e,s),Mo;wu(y)||mr(),t=Go(e,t,a)}else wu(y)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ae=kt(y.nextSibling),Ie=t,ge=!0,pa=null,Ct=!1,e!==null&&bd(t,e),t=$o(t,s.children),t.flags|=4096);return t}return l?(Sa(),y=s.fallback,l=t.mode,_=e.child,A=_.sibling,s=Xt(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,A!==null?y=Xt(A,y):(y=Qa(y,l,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,Ls(null,s),s=t.child,y=e.child.memoizedState,y===null?y=Lo(a):(l=y.cachePool,l!==null?(_=Le._currentValue,l=l.parent!==_?{parent:_,pool:_}:l):l=Ed(),y={baseLanes:y.baseLanes|a,cachePool:l}),s.memoizedState=y,s.childLanes=Ho(e,g,a),t.memoizedState=qo,Ls(e.child,s)):(xa(t),a=e.child,e=a.sibling,a=Xt(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function $o(e,t){return t=rr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rr(e,t){return e=mt(22,e,null,t),e.lanes=0,e}function Go(e,t,a){return en(t,e.child,null,a),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ao(e.return,t,a)}function Vo(e,t,a,s,l,u){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:l,treeForkCount:u}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=a,g.tailMode=l,g.treeForkCount=u)}function Lh(e,t,a){var s=t.pendingProps,l=s.revealOrder,u=s.tail;s=s.children;var g=Me.current,y=(g&2)!==0;if(y?(g=g&1|2,t.flags|=128):g&=1,be(Me,g),Fe(e,t,s,a),s=ge?Ns:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qh(e,a,t);else if(e.tag===19)qh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&Xi(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Vo(t,!1,l,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Xi(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Vo(t,!0,a,null,u,s);break;case"together":Vo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Rn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Xt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Xt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Hi(e)))}function vp(e,t,a){switch(t.tag){case 3:yi(t,t.stateNode.containerInfo),va(t,Le,e.memoizedState.cache),Xa();break;case 27:case 5:fl(t);break;case 4:yi(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,mo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(xa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Bh(e,t,a):(xa(t),e=ea(e,t,a),e!==null?e.sibling:null);xa(t);break;case 19:var l=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Rn(e,t,a,!1),s=(a&t.childLanes)!==0),l){if(s)return Lh(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),be(Me,Me.current),s)break;return null;case 22:return t.lanes=0,Rh(e,t,a,t.pendingProps);case 24:va(t,Le,e.memoizedState.cache)}return ea(e,t,a)}function Hh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Yo(e,a)&&(t.flags&128)===0)return $e=!1,vp(e,t,a);$e=(e.flags&131072)!==0}else $e=!1,ge&&(t.flags&1048576)!==0&&vd(t,Ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Fa(t.elementType),t.type=e,typeof e=="function")Xl(e)?(s=an(e,s),t.tag=1,t=Dh(null,t,e,s,a)):(t.tag=0,t=Bo(null,t,e,s,a));else{if(e!=null){var l=e.$$typeof;if(l===k){t.tag=11,t=Oh(null,t,e,s,a);break e}else if(l===ne){t.tag=14,t=Ah(null,t,e,s,a);break e}}throw t=U(e)||e,Error(r(306,t,""))}}return t;case 0:return Bo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,l=an(s,t.pendingProps),Dh(e,t,s,l,a);case 3:e:{if(yi(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;l=u.element,uo(e,t),Us(t,s,null,a);var g=t.memoizedState;if(s=g.cache,va(t,Le,s),s!==u.cache&&no(t,[Le],a,!0),zs(),s=g.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Mh(e,t,s,a);break e}else if(s!==l){l=Tt(Error(r(424)),t),Ts(l),t=Mh(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ae=kt(e.firstChild),Ie=t,ge=!0,pa=null,Ct=!0,a=Rd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xa(),s===l){t=ea(e,t,a);break e}Fe(e,t,s,a)}t=t.child}return t;case 26:return ir(e,t),e===null?(a=Ff(t.type,null,t.pendingProps,null))?t.memoizedState=a:ge||(a=t.type,e=t.pendingProps,s=xr(da.current).createElement(a),s[Ze]=t,s[st]=e,We(s,a,e),Qe(s),t.stateNode=s):t.memoizedState=Ff(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fl(t),e===null&&ge&&(s=t.stateNode=Zf(t.type,t.pendingProps,da.current),Ie=t,Ct=!0,l=Ae,Ra(t.type)?(Su=l,Ae=kt(s.firstChild)):Ae=l),Fe(e,t,t.pendingProps.children,a),ir(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((l=s=Ae)&&(s=Xp(s,t.type,t.pendingProps,Ct),s!==null?(t.stateNode=s,Ie=t,Ae=kt(s.firstChild),Ct=!1,l=!0):l=!1),l||ya(t)),fl(t),l=t.type,u=t.pendingProps,g=e!==null?e.memoizedProps:null,s=u.children,vu(l,u)?s=null:g!==null&&vu(l,g)&&(t.flags|=32),t.memoizedState!==null&&(l=yo(e,t,up,null,null,a),ei._currentValue=l),ir(e,t),Fe(e,t,s,a),t.child;case 6:return e===null&&ge&&((e=a=Ae)&&(a=Zp(a,t.pendingProps,Ct),a!==null?(t.stateNode=a,Ie=t,Ae=null,e=!0):e=!1),e||ya(t)),null;case 13:return Bh(e,t,a);case 4:return yi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=en(t,null,s,a):Fe(e,t,s,a),t.child;case 11:return Oh(e,t,t.type,t.pendingProps,a);case 7:return Fe(e,t,t.pendingProps,a),t.child;case 8:return Fe(e,t,t.pendingProps.children,a),t.child;case 12:return Fe(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,va(t,t.type,s.value),Fe(e,t,s.children,a),t.child;case 9:return l=t.type._context,s=t.pendingProps.children,Ia(t),l=Pe(l),s=s(l),t.flags|=1,Fe(e,t,s,a),t.child;case 14:return Ah(e,t,t.type,t.pendingProps,a);case 15:return Ch(e,t,t.type,t.pendingProps,a);case 19:return Lh(e,t,a);case 31:return yp(e,t,a);case 22:return Rh(e,t,a,t.pendingProps);case 24:return Ia(t),s=Pe(Le),e===null?(l=ro(),l===null&&(l=Ne,u=so(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=a),l=u),t.memoizedState={parent:s,cache:l},oo(t),va(t,Le,l)):((e.lanes&a)!==0&&(uo(e,t),Us(t,null,null,a),zs()),l=e.memoizedState,u=t.memoizedState,l.parent!==s?(l={parent:s,cache:s},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),va(t,Le,s)):(s=u.cache,va(t,Le,s),s!==l.cache&&no(t,[Le],a,!0))),Fe(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ta(e){e.flags|=4}function Ko(e,t,a,s,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(gf())e.flags|=8192;else throw Wa=Yi,lo}else e.flags&=-16777217}function $h(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ng(t))if(gf())e.flags|=8192;else throw Wa=Yi,lo}function lr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_c():536870912,e.lanes|=t,Vn|=t)}function Hs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function bp(e,t,a){var s=t.pendingProps;switch(Fl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Pt(Le),fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Cn(t)?ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,eo())),Ce(t),null;case 26:var l=t.type,u=t.memoizedState;return e===null?(ta(t),u!==null?(Ce(t),$h(t,u)):(Ce(t),Ko(t,l,null,s,a))):u?u!==e.memoizedState?(ta(t),Ce(t),$h(t,u)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ta(t),Ce(t),Ko(t,l,e,s,a)),null;case 27:if(vi(t),a=da.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ta(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ce(t),null}e=Je.current,Cn(t)?_d(t):(e=Zf(l,s,a),t.stateNode=e,ta(t))}return Ce(t),null;case 5:if(vi(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ta(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ce(t),null}if(u=Je.current,Cn(t))_d(t);else{var g=xr(da.current);switch(u){case 1:u=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:u=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":u=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":u=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":u=g.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?g.createElement(l,{is:s.is}):g.createElement(l)}}u[Ze]=t,u[st]=s;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=u;e:switch(We(u,l,s),l){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ta(t)}}return Ce(t),Ko(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ta(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=da.current,Cn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,l=Ie,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}e[Ze]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||qf(e.nodeValue,a)),e||ya(t,!0)}else e=xr(e).createTextNode(s),e[Ze]=t,t.stateNode=e}return Ce(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Cn(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ze]=t}else Xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else a=eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(yt(t),t):(yt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ce(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Cn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(r(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));l[Ze]=t}else Xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),l=!1}else l=eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(yt(t),t):(yt(t),null)}return yt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),lr(t,t.updateQueue),Ce(t),null);case 4:return fn(),e===null&&fu(t.stateNode.containerInfo),Ce(t),null;case 10:return Pt(t.type),Ce(t),null;case 19:if(ke(Me),s=t.memoizedState,s===null)return Ce(t),null;if(l=(t.flags&128)!==0,u=s.rendering,u===null)if(l)Hs(s,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Xi(e),u!==null){for(t.flags|=128,Hs(s,!1),e=u.updateQueue,t.updateQueue=e,lr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)md(a,e),a=a.sibling;return be(Me,Me.current&1|2),ge&&Zt(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&dt()>hr&&(t.flags|=128,l=!0,Hs(s,!1),t.lanes=4194304)}else{if(!l)if(e=Xi(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,lr(t,e),Hs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!ge)return Ce(t),null}else 2*dt()-s.renderingStartTime>hr&&a!==536870912&&(t.flags|=128,l=!0,Hs(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,a=Me.current,be(Me,l?a&1|2:a&1),ge&&Zt(t,s.treeForkCount),e):(Ce(t),null);case 22:case 23:return yt(t),go(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),a=t.updateQueue,a!==null&&lr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&ke(Pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pt(Le),Ce(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function _p(e,t){switch(Fl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pt(Le),fn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vi(t),null;case 31:if(t.memoizedState!==null){if(yt(t),t.alternate===null)throw Error(r(340));Xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Me),null;case 4:return fn(),null;case 10:return Pt(t.type),null;case 22:case 23:return yt(t),go(),e!==null&&ke(Pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pt(Le),null;case 25:return null;default:return null}}function Gh(e,t){switch(Fl(t),t.tag){case 3:Pt(Le),fn();break;case 26:case 27:case 5:vi(t);break;case 4:fn();break;case 31:t.memoizedState!==null&&yt(t);break;case 13:yt(t);break;case 19:ke(Me);break;case 10:Pt(t.type);break;case 22:case 23:yt(t),go(),e!==null&&ke(Pa);break;case 24:Pt(Le)}}function $s(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var l=s.next;a=l;do{if((a.tag&e)===e){s=void 0;var u=a.create,g=a.inst;s=u(),g.destroy=s}a=a.next}while(a!==l)}}catch(y){we(t,t.return,y)}}function ja(e,t,a){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&e)===e){var g=s.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,l=t;var _=a,A=y;try{A()}catch(B){we(l,_,B)}}}s=s.next}while(s!==u)}}catch(B){we(t,t.return,B)}}function Vh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{zd(t,a)}catch(s){we(e,e.return,s)}}}function Yh(e,t,a){a.props=an(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){we(e,t,s)}}function Gs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(l){we(e,t,l)}}function Vt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(l){we(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){we(e,t,l)}else a.current=null}function Kh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(l){we(e,e.return,l)}}function Jo(e,t,a){try{var s=e.stateNode;Gp(s,e.type,a,t),s[st]=t}catch(l){we(e,e.return,l)}}function Jh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ra(e.type)||e.tag===4}function Qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Jt));else if(s!==4&&(s===27&&Ra(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}function or(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ra(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(or(e,t,a),e=e.sibling;e!==null;)or(e,t,a),e=e.sibling}function Qh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);We(t,s,a),t[Ze]=e,t[st]=a}catch(u){we(e,e.return,u)}}var aa=!1,Ge=!1,Zo=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function wp(e,t){if(e=e.containerInfo,pu=Ar,e=rd(e),$l(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var g=0,y=-1,_=-1,A=0,B=0,H=e,R=null;t:for(;;){for(var z;H!==a||l!==0&&H.nodeType!==3||(y=g+l),H!==u||s!==0&&H.nodeType!==3||(_=g+s),H.nodeType===3&&(g+=H.nodeValue.length),(z=H.firstChild)!==null;)R=H,H=z;for(;;){if(H===e)break t;if(R===a&&++A===l&&(y=g),R===u&&++B===s&&(_=g),(z=H.nextSibling)!==null)break;H=R,R=H.parentNode}H=z}a=y===-1||_===-1?null:{start:y,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(yu={focusedElem:e,selectionRange:a},Ar=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){switch(t=Xe,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,l=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var I=an(a.type,l);e=s.getSnapshotBeforeUpdate(I,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(se){we(a,a.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)_u(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}}function Zh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:sa(e,a),s&4&&$s(5,a);break;case 1:if(sa(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){we(a,a.return,g)}else{var l=an(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){we(a,a.return,g)}}s&64&&Vh(a),s&512&&Gs(a,a.return);break;case 3:if(sa(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zd(e,t)}catch(g){we(a,a.return,g)}}break;case 27:t===null&&s&4&&Qh(a);case 26:case 5:sa(e,a),t===null&&s&4&&Kh(a),s&512&&Gs(a,a.return);break;case 12:sa(e,a);break;case 31:sa(e,a),s&4&&Fh(e,a);break;case 13:sa(e,a),s&4&&Wh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Cp.bind(null,a),Ip(e,a))));break;case 22:if(s=a.memoizedState!==null||aa,!s){t=t!==null&&t.memoizedState!==null||Ge,l=aa;var u=Ge;aa=s,(Ge=t)&&!u?ia(e,a,(a.subtreeFlags&8772)!==0):sa(e,a),aa=l,Ge=u}break;case 30:break;default:sa(e,a)}}function Ih(e){var t=e.alternate;t!==null&&(e.alternate=null,Ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,rt=!1;function na(e,t,a){for(a=a.child;a!==null;)Ph(e,t,a),a=a.sibling}function Ph(e,t,a){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(hs,a)}catch{}switch(a.tag){case 26:Ge||Vt(a,t),na(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Vt(a,t);var s=Re,l=rt;Ra(a.type)&&(Re=a.stateNode,rt=!1),na(e,t,a),Ps(a.stateNode),Re=s,rt=l;break;case 5:Ge||Vt(a,t);case 6:if(s=Re,l=rt,Re=null,na(e,t,a),Re=s,rt=l,Re!==null)if(rt)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(a.stateNode)}catch(u){we(a,t,u)}else try{Re.removeChild(a.stateNode)}catch(u){we(a,t,u)}break;case 18:Re!==null&&(rt?(e=Re,Yf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pn(e)):Yf(Re,a.stateNode));break;case 4:s=Re,l=rt,Re=a.stateNode.containerInfo,rt=!0,na(e,t,a),Re=s,rt=l;break;case 0:case 11:case 14:case 15:ja(2,a,t),Ge||ja(4,a,t),na(e,t,a);break;case 1:Ge||(Vt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Yh(a,t,s)),na(e,t,a);break;case 21:na(e,t,a);break;case 22:Ge=(s=Ge)||a.memoizedState!==null,na(e,t,a),Ge=s;break;default:na(e,t,a)}}function Fh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pn(e)}catch(a){we(t,t.return,a)}}}function Wh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pn(e)}catch(a){we(t,t.return,a)}}function xp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xh),t;default:throw Error(r(435,e.tag))}}function ur(e,t){var a=xp(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var l=Rp.bind(null,e,s);s.then(l,l)}})}function lt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var l=a[s],u=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(Ra(y.type)){Re=y.stateNode,rt=!1;break e}break;case 5:Re=y.stateNode,rt=!1;break e;case 3:case 4:Re=y.stateNode.containerInfo,rt=!0;break e}y=y.return}if(Re===null)throw Error(r(160));Ph(u,g,l),Re=null,rt=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ef(t,e),t=t.sibling}var Dt=null;function ef(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:lt(t,e),ot(e),s&4&&(ja(3,e,e.return),$s(3,e),ja(5,e,e.return));break;case 1:lt(t,e),ot(e),s&512&&(Ge||a===null||Vt(a,a.return)),s&64&&aa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var l=Dt;if(lt(t,e),ot(e),s&512&&(Ge||a===null||Vt(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":u=l.getElementsByTagName("title")[0],(!u||u[ms]||u[Ze]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(s),l.head.insertBefore(u,l.querySelector("head > title"))),We(u,s,a),u[Ze]=e,Qe(u),s=u;break e;case"link":var g=tg("link","href",l).get(s+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(u=g[y],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}u=l.createElement(s),We(u,s,a),l.head.appendChild(u);break;case"meta":if(g=tg("meta","content",l).get(s+(a.content||""))){for(y=0;y<g.length;y++)if(u=g[y],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}u=l.createElement(s),We(u,s,a),l.head.appendChild(u);break;default:throw Error(r(468,s))}u[Ze]=e,Qe(u),s=u}e.stateNode=s}else ag(l,e.type,e.stateNode);else e.stateNode=eg(l,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?ag(l,e.type,e.stateNode):eg(l,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,a.memoizedProps)}break;case 27:lt(t,e),ot(e),s&512&&(Ge||a===null||Vt(a,a.return)),a!==null&&s&4&&Jo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(lt(t,e),ot(e),s&512&&(Ge||a===null||Vt(a,a.return)),e.flags&32){l=e.stateNode;try{_n(l,"")}catch(I){we(e,e.return,I)}}s&4&&e.stateNode!=null&&(l=e.memoizedProps,Jo(e,l,a!==null?a.memoizedProps:l)),s&1024&&(Zo=!0);break;case 6:if(lt(t,e),ot(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(I){we(e,e.return,I)}}break;case 3:if(Er=null,l=Dt,Dt=Sr(t.containerInfo),lt(t,e),Dt=l,ot(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(I){we(e,e.return,I)}Zo&&(Zo=!1,tf(e));break;case 4:s=Dt,Dt=Sr(e.stateNode.containerInfo),lt(t,e),ot(e),Dt=s;break;case 12:lt(t,e),ot(e);break;case 31:lt(t,e),ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ur(e,s)));break;case 13:lt(t,e),ot(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dr=dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ur(e,s)));break;case 22:l=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,A=aa,B=Ge;if(aa=A||l,Ge=B||_,lt(t,e),Ge=B,aa=A,ot(e),s&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||_||aa||Ge||nn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(u=_.stateNode,l)g=u.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=_.stateNode;var H=_.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null;y.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(I){we(_,_.return,I)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=l?"":_.memoizedProps}catch(I){we(_,_.return,I)}}}else if(t.tag===18){if(a===null){_=t;try{var z=_.stateNode;l?Kf(z,!0):Kf(_.stateNode,!1)}catch(I){we(_,_.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ur(e,a))));break;case 19:lt(t,e),ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ur(e,s)));break;case 30:break;case 21:break;default:lt(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Jh(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var l=a.stateNode,u=Qo(e);or(e,u,l);break;case 5:var g=a.stateNode;a.flags&32&&(_n(g,""),a.flags&=-33);var y=Qo(e);or(e,y,g);break;case 3:case 4:var _=a.stateNode.containerInfo,A=Qo(e);Xo(e,A,_);break;default:throw Error(r(161))}}catch(B){we(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function sa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zh(e,t.alternate,t),t=t.sibling}function nn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ja(4,t,t.return),nn(t);break;case 1:Vt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Yh(t,t.return,a),nn(t);break;case 27:Ps(t.stateNode);case 26:case 5:Vt(t,t.return),nn(t);break;case 22:t.memoizedState===null&&nn(t);break;case 30:nn(t);break;default:nn(t)}e=e.sibling}}function ia(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,l=e,u=t,g=u.flags;switch(u.tag){case 0:case 11:case 15:ia(l,u,a),$s(4,u);break;case 1:if(ia(l,u,a),s=u,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(A){we(s,s.return,A)}if(s=u,l=s.updateQueue,l!==null){var y=s.stateNode;try{var _=l.shared.hiddenCallbacks;if(_!==null)for(l.shared.hiddenCallbacks=null,l=0;l<_.length;l++)kd(_[l],y)}catch(A){we(s,s.return,A)}}a&&g&64&&Vh(u),Gs(u,u.return);break;case 27:Qh(u);case 26:case 5:ia(l,u,a),a&&s===null&&g&4&&Kh(u),Gs(u,u.return);break;case 12:ia(l,u,a);break;case 31:ia(l,u,a),a&&g&4&&Fh(l,u);break;case 13:ia(l,u,a),a&&g&4&&Wh(l,u);break;case 22:u.memoizedState===null&&ia(l,u,a),Gs(u,u.return);break;case 30:break;default:ia(l,u,a)}t=t.sibling}}function Io(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Os(a))}function Po(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Os(e))}function Mt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)af(e,t,a,s),t=t.sibling}function af(e,t,a,s){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Mt(e,t,a,s),l&2048&&$s(9,t);break;case 1:Mt(e,t,a,s);break;case 3:Mt(e,t,a,s),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Os(e)));break;case 12:if(l&2048){Mt(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,g=u.id,y=u.onPostCommit;typeof y=="function"&&y(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){we(t,t.return,_)}}else Mt(e,t,a,s);break;case 31:Mt(e,t,a,s);break;case 13:Mt(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,g=t.alternate,t.memoizedState!==null?u._visibility&2?Mt(e,t,a,s):Vs(e,t):u._visibility&2?Mt(e,t,a,s):(u._visibility|=2,Hn(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Io(g,t);break;case 24:Mt(e,t,a,s),l&2048&&Po(t.alternate,t);break;default:Mt(e,t,a,s)}}function Hn(e,t,a,s,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,g=t,y=a,_=s,A=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(u,g,y,_,l),$s(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?Hn(u,g,y,_,l):Vs(u,g):(B._visibility|=2,Hn(u,g,y,_,l)),l&&A&2048&&Io(g.alternate,g);break;case 24:Hn(u,g,y,_,l),l&&A&2048&&Po(g.alternate,g);break;default:Hn(u,g,y,_,l)}t=t.sibling}}function Vs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,l=s.flags;switch(s.tag){case 22:Vs(a,s),l&2048&&Io(s.alternate,s);break;case 24:Vs(a,s),l&2048&&Po(s.alternate,s);break;default:Vs(a,s)}t=t.sibling}}var Ys=8192;function $n(e,t,a){if(e.subtreeFlags&Ys)for(e=e.child;e!==null;)nf(e,t,a),e=e.sibling}function nf(e,t,a){switch(e.tag){case 26:$n(e,t,a),e.flags&Ys&&e.memoizedState!==null&&oy(a,Dt,e.memoizedState,e.memoizedProps);break;case 5:$n(e,t,a);break;case 3:case 4:var s=Dt;Dt=Sr(e.stateNode.containerInfo),$n(e,t,a),Dt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ys,Ys=16777216,$n(e,t,a),Ys=s):$n(e,t,a));break;default:$n(e,t,a)}}function sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Xe=s,lf(s,e)}sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rf(e),e=e.sibling}function rf(e){switch(e.tag){case 0:case 11:case 15:Ks(e),e.flags&2048&&ja(9,e,e.return);break;case 3:Ks(e);break;case 12:Ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cr(e)):Ks(e);break;default:Ks(e)}}function cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Xe=s,lf(s,e)}sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ja(8,t,t.return),cr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,cr(t));break;default:cr(t)}e=e.sibling}}function lf(e,t){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:ja(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Os(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Xe=s;else e:for(a=e;Xe!==null;){s=Xe;var l=s.sibling,u=s.return;if(Ih(s),s===a){Xe=null;break e}if(l!==null){l.return=u,Xe=l;break e}Xe=u}}}var Sp={getCacheForType:function(e){var t=Pe(Le),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Pe(Le).controller.signal}},jp=typeof WeakMap=="function"?WeakMap:Map,ve=0,Ne=null,ce=null,he=0,_e=0,vt=null,Ea=!1,Gn=!1,Fo=!1,ra=0,De=0,Na=0,sn=0,Wo=0,bt=0,Vn=0,Js=null,ut=null,eu=!1,dr=0,of=0,hr=1/0,fr=null,Ta=null,Ye=0,Oa=null,Yn=null,la=0,tu=0,au=null,uf=null,Qs=0,nu=null;function _t(){return(ve&2)!==0&&he!==0?he&-he:T.T!==null?uu():jc()}function cf(){if(bt===0)if((he&536870912)===0||ge){var e=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),bt=e}else bt=536870912;return e=pt.current,e!==null&&(e.flags|=32),bt}function ct(e,t,a){(e===Ne&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(Kn(e,0),Aa(e,he,bt,!1)),gs(e,a),((ve&2)===0||e!==Ne)&&(e===Ne&&((ve&2)===0&&(sn|=a),De===4&&Aa(e,he,bt,!1)),Yt(e))}function df(e,t,a){if((ve&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||fs(e,t),l=s?Tp(e,t):iu(e,t,!0),u=s;do{if(l===0){Gn&&!s&&Aa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Ep(a)){l=iu(e,t,!1),u=!1;continue}if(l===2){if(u=t,e.errorRecoveryDisabledLanes&u)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var y=e;l=Js;var _=y.current.memoizedState.isDehydrated;if(_&&(Kn(y,g).flags|=256),g=iu(y,g,!1),g!==2){if(Fo&&!_){y.errorRecoveryDisabledLanes|=u,sn|=u,l=4;break e}u=ut,ut=l,u!==null&&(ut===null?ut=u:ut.push.apply(ut,u))}l=g}if(u=!1,l!==2)continue}}if(l===1){Kn(e,0),Aa(e,t,0,!0);break}e:{switch(s=e,u=l,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Aa(s,t,bt,!Ea);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(l=dr+300-dt(),10<l)){if(Aa(s,t,bt,!Ea),Si(s,0,!0)!==0)break e;la=t,s.timeoutHandle=Gf(hf.bind(null,s,a,ut,fr,eu,t,bt,sn,Vn,Ea,u,"Throttled",-0,0),l);break e}hf(s,a,ut,fr,eu,t,bt,sn,Vn,Ea,u,null,-0,0)}}break}while(!0);Yt(e)}function hf(e,t,a,s,l,u,g,y,_,A,B,H,R,z){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jt},nf(t,u,H);var I=(u&62914560)===u?dr-dt():(u&4194048)===u?of-dt():0;if(I=uy(H,I),I!==null){la=u,e.cancelPendingCommit=I(_f.bind(null,e,t,u,a,s,l,g,y,_,B,H,null,R,z)),Aa(e,u,g,!A);return}}_f(e,t,u,a,s,l,g,y,_)}function Ep(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var l=a[s],u=l.getSnapshot;l=l.value;try{if(!gt(u(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Aa(e,t,a,s){t&=~Wo,t&=~sn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var l=t;0<l;){var u=31-ft(l),g=1<<u;s[u]=-1,l&=~g}a!==0&&wc(e,a,t)}function gr(){return(ve&6)===0?(Xs(0),!1):!0}function su(){if(ce!==null){if(_e===0)var e=ce.return;else e=ce,It=Za=null,_o(e),Dn=null,Cs=0,e=ce;for(;e!==null;)Gh(e.alternate,e),e=e.return;ce=null}}function Kn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Kp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),la=0,su(),Ne=e,ce=a=Xt(e.current,null),he=t,_e=0,vt=null,Ea=!1,Gn=fs(e,t),Fo=!1,Vn=bt=Wo=sn=Na=De=0,ut=Js=null,eu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var l=31-ft(s),u=1<<l;t|=e[l],s&=~u}return ra=t,Di(),a}function ff(e,t){le=null,T.H=qs,t===Un||t===Vi?(t=Od(),_e=3):t===lo?(t=Od(),_e=4):_e=t===Mo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vt=t,ce===null&&(De=1,nr(e,Tt(t,e.current)))}function gf(){var e=pt.current;return e===null?!0:(he&4194048)===he?Rt===null:(he&62914560)===he||(he&536870912)!==0?e===Rt:!1}function mf(){var e=T.H;return T.H=qs,e===null?qs:e}function pf(){var e=T.A;return T.A=Sp,e}function mr(){De=4,Ea||(he&4194048)!==he&&pt.current!==null||(Gn=!0),(Na&134217727)===0&&(sn&134217727)===0||Ne===null||Aa(Ne,he,bt,!1)}function iu(e,t,a){var s=ve;ve|=2;var l=mf(),u=pf();(Ne!==e||he!==t)&&(fr=null,Kn(e,t)),t=!1;var g=De;e:do try{if(_e!==0&&ce!==null){var y=ce,_=vt;switch(_e){case 8:su(),g=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var A=_e;if(_e=0,vt=null,Jn(e,y,_,A),a&&Gn){g=0;break e}break;default:A=_e,_e=0,vt=null,Jn(e,y,_,A)}}Np(),g=De;break}catch(B){ff(e,B)}while(!0);return t&&e.shellSuspendCounter++,It=Za=null,ve=s,T.H=l,T.A=u,ce===null&&(Ne=null,he=0,Di()),g}function Np(){for(;ce!==null;)yf(ce)}function Tp(e,t){var a=ve;ve|=2;var s=mf(),l=pf();Ne!==e||he!==t?(fr=null,hr=dt()+500,Kn(e,t)):Gn=fs(e,t);e:do try{if(_e!==0&&ce!==null){t=ce;var u=vt;t:switch(_e){case 1:_e=0,vt=null,Jn(e,t,u,1);break;case 2:case 9:if(Nd(u)){_e=0,vt=null,vf(t);break}t=function(){_e!==2&&_e!==9||Ne!==e||(_e=7),Yt(e)},u.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Nd(u)?(_e=0,vt=null,vf(t)):(_e=0,vt=null,Jn(e,t,u,7));break;case 5:var g=null;switch(ce.tag){case 26:g=ce.memoizedState;case 5:case 27:var y=ce;if(g?ng(g):y.stateNode.complete){_e=0,vt=null;var _=y.sibling;if(_!==null)ce=_;else{var A=y.return;A!==null?(ce=A,pr(A)):ce=null}break t}}_e=0,vt=null,Jn(e,t,u,5);break;case 6:_e=0,vt=null,Jn(e,t,u,6);break;case 8:su(),De=6;break e;default:throw Error(r(462))}}Op();break}catch(B){ff(e,B)}while(!0);return It=Za=null,T.H=s,T.A=l,ve=a,ce!==null?0:(Ne=null,he=0,Di(),De)}function Op(){for(;ce!==null&&!Pm();)yf(ce)}function yf(e){var t=Hh(e.alternate,e,ra);e.memoizedProps=e.pendingProps,t===null?pr(e):ce=t}function vf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Uh(a,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Uh(a,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:_o(t);default:Gh(a,t),t=ce=md(t,ra),t=Hh(a,t,ra)}e.memoizedProps=e.pendingProps,t===null?pr(e):ce=t}function Jn(e,t,a,s){It=Za=null,_o(t),Dn=null,Cs=0;var l=t.return;try{if(pp(e,l,t,a,he)){De=1,nr(e,Tt(a,e.current)),ce=null;return}}catch(u){if(l!==null)throw ce=l,u;De=1,nr(e,Tt(a,e.current)),ce=null;return}t.flags&32768?(ge||s===1?e=!0:Gn||(he&536870912)!==0?e=!1:(Ea=e=!0,(s===2||s===9||s===3||s===6)&&(s=pt.current,s!==null&&s.tag===13&&(s.flags|=16384))),bf(t,e)):pr(t)}function pr(e){var t=e;do{if((t.flags&32768)!==0){bf(t,Ea);return}e=t.return;var a=bp(t.alternate,t,ra);if(a!==null){ce=a;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);De===0&&(De=5)}function bf(e,t){do{var a=_p(e.alternate,e);if(a!==null){a.flags&=32767,ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=a}while(e!==null);De=6,ce=null}function _f(e,t,a,s,l,u,g,y,_){e.cancelPendingCommit=null;do yr();while(Ye!==0);if((ve&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Jl,l0(e,a,u,g,y,_),e===Ne&&(ce=Ne=null,he=0),Yn=t,Oa=e,la=a,tu=u,au=l,uf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kp(bi,function(){return Ef(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=T.T,T.T=null,l=K.p,K.p=2,g=ve,ve|=4;try{wp(e,t,a)}finally{ve=g,K.p=l,T.T=s}}Ye=1,wf(),xf(),Sf()}}function wf(){if(Ye===1){Ye=0;var e=Oa,t=Yn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=T.T,T.T=null;var s=K.p;K.p=2;var l=ve;ve|=4;try{ef(t,e);var u=yu,g=rd(e.containerInfo),y=u.focusedElem,_=u.selectionRange;if(g!==y&&y&&y.ownerDocument&&id(y.ownerDocument.documentElement,y)){if(_!==null&&$l(y)){var A=_.start,B=_.end;if(B===void 0&&(B=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(B,y.value.length);else{var H=y.ownerDocument||document,R=H&&H.defaultView||window;if(R.getSelection){var z=R.getSelection(),I=y.textContent.length,se=Math.min(_.start,I),Ee=_.end===void 0?se:Math.min(_.end,I);!z.extend&&se>Ee&&(g=Ee,Ee=se,se=g);var E=sd(y,se),S=sd(y,Ee);if(E&&S&&(z.rangeCount!==1||z.anchorNode!==E.node||z.anchorOffset!==E.offset||z.focusNode!==S.node||z.focusOffset!==S.offset)){var O=H.createRange();O.setStart(E.node,E.offset),z.removeAllRanges(),se>Ee?(z.addRange(O),z.extend(S.node,S.offset)):(O.setEnd(S.node,S.offset),z.addRange(O))}}}}for(H=[],z=y;z=z.parentNode;)z.nodeType===1&&H.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<H.length;y++){var L=H[y];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Ar=!!pu,yu=pu=null}finally{ve=l,K.p=s,T.T=a}}e.current=t,Ye=2}}function xf(){if(Ye===2){Ye=0;var e=Oa,t=Yn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=T.T,T.T=null;var s=K.p;K.p=2;var l=ve;ve|=4;try{Zh(e,t.alternate,t)}finally{ve=l,K.p=s,T.T=a}}Ye=3}}function Sf(){if(Ye===4||Ye===3){Ye=0,Fm();var e=Oa,t=Yn,a=la,s=uf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ye=5:(Ye=0,Yn=Oa=null,jf(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Ta=null),xl(a),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(hs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=T.T,l=K.p,K.p=2,T.T=null;try{for(var u=e.onRecoverableError,g=0;g<s.length;g++){var y=s[g];u(y.value,{componentStack:y.stack})}}finally{T.T=t,K.p=l}}(la&3)!==0&&yr(),Yt(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===nu?Qs++:(Qs=0,nu=e):Qs=0,Xs(0)}}function jf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Os(t)))}function yr(){return wf(),xf(),Sf(),Ef()}function Ef(){if(Ye!==5)return!1;var e=Oa,t=tu;tu=0;var a=xl(la),s=T.T,l=K.p;try{K.p=32>a?32:a,T.T=null,a=au,au=null;var u=Oa,g=la;if(Ye=0,Yn=Oa=null,la=0,(ve&6)!==0)throw Error(r(331));var y=ve;if(ve|=4,rf(u.current),af(u,u.current,g,a),ve=y,Xs(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(hs,u)}catch{}return!0}finally{K.p=l,T.T=s,jf(e,t)}}function Nf(e,t,a){t=Tt(a,t),t=Do(e.stateNode,t,2),e=wa(e,t,2),e!==null&&(gs(e,2),Yt(e))}function we(e,t,a){if(e.tag===3)Nf(e,e,a);else for(;t!==null;){if(t.tag===3){Nf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ta===null||!Ta.has(s))){e=Tt(a,e),a=Nh(2),s=wa(t,a,2),s!==null&&(Th(a,s,t,e),gs(s,2),Yt(s));break}}t=t.return}}function ru(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new jp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(a)||(Fo=!0,l.add(a),e=Ap.bind(null,e,t,a),t.then(e,e))}function Ap(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ne===e&&(he&a)===a&&(De===4||De===3&&(he&62914560)===he&&300>dt()-dr?(ve&2)===0&&Kn(e,0):Wo|=a,Vn===he&&(Vn=0)),Yt(e)}function Tf(e,t){t===0&&(t=_c()),e=Ja(e,t),e!==null&&(gs(e,t),Yt(e))}function Cp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Tf(e,a)}function Rp(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Tf(e,a)}function kp(e,t){return vl(e,t)}var vr=null,Qn=null,lu=!1,br=!1,ou=!1,Ca=0;function Yt(e){e!==Qn&&e.next===null&&(Qn===null?vr=Qn=e:Qn=Qn.next=e),br=!0,lu||(lu=!0,Up())}function Xs(e,t){if(!ou&&br){ou=!0;do for(var a=!1,s=vr;s!==null;){if(e!==0){var l=s.pendingLanes;if(l===0)var u=0;else{var g=s.suspendedLanes,y=s.pingedLanes;u=(1<<31-ft(42|e)+1)-1,u&=l&~(g&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Rf(s,u))}else u=he,u=Si(s,s===Ne?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||fs(s,u)||(a=!0,Rf(s,u));s=s.next}while(a);ou=!1}}function zp(){Of()}function Of(){br=lu=!1;var e=0;Ca!==0&&Yp()&&(e=Ca);for(var t=dt(),a=null,s=vr;s!==null;){var l=s.next,u=Af(s,t);u===0?(s.next=null,a===null?vr=l:a.next=l,l===null&&(Qn=a)):(a=s,(e!==0||(u&3)!==0)&&(br=!0)),s=l}Ye!==0&&Ye!==5||Xs(e),Ca!==0&&(Ca=0)}function Af(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var g=31-ft(u),y=1<<g,_=l[g];_===-1?((y&a)===0||(y&s)!==0)&&(l[g]=r0(y,t)):_<=t&&(e.expiredLanes|=y),u&=~y}if(t=Ne,a=he,a=Si(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&bl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||fs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&bl(s),xl(a)){case 2:case 8:a=vc;break;case 32:a=bi;break;case 268435456:a=bc;break;default:a=bi}return s=Cf.bind(null,e),a=vl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&bl(s),e.callbackPriority=2,e.callbackNode=null,2}function Cf(e,t){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yr()&&e.callbackNode!==a)return null;var s=he;return s=Si(e,e===Ne?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(df(e,s,t),Af(e,dt()),e.callbackNode!=null&&e.callbackNode===a?Cf.bind(null,e):null)}function Rf(e,t){if(yr())return null;df(e,t,!0)}function Up(){Jp(function(){(ve&6)!==0?vl(yc,zp):Of()})}function uu(){if(Ca===0){var e=kn;e===0&&(e=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Ca=e}return Ca}function kf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function zf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Dp(e,t,a,s,l){if(t==="submit"&&a&&a.stateNode===l){var u=kf((l[st]||null).action),g=s.submitter;g&&(t=(t=g[st]||null)?kf(t.formAction):g.getAttribute("formAction"),t!==null&&(u=t,g=null));var y=new Ri("action","action",null,s,l);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ca!==0){var _=g?zf(l,g):new FormData(l);Ao(a,{pending:!0,data:_,method:l.method,action:u},null,_)}}else typeof u=="function"&&(y.preventDefault(),_=g?zf(l,g):new FormData(l),Ao(a,{pending:!0,data:_,method:l.method,action:u},u,_))},currentTarget:l}]})}}for(var cu=0;cu<Kl.length;cu++){var du=Kl[cu],Mp=du.toLowerCase(),Bp=du[0].toUpperCase()+du.slice(1);Ut(Mp,"on"+Bp)}Ut(ud,"onAnimationEnd"),Ut(cd,"onAnimationIteration"),Ut(dd,"onAnimationStart"),Ut("dblclick","onDoubleClick"),Ut("focusin","onFocus"),Ut("focusout","onBlur"),Ut(W0,"onTransitionRun"),Ut(ep,"onTransitionStart"),Ut(tp,"onTransitionCancel"),Ut(hd,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zs));function Uf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],l=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var g=s.length-1;0<=g;g--){var y=s[g],_=y.instance,A=y.currentTarget;if(y=y.listener,_!==u&&l.isPropagationStopped())break e;u=y,l.currentTarget=A;try{u(l)}catch(B){Ui(B)}l.currentTarget=null,u=_}else for(g=0;g<s.length;g++){if(y=s[g],_=y.instance,A=y.currentTarget,y=y.listener,_!==u&&l.isPropagationStopped())break e;u=y,l.currentTarget=A;try{u(l)}catch(B){Ui(B)}l.currentTarget=null,u=_}}}}function de(e,t){var a=t[Sl];a===void 0&&(a=t[Sl]=new Set);var s=e+"__bubble";a.has(s)||(Df(t,e,2,!1),a.add(s))}function hu(e,t,a){var s=0;t&&(s|=4),Df(a,e,s,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[_r]){e[_r]=!0,Tc.forEach(function(a){a!=="selectionchange"&&(qp.has(a)||hu(a,!1,e),hu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,hu("selectionchange",!1,t))}}function Df(e,t,a,s){switch(cg(t)){case 2:var l=hy;break;case 8:l=fy;break;default:l=Ou}a=l.bind(null,t,a,e),l=void 0,!kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function gu(e,t,a,s,l){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var y=s.stateNode.containerInfo;if(y===l)break;if(g===4)for(g=s.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===l)return;g=g.return}for(;y!==null;){if(g=mn(y),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){s=u=g;continue e}y=y.parentNode}}s=s.return}Lc(function(){var A=u,B=Cl(a),H=[];e:{var R=fd.get(e);if(R!==void 0){var z=Ri,I=e;switch(e){case"keypress":if(Ai(a)===0)break e;case"keydown":case"keyup":z=R0;break;case"focusin":I="focus",z=Ml;break;case"focusout":I="blur",z=Ml;break;case"beforeblur":case"afterblur":z=Ml;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=U0;break;case ud:case cd:case dd:z=x0;break;case hd:z=M0;break;case"scroll":case"scrollend":z=y0;break;case"wheel":z=q0;break;case"copy":case"cut":case"paste":z=j0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Yc;break;case"toggle":case"beforetoggle":z=H0}var se=(t&4)!==0,Ee=!se&&(e==="scroll"||e==="scrollend"),E=se?R!==null?R+"Capture":null:R;se=[];for(var S=A,O;S!==null;){var L=S;if(O=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||O===null||E===null||(L=ys(S,E),L!=null&&se.push(Is(S,L,O))),Ee)break;S=S.return}0<se.length&&(R=new z(R,I,null,a,B),H.push({event:R,listeners:se}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",R&&a!==Al&&(I=a.relatedTarget||a.fromElement)&&(mn(I)||I[gn]))break e;if((z||R)&&(R=B.window===B?B:(R=B.ownerDocument)?R.defaultView||R.parentWindow:window,z?(I=a.relatedTarget||a.toElement,z=A,I=I?mn(I):null,I!==null&&(Ee=d(I),se=I.tag,I!==Ee||se!==5&&se!==27&&se!==6)&&(I=null)):(z=null,I=A),z!==I)){if(se=Gc,L="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(se=Yc,L="onPointerLeave",E="onPointerEnter",S="pointer"),Ee=z==null?R:ps(z),O=I==null?R:ps(I),R=new se(L,S+"leave",z,a,B),R.target=Ee,R.relatedTarget=O,L=null,mn(B)===A&&(se=new se(E,S+"enter",I,a,B),se.target=O,se.relatedTarget=Ee,L=se),Ee=L,z&&I)t:{for(se=Lp,E=z,S=I,O=0,L=E;L;L=se(L))O++;L=0;for(var ee=S;ee;ee=se(ee))L++;for(;0<O-L;)E=se(E),O--;for(;0<L-O;)S=se(S),L--;for(;O--;){if(E===S||S!==null&&E===S.alternate){se=E;break t}E=se(E),S=se(S)}se=null}else se=null;z!==null&&Mf(H,R,z,se,!1),I!==null&&Ee!==null&&Mf(H,Ee,I,se,!0)}}e:{if(R=A?ps(A):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var pe=Fc;else if(Ic(R))if(Wc)pe=I0;else{pe=X0;var F=Q0}else z=R.nodeName,!z||z.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&Ol(A.elementType)&&(pe=Fc):pe=Z0;if(pe&&(pe=pe(e,A))){Pc(H,pe,a,B);break e}F&&F(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&Tl(R,"number",R.value)}switch(F=A?ps(A):window,e){case"focusin":(Ic(F)||F.contentEditable==="true")&&(jn=F,Gl=A,Es=null);break;case"focusout":Es=Gl=jn=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,ld(H,a,B);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":ld(H,a,B)}var ue;if(ql)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Sn?Xc(e,a)&&(fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(Kc&&a.locale!=="ko"&&(Sn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Sn&&(ue=Hc()):(ga=B,zl="value"in ga?ga.value:ga.textContent,Sn=!0)),F=wr(A,fe),0<F.length&&(fe=new Vc(fe,e,null,a,B),H.push({event:fe,listeners:F}),ue?fe.data=ue:(ue=Zc(a),ue!==null&&(fe.data=ue)))),(ue=G0?V0(e,a):Y0(e,a))&&(fe=wr(A,"onBeforeInput"),0<fe.length&&(F=new Vc("onBeforeInput","beforeinput",null,a,B),H.push({event:F,listeners:fe}),F.data=ue)),Dp(H,e,A,a,B)}Uf(H,t)})}function Is(e,t,a){return{instance:e,listener:t,currentTarget:a}}function wr(e,t){for(var a=t+"Capture",s=[];e!==null;){var l=e,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=ys(e,a),l!=null&&s.unshift(Is(e,l,u)),l=ys(e,t),l!=null&&s.push(Is(e,l,u))),e.tag===3)return s;e=e.return}return[]}function Lp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mf(e,t,a,s,l){for(var u=t._reactName,g=[];a!==null&&a!==s;){var y=a,_=y.alternate,A=y.stateNode;if(y=y.tag,_!==null&&_===s)break;y!==5&&y!==26&&y!==27||A===null||(_=A,l?(A=ys(a,u),A!=null&&g.unshift(Is(a,A,_))):l||(A=ys(a,u),A!=null&&g.push(Is(a,A,_)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var Hp=/\r\n?/g,$p=/\u0000|\uFFFD/g;function Bf(e){return(typeof e=="string"?e:""+e).replace(Hp,`
`).replace($p,"")}function qf(e,t){return t=Bf(t),Bf(e)===t}function je(e,t,a,s,l,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||_n(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&_n(e,""+s);break;case"className":Ei(e,"class",s);break;case"tabIndex":Ei(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(e,a,s);break;case"style":Bc(e,s,u);break;case"data":if(t!=="object"){Ei(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ti(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&je(e,t,"name",l.name,l,null),je(e,t,"formEncType",l.formEncType,l,null),je(e,t,"formMethod",l.formMethod,l,null),je(e,t,"formTarget",l.formTarget,l,null)):(je(e,t,"encType",l.encType,l,null),je(e,t,"method",l.method,l,null),je(e,t,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ti(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Jt);break;case"onScroll":s!=null&&de("scroll",e);break;case"onScrollEnd":s!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Ti(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":de("beforetoggle",e),de("toggle",e),ji(e,"popover",s);break;case"xlinkActuate":Kt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Kt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Kt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Kt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Kt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Kt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Kt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ji(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=m0.get(a)||a,ji(e,a,s))}}function mu(e,t,a,s,l,u){switch(a){case"style":Bc(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?_n(e,s):(typeof s=="number"||typeof s=="bigint")&&_n(e,""+s);break;case"onScroll":s!=null&&de("scroll",e);break;case"onScrollEnd":s!=null&&de("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),u=e[st]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,l),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,l);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):ji(e,a,s)}}}function We(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var s=!1,l=!1,u;for(u in a)if(a.hasOwnProperty(u)){var g=a[u];if(g!=null)switch(u){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:je(e,t,u,g,a,null)}}l&&je(e,t,"srcSet",a.srcSet,a,null),s&&je(e,t,"src",a.src,a,null);return;case"input":de("invalid",e);var y=u=g=l=null,_=null,A=null;for(s in a)if(a.hasOwnProperty(s)){var B=a[s];if(B!=null)switch(s){case"name":l=B;break;case"type":g=B;break;case"checked":_=B;break;case"defaultChecked":A=B;break;case"value":u=B;break;case"defaultValue":y=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:je(e,t,s,B,a,null)}}zc(e,u,y,_,A,g,l,!1);return;case"select":de("invalid",e),s=g=u=null;for(l in a)if(a.hasOwnProperty(l)&&(y=a[l],y!=null))switch(l){case"value":u=y;break;case"defaultValue":g=y;break;case"multiple":s=y;default:je(e,t,l,y,a,null)}t=u,a=g,e.multiple=!!s,t!=null?bn(e,!!s,t,!1):a!=null&&bn(e,!!s,a,!0);return;case"textarea":de("invalid",e),u=l=s=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":s=y;break;case"defaultValue":l=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:je(e,t,g,y,a,null)}Dc(e,s,l,u);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(s=a[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:je(e,t,_,s,a,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(s=0;s<Zs.length;s++)de(Zs[s],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(s=a[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:je(e,t,A,s,a,null)}return;default:if(Ol(t)){for(B in a)a.hasOwnProperty(B)&&(s=a[B],s!==void 0&&mu(e,t,B,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&je(e,t,y,s,a,null))}function Gp(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,g=null,y=null,_=null,A=null,B=null;for(z in a){var H=a[z];if(a.hasOwnProperty(z)&&H!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":_=H;default:s.hasOwnProperty(z)||je(e,t,z,null,s,H)}}for(var R in s){var z=s[R];if(H=a[R],s.hasOwnProperty(R)&&(z!=null||H!=null))switch(R){case"type":u=z;break;case"name":l=z;break;case"checked":A=z;break;case"defaultChecked":B=z;break;case"value":g=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==H&&je(e,t,R,z,s,H)}}Nl(e,g,y,_,A,B,u,l);return;case"select":z=g=y=R=null;for(u in a)if(_=a[u],a.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":z=_;default:s.hasOwnProperty(u)||je(e,t,u,null,s,_)}for(l in s)if(u=s[l],_=a[l],s.hasOwnProperty(l)&&(u!=null||_!=null))switch(l){case"value":R=u;break;case"defaultValue":y=u;break;case"multiple":g=u;default:u!==_&&je(e,t,l,u,s,_)}t=y,a=g,s=z,R!=null?bn(e,!!a,R,!1):!!s!=!!a&&(t!=null?bn(e,!!a,t,!0):bn(e,!!a,a?[]:"",!1));return;case"textarea":z=R=null;for(y in a)if(l=a[y],a.hasOwnProperty(y)&&l!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:je(e,t,y,null,s,l)}for(g in s)if(l=s[g],u=a[g],s.hasOwnProperty(g)&&(l!=null||u!=null))switch(g){case"value":R=l;break;case"defaultValue":z=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(r(91));break;default:l!==u&&je(e,t,g,l,s,u)}Uc(e,R,z);return;case"option":for(var I in a)if(R=a[I],a.hasOwnProperty(I)&&R!=null&&!s.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:je(e,t,I,null,s,R)}for(_ in s)if(R=s[_],z=a[_],s.hasOwnProperty(_)&&R!==z&&(R!=null||z!=null))switch(_){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:je(e,t,_,R,s,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)R=a[se],a.hasOwnProperty(se)&&R!=null&&!s.hasOwnProperty(se)&&je(e,t,se,null,s,R);for(A in s)if(R=s[A],z=a[A],s.hasOwnProperty(A)&&R!==z&&(R!=null||z!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:je(e,t,A,R,s,z)}return;default:if(Ol(t)){for(var Ee in a)R=a[Ee],a.hasOwnProperty(Ee)&&R!==void 0&&!s.hasOwnProperty(Ee)&&mu(e,t,Ee,void 0,s,R);for(B in s)R=s[B],z=a[B],!s.hasOwnProperty(B)||R===z||R===void 0&&z===void 0||mu(e,t,B,R,s,z);return}}for(var E in a)R=a[E],a.hasOwnProperty(E)&&R!=null&&!s.hasOwnProperty(E)&&je(e,t,E,null,s,R);for(H in s)R=s[H],z=a[H],!s.hasOwnProperty(H)||R===z||R==null&&z==null||je(e,t,H,R,s,z)}function Lf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var l=a[s],u=l.transferSize,g=l.initiatorType,y=l.duration;if(u&&y&&Lf(g)){for(g=0,y=l.responseEnd,s+=1;s<a.length;s++){var _=a[s],A=_.startTime;if(A>y)break;var B=_.transferSize,H=_.initiatorType;B&&Lf(H)&&(_=_.responseEnd,g+=B*(_<y?1:(y-A)/(_-A)))}if(--s,t+=8*(u+g)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,yu=null;function xr(e){return e.nodeType===9?e:e.ownerDocument}function Hf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $f(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=null;function Yp(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var Gf=typeof setTimeout=="function"?setTimeout:void 0,Kp=typeof clearTimeout=="function"?clearTimeout:void 0,Vf=typeof Promise=="function"?Promise:void 0,Jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Vf<"u"?function(e){return Vf.resolve(null).then(e).catch(Qp)}:Gf;function Qp(e){setTimeout(function(){throw e})}function Ra(e){return e==="head"}function Yf(e,t){var a=t,s=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(l),Pn(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Ps(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ps(a);for(var u=a.firstChild;u;){var g=u.nextSibling,y=u.nodeName;u[ms]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=g}}else a==="body"&&Ps(e.ownerDocument.body);a=l}while(a);Pn(t)}function Kf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function _u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_u(a),jl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Xp(e,t,a,s){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ms])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function Zp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kt(e.nextSibling),e===null))return null;return e}function Jf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function wu(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ip(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Su=null;function Qf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Zf(e,t,a){switch(t=xr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ps(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jl(e)}var zt=new Map,If=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oa=K.d;K.d={f:Pp,r:Fp,D:Wp,C:ey,L:ty,m:ay,X:sy,S:ny,M:iy};function Pp(){var e=oa.f(),t=gr();return e||t}function Fp(e){var t=pn(e);t!==null&&t.tag===5&&t.type==="form"?hh(t):oa.r(e)}var Xn=typeof document>"u"?null:document;function Pf(e,t,a){var s=Xn;if(s&&typeof t=="string"&&t){var l=Et(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),If.has(l)||(If.add(l),e={rel:e,crossOrigin:a,href:t},s.querySelector(l)===null&&(t=s.createElement("link"),We(t,"link",e),Qe(t),s.head.appendChild(t)))}}function Wp(e){oa.D(e),Pf("dns-prefetch",e,null)}function ey(e,t){oa.C(e,t),Pf("preconnect",e,t)}function ty(e,t,a){oa.L(e,t,a);var s=Xn;if(s&&e&&t){var l='link[rel="preload"][as="'+Et(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Et(a.imageSizes)+'"]')):l+='[href="'+Et(e)+'"]';var u=l;switch(t){case"style":u=Zn(e);break;case"script":u=In(e)}zt.has(u)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),zt.set(u,e),s.querySelector(l)!==null||t==="style"&&s.querySelector(Fs(u))||t==="script"&&s.querySelector(Ws(u))||(t=s.createElement("link"),We(t,"link",e),Qe(t),s.head.appendChild(t)))}}function ay(e,t){oa.m(e,t);var a=Xn;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Et(s)+'"][href="'+Et(e)+'"]',u=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=In(e)}if(!zt.has(u)&&(e=w({rel:"modulepreload",href:e},t),zt.set(u,e),a.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ws(u)))return}s=a.createElement("link"),We(s,"link",e),Qe(s),a.head.appendChild(s)}}}function ny(e,t,a){oa.S(e,t,a);var s=Xn;if(s&&e){var l=yn(s).hoistableStyles,u=Zn(e);t=t||"default";var g=l.get(u);if(!g){var y={loading:0,preload:null};if(g=s.querySelector(Fs(u)))y.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=zt.get(u))&&ju(e,a);var _=g=s.createElement("link");Qe(_),We(_,"link",e),_._p=new Promise(function(A,B){_.onload=A,_.onerror=B}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,jr(g,t,s)}g={type:"stylesheet",instance:g,count:1,state:y},l.set(u,g)}}}function sy(e,t){oa.X(e,t);var a=Xn;if(a&&e){var s=yn(a).hoistableScripts,l=In(e),u=s.get(l);u||(u=a.querySelector(Ws(l)),u||(e=w({src:e,async:!0},t),(t=zt.get(l))&&Eu(e,t),u=a.createElement("script"),Qe(u),We(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(l,u))}}function iy(e,t){oa.M(e,t);var a=Xn;if(a&&e){var s=yn(a).hoistableScripts,l=In(e),u=s.get(l);u||(u=a.querySelector(Ws(l)),u||(e=w({src:e,async:!0,type:"module"},t),(t=zt.get(l))&&Eu(e,t),u=a.createElement("script"),Qe(u),We(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(l,u))}}function Ff(e,t,a,s){var l=(l=da.current)?Sr(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Zn(a.href),a=yn(l).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Zn(a.href);var u=yn(l).hoistableStyles,g=u.get(e);if(g||(l=l.ownerDocument||l,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,g),(u=l.querySelector(Fs(e)))&&!u._p&&(g.instance=u,g.state.loading=5),zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zt.set(e,a),u||ry(l,e,a,g.state))),t&&s===null)throw Error(r(528,""));return g}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=In(a),a=yn(l).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Zn(e){return'href="'+Et(e)+'"'}function Fs(e){return'link[rel="stylesheet"]['+e+"]"}function Wf(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ry(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),We(t,"link",a),Qe(t),e.head.appendChild(t))}function In(e){return'[src="'+Et(e)+'"]'}function Ws(e){return"script[async]"+e}function eg(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Et(a.href)+'"]');if(s)return t.instance=s,Qe(s),s;var l=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Qe(s),We(s,"style",l),jr(s,a.precedence,e),t.instance=s;case"stylesheet":l=Zn(a.href);var u=e.querySelector(Fs(l));if(u)return t.state.loading|=4,t.instance=u,Qe(u),u;s=Wf(a),(l=zt.get(l))&&ju(s,l),u=(e.ownerDocument||e).createElement("link"),Qe(u);var g=u;return g._p=new Promise(function(y,_){g.onload=y,g.onerror=_}),We(u,"link",s),t.state.loading|=4,jr(u,a.precedence,e),t.instance=u;case"script":return u=In(a.src),(l=e.querySelector(Ws(u)))?(t.instance=l,Qe(l),l):(s=a,(l=zt.get(u))&&(s=w({},a),Eu(s,l)),e=e.ownerDocument||e,l=e.createElement("script"),Qe(l),We(l,"link",s),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,jr(s,a.precedence,e));return t.instance}function jr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,u=l,g=0;g<s.length;g++){var y=s[g];if(y.dataset.precedence===t)u=y;else if(u!==l)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Er=null;function tg(e,t,a){if(Er===null){var s=new Map,l=Er=new Map;l.set(a,s)}else l=Er,s=l.get(a),s||(s=new Map,l.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var u=a[l];if(!(u[ms]||u[Ze]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(t)||"";g=e+g;var y=s.get(g);y?y.push(u):s.set(g,[u])}}return s}function ag(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ly(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ng(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oy(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=Zn(s.href),u=t.querySelector(Fs(l));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Nr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,Qe(u);return}u=t.ownerDocument||t,s=Wf(s),(l=zt.get(l))&&ju(s,l),u=u.createElement("link"),Qe(u);var g=u;g._p=new Promise(function(y,_){g.onload=y,g.onerror=_}),We(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Nr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Nu=0;function uy(e,t){return e.stylesheets&&e.count===0&&Or(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Nu===0&&(Nu=62500*Vp());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Nu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(l)}}:null}function Nr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Or(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tr=null;function Or(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tr=new Map,t.forEach(cy,e),Tr=null,Nr.call(e))}function cy(e,t){if(!(t.state.loading&4)){var a=Tr.get(e);if(a)var s=a.get(null);else{a=new Map,Tr.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var g=l[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),s=g)}s&&a.set(null,s)}l=t.instance,g=l.getAttribute("data-precedence"),u=a.get(g)||s,u===s&&a.set(null,l),a.set(g,l),this.count++,s=Nr.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),u?u.parentNode.insertBefore(l,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ei={$$typeof:$,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function dy(e,t,a,s,l,u,g,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.hiddenUpdates=_l(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function sg(e,t,a,s,l,u,g,y,_,A,B,H){return e=new dy(e,t,a,g,_,A,B,H,y),t=1,u===!0&&(t|=24),u=mt(3,null,null,t),e.current=u,u.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},oo(u),e}function ig(e){return e?(e=Tn,e):Tn}function rg(e,t,a,s,l,u){l=ig(l),s.context===null?s.context=l:s.pendingContext=l,s=_a(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=wa(e,s,t),a!==null&&(ct(a,e,t),ks(a,e,t))}function lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Tu(e,t){lg(e,t),(e=e.alternate)&&lg(e,t)}function og(e){if(e.tag===13||e.tag===31){var t=Ja(e,67108864);t!==null&&ct(t,e,67108864),Tu(e,67108864)}}function ug(e){if(e.tag===13||e.tag===31){var t=_t();t=wl(t);var a=Ja(e,t);a!==null&&ct(a,e,t),Tu(e,t)}}var Ar=!0;function hy(e,t,a,s){var l=T.T;T.T=null;var u=K.p;try{K.p=2,Ou(e,t,a,s)}finally{K.p=u,T.T=l}}function fy(e,t,a,s){var l=T.T;T.T=null;var u=K.p;try{K.p=8,Ou(e,t,a,s)}finally{K.p=u,T.T=l}}function Ou(e,t,a,s){if(Ar){var l=Au(s);if(l===null)gu(e,t,s,Cr,a),dg(e,s);else if(my(l,e,t,a,s))s.stopPropagation();else if(dg(e,s),t&4&&-1<gy.indexOf(e)){for(;l!==null;){var u=pn(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=$a(u.pendingLanes);if(g!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var _=1<<31-ft(g);y.entanglements[1]|=_,g&=~_}Yt(u),(ve&6)===0&&(hr=dt()+500,Xs(0))}}break;case 31:case 13:y=Ja(u,2),y!==null&&ct(y,u,2),gr(),Tu(u,2)}if(u=Au(s),u===null&&gu(e,t,s,Cr,a),u===l)break;l=u}l!==null&&s.stopPropagation()}else gu(e,t,s,null,a)}}function Au(e){return e=Cl(e),Cu(e)}var Cr=null;function Cu(e){if(Cr=null,e=mn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cr=e,null}function cg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wm()){case yc:return 2;case vc:return 8;case bi:case e0:return 32;case bc:return 268435456;default:return 32}default:return 32}}var Ru=!1,ka=null,za=null,Ua=null,ti=new Map,ai=new Map,Da=[],gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dg(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(t.pointerId)}}function ni(e,t,a,s,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[l]},t!==null&&(t=pn(t),t!==null&&og(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function my(e,t,a,s,l){switch(t){case"focusin":return ka=ni(ka,e,t,a,s,l),!0;case"dragenter":return za=ni(za,e,t,a,s,l),!0;case"mouseover":return Ua=ni(Ua,e,t,a,s,l),!0;case"pointerover":var u=l.pointerId;return ti.set(u,ni(ti.get(u)||null,e,t,a,s,l)),!0;case"gotpointercapture":return u=l.pointerId,ai.set(u,ni(ai.get(u)||null,e,t,a,s,l)),!0}return!1}function hg(e){var t=mn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Ec(e.priority,function(){ug(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,Ec(e.priority,function(){ug(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Au(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Al=s,a.target.dispatchEvent(s),Al=null}else return t=pn(a),t!==null&&og(t),e.blockedOn=a,!1;t.shift()}return!0}function fg(e,t,a){Rr(e)&&a.delete(t)}function py(){Ru=!1,ka!==null&&Rr(ka)&&(ka=null),za!==null&&Rr(za)&&(za=null),Ua!==null&&Rr(Ua)&&(Ua=null),ti.forEach(fg),ai.forEach(fg)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ru||(Ru=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,py)))}var zr=null;function gg(e){zr!==e&&(zr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){zr===e&&(zr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],l=e[t+2];if(typeof s!="function"){if(Cu(s||a)===null)continue;break}var u=pn(a);u!==null&&(e.splice(t,3),t-=3,Ao(u,{pending:!0,data:l,method:a.method,action:s},s,l))}}))}function Pn(e){function t(_){return kr(_,e)}ka!==null&&kr(ka,e),za!==null&&kr(za,e),Ua!==null&&kr(Ua,e),ti.forEach(t),ai.forEach(t);for(var a=0;a<Da.length;a++){var s=Da[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Da.length&&(a=Da[0],a.blockedOn===null);)hg(a),a.blockedOn===null&&Da.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var l=a[s],u=a[s+1],g=l[st]||null;if(typeof u=="function")g||gg(a);else if(g){var y=null;if(u&&u.hasAttribute("formAction")){if(l=u,g=u[st]||null)y=g.formAction;else if(Cu(l)!==null)continue}else y=g.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),gg(a)}}}function mg(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(g){return l=g})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function ku(e){this._internalRoot=e}Ur.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=_t();rg(a,s,e,t,null,null)},Ur.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rg(e.current,2,null,e,null,null),gr(),t[gn]=null}};function Ur(e){this._internalRoot=e}Ur.prototype.unstable_scheduleHydration=function(e){if(e){var t=jc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Da.length&&t!==0&&t<Da[a].priority;a++);Da.splice(a,0,e),a===0&&hg(e)}};var pg=n.version;if(pg!=="19.2.0")throw Error(r(527,pg,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var yy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{hs=Dr.inject(yy),ht=Dr}catch{}}return ii.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,s="",l=xh,u=Sh,g=jh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=sg(e,1,!1,null,null,a,s,null,l,u,g,mg),e[gn]=t.current,fu(e),new ku(t)},ii.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var s=!1,l="",u=xh,g=Sh,y=jh,_=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=sg(e,1,!0,t,a??null,s,l,_,u,g,y,mg),t.context=ig(null),a=t.current,s=_t(),s=wl(s),l=_a(s),l.callback=null,wa(a,l,s),a=s,t.current.lanes=a,gs(t,a),Yt(t),e[gn]=t.current,fu(e),new Ur(t)},ii.version="19.2.0",ii}var xg;function Ry(){if(xg)return Du.exports;xg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),Du.exports=Cy(),Du.exports}var ky=Ry(),Qu=function(o,n){return Qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(i[c]=r[c])},Qu(o,n)};function Wg(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Qu(o,n);function i(){this.constructor=o}o.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Ir=function(){return Ir=Object.assign||function(n){for(var i,r=1,c=arguments.length;r<c;r++){i=arguments[r];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(n[d]=i[d])}return n},Ir.apply(this,arguments)};function cs(o,n){var i={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&n.indexOf(r)<0&&(i[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(o);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(o,r[c])&&(i[r[c]]=o[r[c]]);return i}function em(o,n,i,r){var c=arguments.length,d=c<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,i):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(o,n,i,r);else for(var m=o.length-1;m>=0;m--)(h=o[m])&&(d=(c<3?h(d):c>3?h(n,i,d):h(n,i))||d);return c>3&&d&&Object.defineProperty(n,i,d),d}function tm(o,n){return function(i,r){n(i,r,o)}}function am(o,n,i,r,c,d){function h(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var m=r.kind,p=m==="getter"?"get":m==="setter"?"set":"value",v=!n&&o?r.static?o:o.prototype:null,b=n||(v?Object.getOwnPropertyDescriptor(v,r.name):{}),w,x=!1,j=i.length-1;j>=0;j--){var N={};for(var C in r)N[C]=C==="access"?{}:r[C];for(var C in r.access)N.access[C]=r.access[C];N.addInitializer=function(M){if(x)throw new TypeError("Cannot add initializers after decoration has completed");d.push(h(M||null))};var D=(0,i[j])(m==="accessor"?{get:b.get,set:b.set}:b[p],N);if(m==="accessor"){if(D===void 0)continue;if(D===null||typeof D!="object")throw new TypeError("Object expected");(w=h(D.get))&&(b.get=w),(w=h(D.set))&&(b.set=w),(w=h(D.init))&&c.unshift(w)}else(w=h(D))&&(m==="field"?c.unshift(w):b[p]=w)}v&&Object.defineProperty(v,r.name,b),x=!0}function nm(o,n,i){for(var r=arguments.length>2,c=0;c<n.length;c++)i=r?n[c].call(o,i):n[c].call(o);return r?i:void 0}function sm(o){return typeof o=="symbol"?o:"".concat(o)}function im(o,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function rm(o,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,n)}function P(o,n,i,r){function c(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(b){try{v(r.next(b))}catch(w){h(w)}}function p(b){try{v(r.throw(b))}catch(w){h(w)}}function v(b){b.done?d(b.value):c(b.value).then(m,p)}v((r=r.apply(o,n||[])).next())})}function lm(o,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},r,c,d,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(b){return p([v,b])}}function p(v){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(i=0)),i;)try{if(r=1,c&&(d=v[0]&2?c.return:v[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,v[1])).done)return d;switch(c=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,c=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=n.call(o,i)}catch(b){v=[6,b],c=0}finally{r=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var sl=Object.create?(function(o,n,i,r){r===void 0&&(r=i);var c=Object.getOwnPropertyDescriptor(n,i);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(o,r,c)}):(function(o,n,i,r){r===void 0&&(r=i),o[r]=n[i]});function om(o,n){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&sl(n,o,i)}function Pr(o){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&o[n],r=0;if(i)return i.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function lc(o,n){var i=typeof Symbol=="function"&&o[Symbol.iterator];if(!i)return o;var r=i.call(o),c,d=[],h;try{for(;(n===void 0||n-- >0)&&!(c=r.next()).done;)d.push(c.value)}catch(m){h={error:m}}finally{try{c&&!c.done&&(i=r.return)&&i.call(r)}finally{if(h)throw h.error}}return d}function um(){for(var o=[],n=0;n<arguments.length;n++)o=o.concat(lc(arguments[n]));return o}function cm(){for(var o=0,n=0,i=arguments.length;n<i;n++)o+=arguments[n].length;for(var r=Array(o),c=0,n=0;n<i;n++)for(var d=arguments[n],h=0,m=d.length;h<m;h++,c++)r[c]=d[h];return r}function dm(o,n,i){if(i||arguments.length===2)for(var r=0,c=n.length,d;r<c;r++)(d||!(r in n))&&(d||(d=Array.prototype.slice.call(n,0,r)),d[r]=n[r]);return o.concat(d||Array.prototype.slice.call(n))}function ls(o){return this instanceof ls?(this.v=o,this):new ls(o)}function hm(o,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(o,n||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(j){return function(N){return Promise.resolve(N).then(j,w)}}function m(j,N){r[j]&&(c[j]=function(C){return new Promise(function(D,M){d.push([j,C,D,M])>1||p(j,C)})},N&&(c[j]=N(c[j])))}function p(j,N){try{v(r[j](N))}catch(C){x(d[0][3],C)}}function v(j){j.value instanceof ls?Promise.resolve(j.value.v).then(b,w):x(d[0][2],j)}function b(j){p("next",j)}function w(j){p("throw",j)}function x(j,N){j(N),d.shift(),d.length&&p(d[0][0],d[0][1])}}function fm(o){var n,i;return n={},r("next"),r("throw",function(c){throw c}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(c,d){n[c]=o[c]?function(h){return(i=!i)?{value:ls(o[c](h)),done:!1}:d?d(h):h}:d}}function gm(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=o[Symbol.asyncIterator],i;return n?n.call(o):(o=typeof Pr=="function"?Pr(o):o[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(d){i[d]=o[d]&&function(h){return new Promise(function(m,p){h=o[d](h),c(m,p,h.done,h.value)})}}function c(d,h,m,p){Promise.resolve(p).then(function(v){d({value:v,done:m})},h)}}function mm(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o}var zy=Object.create?(function(o,n){Object.defineProperty(o,"default",{enumerable:!0,value:n})}):function(o,n){o.default=n},Xu=function(o){return Xu=Object.getOwnPropertyNames||function(n){var i=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[i.length]=r);return i},Xu(o)};function pm(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var i=Xu(o),r=0;r<i.length;r++)i[r]!=="default"&&sl(n,o,i[r]);return zy(n,o),n}function ym(o){return o&&o.__esModule?o:{default:o}}function vm(o,n,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?o!==n||!r:!n.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(o):r?r.value:n.get(o)}function bm(o,n,i,r,c){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?o!==n||!c:!n.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?c.call(o,i):c?c.value=i:n.set(o,i),i}function _m(o,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?n===o:o.has(n)}function wm(o,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,c;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],i&&(c=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");c&&(r=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),o.stack.push({value:n,dispose:r,async:i})}else i&&o.stack.push({async:!0});return n}var Uy=typeof SuppressedError=="function"?SuppressedError:function(o,n,i){var r=new Error(i);return r.name="SuppressedError",r.error=o,r.suppressed=n,r};function xm(o){function n(d){o.error=o.hasError?new Uy(d,o.error,"An error was suppressed during disposal."):d,o.hasError=!0}var i,r=0;function c(){for(;i=o.stack.pop();)try{if(!i.async&&r===1)return r=0,o.stack.push(i),Promise.resolve().then(c);if(i.dispose){var d=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(d).then(c,function(h){return n(h),c()})}else r|=1}catch(h){n(h)}if(r===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return c()}function Sm(o,n){return typeof o=="string"&&/^\.\.?\//.test(o)?o.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,c,d,h){return r?n?".jsx":".js":c&&(!d||!h)?i:c+d+"."+h.toLowerCase()+"js"}):o}const Dy={__extends:Wg,__assign:Ir,__rest:cs,__decorate:em,__param:tm,__esDecorate:am,__runInitializers:nm,__propKey:sm,__setFunctionName:im,__metadata:rm,__awaiter:P,__generator:lm,__createBinding:sl,__exportStar:om,__values:Pr,__read:lc,__spread:um,__spreadArrays:cm,__spreadArray:dm,__await:ls,__asyncGenerator:hm,__asyncDelegator:fm,__asyncValues:gm,__makeTemplateObject:mm,__importStar:pm,__importDefault:ym,__classPrivateFieldGet:vm,__classPrivateFieldSet:bm,__classPrivateFieldIn:_m,__addDisposableResource:wm,__disposeResources:xm,__rewriteRelativeImportExtension:Sm},My=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wm,get __assign(){return Ir},__asyncDelegator:fm,__asyncGenerator:hm,__asyncValues:gm,__await:ls,__awaiter:P,__classPrivateFieldGet:vm,__classPrivateFieldIn:_m,__classPrivateFieldSet:bm,__createBinding:sl,__decorate:em,__disposeResources:xm,__esDecorate:am,__exportStar:om,__extends:Wg,__generator:lm,__importDefault:ym,__importStar:pm,__makeTemplateObject:mm,__metadata:rm,__param:tm,__propKey:sm,__read:lc,__rest:cs,__rewriteRelativeImportExtension:Sm,__runInitializers:nm,__setFunctionName:im,__spread:um,__spreadArray:dm,__spreadArrays:cm,__values:Pr,default:Dy},Symbol.toStringTag,{value:"Module"})),By=o=>o?(...n)=>o(...n):(...n)=>fetch(...n);class oc extends Error{constructor(n,i="FunctionsError",r){super(n),this.name=i,this.context=r}}class qy extends oc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Sg extends oc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class jg extends oc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Zu;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Zu||(Zu={}));class Ly{constructor(n,{headers:i={},customFetch:r,region:c=Zu.Any}={}){this.url=n,this.headers=i,this.region=c,this.fetch=By(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return P(this,arguments,void 0,function*(i,r={}){var c;let d,h;try{const{headers:m,method:p,body:v,signal:b,timeout:w}=r;let x={},{region:j}=r;j||(j=this.region);const N=new URL(`${this.url}/${i}`);j&&j!=="any"&&(x["x-region"]=j,N.searchParams.set("forceFunctionRegion",j));let C;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",C=v):typeof v=="string"?(x["Content-Type"]="text/plain",C=v):typeof FormData<"u"&&v instanceof FormData?C=v:(x["Content-Type"]="application/json",C=JSON.stringify(v)):C=v;let D=b;w&&(h=new AbortController,d=setTimeout(()=>h.abort(),w),b?(D=h.signal,b.addEventListener("abort",()=>h.abort())):D=h.signal);const M=yield this.fetch(N.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:C,signal:D}).catch(q=>{throw new qy(q)}),V=M.headers.get("x-relay-error");if(V&&V==="true")throw new Sg(M);if(!M.ok)throw new jg(M);let $=((c=M.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),k;return $==="application/json"?k=yield M.json():$==="application/octet-stream"||$==="application/pdf"?k=yield M.blob():$==="text/event-stream"?k=M:$==="multipart/form-data"?k=yield M.formData():k=yield M.text(),{data:k,error:null,response:M}}catch(m){return{data:null,error:m,response:m instanceof jg||m instanceof Sg?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var tt={};const ds=wy(My);var Mr={},Br={},qr={},Lr={},Hr={},$r={},Eg;function jm(){if(Eg)return $r;Eg=1,Object.defineProperty($r,"__esModule",{value:!0});class o extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return $r.default=o,$r}var Ng;function Em(){if(Ng)return Hr;Ng=1,Object.defineProperty(Hr,"__esModule",{value:!0});const n=ds.__importDefault(jm());class i{constructor(c){var d,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,b,w,x;let j=null,N=null,C=null,D=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const q=await p.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?N=q:N=JSON.parse(q))}const $=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),k=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");$&&k&&k.length>1&&(C=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,D=406,M="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const $=await p.text();try{j=JSON.parse($),Array.isArray(j)&&p.status===404&&(N=[],j=null,D=200,M="OK")}catch{p.status===404&&$===""?(D=204,M="No Content"):j={message:$}}if(j&&this.isMaybeSingle&&(!((x=j?.details)===null||x===void 0)&&x.includes("0 rows"))&&(j=null,D=200,M="OK"),j&&this.shouldThrowOnError)throw new n.default(j)}return{error:j,data:N,count:C,status:D,statusText:M}});return this.shouldThrowOnError||(m=m.catch(p=>{var v,b,w,x,j,N;let C="";const D=p?.cause;if(D){const M=(v=D?.message)!==null&&v!==void 0?v:"",V=(b=D?.code)!==null&&b!==void 0?b:"";C=`${(w=p?.name)!==null&&w!==void 0?w:"FetchError"}: ${p?.message}`,C+=`

Caused by: ${(x=D?.name)!==null&&x!==void 0?x:"Error"}: ${M}`,V&&(C+=` (${V})`),D?.stack&&(C+=`
${D.stack}`)}else C=(j=p?.stack)!==null&&j!==void 0?j:"";return{error:{message:`${(N=p?.name)!==null&&N!==void 0?N:"FetchError"}: ${p?.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,d)}returns(){return this}overrideTypes(){return this}}return Hr.default=i,Hr}var Tg;function Nm(){if(Tg)return Lr;Tg=1,Object.defineProperty(Lr,"__esModule",{value:!0});const n=ds.__importDefault(Em());class i extends n.default{select(c){let d=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const v=p?`${p}.order`:"order",b=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${b?`${b},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,v=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(v,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:v="text"}={}){var b;const w=[c?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${x}"; options=${w};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Lr.default=i,Lr}var Og;function uc(){if(Og)return qr;Og=1,Object.defineProperty(qr,"__esModule",{value:!0});const n=ds.__importDefault(Nm()),i=new RegExp("[,()]");class r extends n.default{eq(d,h){return this.url.searchParams.append(d,`eq.${h}`),this}neq(d,h){return this.url.searchParams.append(d,`neq.${h}`),this}gt(d,h){return this.url.searchParams.append(d,`gt.${h}`),this}gte(d,h){return this.url.searchParams.append(d,`gte.${h}`),this}lt(d,h){return this.url.searchParams.append(d,`lt.${h}`),this}lte(d,h){return this.url.searchParams.append(d,`lte.${h}`),this}like(d,h){return this.url.searchParams.append(d,`like.${h}`),this}likeAllOf(d,h){return this.url.searchParams.append(d,`like(all).{${h.join(",")}}`),this}likeAnyOf(d,h){return this.url.searchParams.append(d,`like(any).{${h.join(",")}}`),this}ilike(d,h){return this.url.searchParams.append(d,`ilike.${h}`),this}ilikeAllOf(d,h){return this.url.searchParams.append(d,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(d,h){return this.url.searchParams.append(d,`ilike(any).{${h.join(",")}}`),this}regexMatch(d,h){return this.url.searchParams.append(d,`match.${h}`),this}regexIMatch(d,h){return this.url.searchParams.append(d,`imatch.${h}`),this}is(d,h){return this.url.searchParams.append(d,`is.${h}`),this}isDistinct(d,h){return this.url.searchParams.append(d,`isdistinct.${h}`),this}in(d,h){const m=Array.from(new Set(h)).map(p=>typeof p=="string"&&i.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cs.{${h.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(h)}`),this}containedBy(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cd.{${h.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(h)}`),this}rangeGt(d,h){return this.url.searchParams.append(d,`sr.${h}`),this}rangeGte(d,h){return this.url.searchParams.append(d,`nxl.${h}`),this}rangeLt(d,h){return this.url.searchParams.append(d,`sl.${h}`),this}rangeLte(d,h){return this.url.searchParams.append(d,`nxr.${h}`),this}rangeAdjacent(d,h){return this.url.searchParams.append(d,`adj.${h}`),this}overlaps(d,h){return typeof h=="string"?this.url.searchParams.append(d,`ov.${h}`):this.url.searchParams.append(d,`ov.{${h.join(",")}}`),this}textSearch(d,h,{config:m,type:p}={}){let v="";p==="plain"?v="pl":p==="phrase"?v="ph":p==="websearch"&&(v="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${v}fts${b}.${h}`),this}match(d){return Object.entries(d).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(d,h,m){return this.url.searchParams.append(d,`not.${h}.${m}`),this}or(d,{foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${d})`),this}filter(d,h,m){return this.url.searchParams.append(d,`${h}.${m}`),this}}return qr.default=r,qr}var Ag;function Tm(){if(Ag)return Br;Ag=1,Object.defineProperty(Br,"__esModule",{value:!0});const n=ds.__importDefault(uc());class i{constructor(c,{headers:d={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(c,d){const{head:h=!1,count:m}=d??{},p=h?"HEAD":"GET";let v=!1;const b=(c??"*").split("").map(w=>/\s/.test(w)&&!v?"":(w==='"'&&(v=!v),w)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const v=c.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(v.length>0){const b=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){var v;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((x,j)=>x.concat(Object.keys(j)),[]);if(w.length>0){const x=[...new Set(w)].map(j=>`"${j}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(c,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Br.default=i,Br}var Cg;function Hy(){if(Cg)return Mr;Cg=1,Object.defineProperty(Mr,"__esModule",{value:!0});const o=ds,n=o.__importDefault(Tm()),i=o.__importDefault(uc());class r{constructor(d,{headers:h={},schema:m,fetch:p}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=p}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new r(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:p=!1,count:v}={}){var b;let w;const x=new URL(`${this.url}/rpc/${d}`);let j;m||p?(w=m?"HEAD":"GET",Object.entries(h).filter(([C,D])=>D!==void 0).map(([C,D])=>[C,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([C,D])=>{x.searchParams.append(C,D)})):(w="POST",j=h);const N=new Headers(this.headers);return v&&N.set("Prefer",`count=${v}`),new i.default({method:w,url:x,headers:N,schema:this.schemaName,body:j,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Mr.default=r,Mr}var Rg;function $y(){if(Rg)return tt;Rg=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const o=ds,n=o.__importDefault(Hy());tt.PostgrestClient=n.default;const i=o.__importDefault(Tm());tt.PostgrestQueryBuilder=i.default;const r=o.__importDefault(uc());tt.PostgrestFilterBuilder=r.default;const c=o.__importDefault(Nm());tt.PostgrestTransformBuilder=c.default;const d=o.__importDefault(Em());tt.PostgrestBuilder=d.default;const h=o.__importDefault(jm());return tt.PostgrestError=h.default,tt.default={PostgrestClient:n.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},tt}var Om=$y();const Am=xy(Om),Gy=Ey({__proto__:null,default:Am},[Om]),{PostgrestClient:Vy,PostgrestQueryBuilder:nw,PostgrestFilterBuilder:sw,PostgrestTransformBuilder:iw,PostgrestBuilder:rw,PostgrestError:lw}=Am||Gy;class Yy{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,c=parseInt(r.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const r=this.getWebSocketConstructor();return new r(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ky="2.86.0",Jy=`realtime-js/${Ky}`,Cm="1.0.0",Qy="2.0.0",kg=Cm,Iu=1e4,Xy=1e3,Zy=100;var un;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(un||(un={}));var Ke;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Ke||(Ke={}));var Lt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Lt||(Lt={}));var Pu;(function(o){o.websocket="websocket"})(Pu||(Pu={}));var cn;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(cn||(cn={}));class Iy{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,r;const c=(r=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var i,r;const c=(r=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,i,r){var c,d;const h=n.topic,m=(c=n.ref)!==null&&c!==void 0?c:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",v=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+h.length+v.length+w.length,j=new ArrayBuffer(this.HEADER_LENGTH+x);let N=new DataView(j),C=0;N.setUint8(C++,this.KINDS.userBroadcastPush),N.setUint8(C++,p.length),N.setUint8(C++,m.length),N.setUint8(C++,h.length),N.setUint8(C++,v.length),N.setUint8(C++,w.length),N.setUint8(C++,i),Array.from(p,M=>N.setUint8(C++,M.charCodeAt(0))),Array.from(m,M=>N.setUint8(C++,M.charCodeAt(0))),Array.from(h,M=>N.setUint8(C++,M.charCodeAt(0))),Array.from(v,M=>N.setUint8(C++,M.charCodeAt(0))),Array.from(w,M=>N.setUint8(C++,M.charCodeAt(0)));var D=new Uint8Array(j.byteLength+r.byteLength);return D.set(new Uint8Array(j),0),D.set(new Uint8Array(r),j.byteLength),D.buffer}decode(n,i){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return i(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,d,h,m,p]=r;return i({join_ref:c,ref:d,topic:h,event:m,payload:p})}return i({})}_binaryDecode(n){const i=new DataView(n),r=i.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,c)}}_decodeUserBroadcast(n,i,r){const c=i.getUint8(1),d=i.getUint8(2),h=i.getUint8(3),m=i.getUint8(4);let p=this.HEADER_LENGTH+4;const v=r.decode(n.slice(p,p+c));p=p+c;const b=r.decode(n.slice(p,p+d));p=p+d;const w=r.decode(n.slice(p,p+h));p=p+h;const x=n.slice(p,n.byteLength),j=m===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,N={type:this.BROADCAST_EVENT,event:b,payload:j};return h>0&&(N.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>i.includes(r)))}}class Rm{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Oe||(Oe={}));const zg=(o,n,i={})=>{var r;const c=(r=i.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,h)=>(d[h]=Py(h,o,n,c),d),{}):{}},Py=(o,n,i,r)=>{const c=n.find(m=>m.name===o),d=c?.type,h=i[o];return d&&!r.includes(d)?km(d,h):Fu(h)},km=(o,n)=>{if(o.charAt(0)==="_"){const i=o.slice(1,o.length);return tv(n,i)}switch(o){case Oe.bool:return Fy(n);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return Wy(n);case Oe.json:case Oe.jsonb:return ev(n);case Oe.timestamp:return av(n);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Fu(n);default:return Fu(n)}},Fu=o=>o,Fy=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Wy=o=>{if(typeof o=="string"){const n=parseFloat(o);if(!Number.isNaN(n))return n}return o},ev=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(n){return console.log(`JSON parse error: ${n}`),o}return o},tv=(o,n)=>{if(typeof o!="string")return o;const i=o.length-1,r=o[i];if(o[0]==="{"&&r==="}"){let d;const h=o.slice(1,i);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>km(n,m))}return o},av=o=>typeof o=="string"?o.replace(" ","T"):o,zm=o=>{const n=new URL(o);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class qu{constructor(n,i,r={},c=Iu){this.channel=n,this.event=i,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var r;return this._hasReceived(n)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ug;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Ug||(Ug={}));class oi{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oi.syncState(this.state,c,d,h),this.pendingDiffs.forEach(p=>{this.state=oi.syncDiff(this.state,p,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=oi.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,r,c){const d=this.cloneDeep(n),h=this.transformState(i),m={},p={};return this.map(d,(v,b)=>{h[v]||(p[v]=b)}),this.map(h,(v,b)=>{const w=d[v];if(w){const x=b.map(D=>D.presence_ref),j=w.map(D=>D.presence_ref),N=b.filter(D=>j.indexOf(D.presence_ref)<0),C=w.filter(D=>x.indexOf(D.presence_ref)<0);N.length>0&&(m[v]=N),C.length>0&&(p[v]=C)}else m[v]=b}),this.syncDiff(d,{joins:m,leaves:p},r,c)}static syncDiff(n,i,r,c){const{joins:d,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(m,p)=>{var v;const b=(v=n[m])!==null&&v!==void 0?v:[];if(n[m]=this.cloneDeep(p),b.length>0){const w=n[m].map(j=>j.presence_ref),x=b.filter(j=>w.indexOf(j.presence_ref)<0);n[m].unshift(...x)}r(m,b,p)}),this.map(h,(m,p)=>{let v=n[m];if(!v)return;const b=p.map(w=>w.presence_ref);v=v.filter(w=>b.indexOf(w.presence_ref)<0),n[m]=v,c(m,v,p),v.length===0&&delete n[m]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(r=>i(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,r)=>{const c=n[r];return"metas"in c?i[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[r]=c,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dg;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Dg||(Dg={}));var ui;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(ui||(ui={}));var ca;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(ca||(ca={}));class cc{constructor(n,i={config:{}},r){var c,d;if(this.topic=n,this.params=i,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new qu(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new Rm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new oi(this),this.broadcastEndpointURL=zm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,v=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(j=>j.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[ui.PRESENCE]&&this.bindings[ui.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},x={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(ca.CHANNEL_ERROR,j)),this._onClose(()=>n?.(ca.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:j})=>{var N;if(this.socket.setAuth(),j===void 0){n?.(ca.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,D=(N=C?.length)!==null&&N!==void 0?N:0,M=[];for(let V=0;V<D;V++){const $=C[V],{filter:{event:k,schema:q,table:Z,filter:ne}}=$,X=j&&j[V];if(X&&X.event===k&&X.schema===q&&X.table===Z&&X.filter===ne)M.push(Object.assign(Object.assign({},$),{id:X.id}));else{this.unsubscribe(),this.state=Ke.errored,n?.(ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,n&&n(ca.SUBSCRIBED);return}}).receive("error",j=>{this.state=Ke.errored,n?.(ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,r){return this.state===Ke.joined&&n===ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,r)}async httpSend(n,i,r={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const v=await m.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(n,i={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,p;const v=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ke.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new qu(this,Lt.leave,{},n),r.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(n,i,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),h=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),h}_push(n,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new qu(this,n,i,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Zy){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,r){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,r){var c,d;const h=n.toLocaleLowerCase(),{close:m,error:p,leave:v,join:b}=Lt;if(r&&[m,p,v,b].indexOf(h)>=0&&r!==this._joinRef())return;let x=this._onMessage(h,i,r);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var N,C,D;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((D=(C=j.filter)===null||C===void 0?void 0:C.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===h}).map(j=>j.callback(x,r)):(d=this.bindings[h])===null||d===void 0||d.filter(j=>{var N,C,D,M,V,$;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const k=j.id,q=(N=j.filter)===null||N===void 0?void 0:N.event;return k&&((C=i.ids)===null||C===void 0?void 0:C.includes(k))&&(q==="*"||q?.toLocaleLowerCase()===((D=i.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const k=(V=(M=j?.filter)===null||M===void 0?void 0:M.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return k==="*"||k===(($=i?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof x=="object"&&"ids"in x){const N=x.data,{schema:C,table:D,commit_timestamp:M,type:V,errors:$}=N;x=Object.assign(Object.assign({},{schema:C,table:D,commit_timestamp:M,eventType:V,new:{},old:{},errors:$}),this._getPayloadRecords(N))}j.callback(x,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,r){const c=n.toLocaleLowerCase(),d={type:c,filter:i,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,i){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&cc.isEqual(c.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const r in n)if(n[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Lt.close,{},n)}_onError(n){this._on(Lt.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=zg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=zg(n.columns,n.old_record)),i}}const Lu=()=>{},Gr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nv=[1e3,2e3,5e3,1e4],sv=1e4,iv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rv{constructor(n,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Iu,this.transport=null,this.heartbeatIntervalMs=Gr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.reconnectTimer=null,this.vsn=kg,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new Iy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=i?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Pu.websocket}`,this.httpEndpoint=zm(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,r){this.logger(n,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return cn.Connecting;case un.open:return cn.Open;case un.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new cc(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:r,payload:c,ref:d}=n,h=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${i} ${r} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Xy,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Gr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:c,payload:d,ref:h}=i,m=h?`(${h})`:"",p=d.status||"";this.log("receive",`${p} ${r} ${c} ${m}`.trim(),d),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(c,d,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===un.open||this.conn.readyState===un.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Lt.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${n}${r}${c}`}_workerObjectUrl(n){let i;if(n)i=n;else{const r=new Blob([iv],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const c={access_token:i,version:Jy};i&&r.updateJoinPayload(c),r.joinedOnce&&r._isJoined()&&r._push(Lt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(i)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Rm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,r,c,d,h,m,p,v,b,w,x,j;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Iu,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:Gr.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:Lu,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:kg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n?.reconnectAfterMs)!==null&&v!==void 0?v:(N=>nv[N-1]||sv),this.vsn){case Cm:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((N,C)=>C(JSON.stringify(N))),this.decode=(w=n?.decode)!==null&&w!==void 0?w:((N,C)=>C(JSON.parse(N)));break;case Qy:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(j=n?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class il extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function ze(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class lv extends il{constructor(n,i,r){super(n),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wu extends il{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const dc=o=>o?(...n)=>o(...n):(...n)=>fetch(...n),ov=()=>Response,ec=o=>{if(Array.isArray(o))return o.map(i=>ec(i));if(typeof o=="function"||o!==Object(o))return o;const n={};return Object.entries(o).forEach(([i,r])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=ec(r)}),n},uv=o=>{if(typeof o!="object"||o===null)return!1;const n=Object.getPrototypeOf(o);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},cv=o=>!o||typeof o!="string"||o.length===0||o.length>100||o.trim()!==o||o.includes("/")||o.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(o),Hu=o=>{var n;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(n=o.error)===null||n===void 0?void 0:n.message)||JSON.stringify(o)},dv=(o,n,i)=>P(void 0,void 0,void 0,function*(){const r=yield ov();o instanceof r&&!i?.noResolveJson?o.json().then(c=>{const d=o.status||500,h=c?.statusCode||d+"";n(new lv(Hu(c),d,h))}).catch(c=>{n(new Wu(Hu(c),c))}):n(new Wu(Hu(o),o))}),hv=(o,n,i,r)=>{const c={method:o,headers:n?.headers||{}};return o==="GET"||!r?c:(uv(r)?(c.headers=Object.assign({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,n?.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),i))};function mi(o,n,i,r,c,d){return P(this,void 0,void 0,function*(){return new Promise((h,m)=>{o(i,hv(n,r,c,d)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>dv(p,m,r))})})}function di(o,n,i,r){return P(this,void 0,void 0,function*(){return mi(o,"GET",n,i,r)})}function qt(o,n,i,r,c){return P(this,void 0,void 0,function*(){return mi(o,"POST",n,r,c,i)})}function tc(o,n,i,r,c){return P(this,void 0,void 0,function*(){return mi(o,"PUT",n,r,c,i)})}function fv(o,n,i,r){return P(this,void 0,void 0,function*(){return mi(o,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function hc(o,n,i,r,c){return P(this,void 0,void 0,function*(){return mi(o,"DELETE",n,r,c,i)})}class gv{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}}var Um;class mv{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[Um]="BlobDownloadBuilder",this.promise=null}asStream(){return new gv(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}}Um=Symbol.toStringTag;const pv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yv{constructor(n,i={},r,c){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=r,this.fetch=dc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,r,c){return P(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Mg),c);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",this.encodeMetadata(p)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),p&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(p))):(d=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const v=this._removeEmptyFolders(i),b=this._getFinalPath(v),w=yield(n=="PUT"?tc:qt)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ze(d))return{data:null,error:d};throw d}})}upload(n,i,r){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,r)})}uploadToSignedUrl(n,i,r,c){return P(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",i);try{let p;const v=Object.assign({upsert:Mg.upsert},c),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",v.cacheControl)):(p=r,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType);const w=yield tc(this.fetch,m.toString(),p,{headers:b});return{data:{path:d,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ze(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,i){return P(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const c=Object.assign({},this.headers);i?.upsert&&(c["x-upsert"]="true");const d=yield qt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:c}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new il("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}update(n,i,r){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,r)})}move(n,i,r){return P(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}copy(n,i,r){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}createSignedUrl(n,i,r){return P(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),d=yield qt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}createSignedUrls(n,i,r){return P(this,void 0,void 0,function*(){try{const c=yield qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}download(n,i){const c=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),h=d?`?${d}`:"",m=this._getFinalPath(n),p=()=>di(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new mv(p,this.shouldThrowOnError)}info(n){return P(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const r=yield di(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:ec(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}exists(n){return P(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield fv(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r)&&r instanceof Wu){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,i){const r=this._getFinalPath(n),c=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&c.push(d);const m=typeof i?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(i?.transform||{});p!==""&&c.push(p);let v=c.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${v}`)}}}remove(n){return P(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}list(n,i,r){return P(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},pv),i),{prefix:n||""});return{data:yield qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},r),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}listV2(n,i){return P(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Dm="2.86.0",Mm={"X-Client-Info":`storage-js/${Dm}`};class vv{constructor(n,i={},r,c){this.shouldThrowOnError=!1;const d=new URL(n);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mm),i),this.fetch=dc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return P(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield di(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}getBucket(n){return P(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}createBucket(n){return P(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}updateBucket(n,i){return P(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}emptyBucket(n){return P(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}deleteBucket(n){return P(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var hi=class extends Error{constructor(o,n){super(o),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bv(o,n,i){const r=new URL(n,o);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function _v(o){return!o||o.type==="none"?{}:o.type==="bearer"?{Authorization:`Bearer ${o.token}`}:o.type==="header"?{[o.name]:o.value}:o.type==="custom"?await o.getHeaders():{}}function wv(o){const n=o.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:c,body:d,headers:h}){const m=bv(o.baseUrl,r,c),p=await _v(o.auth),v=await n(m,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...p,...h},body:d?JSON.stringify(d):void 0}),b=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),x=w&&b?JSON.parse(b):b;if(!v.ok){const j=w?x:void 0,N=j?.error;throw new hi(N?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:N?.type,icebergCode:N?.code,details:j})}return{status:v.status,headers:v.headers,data:x}}}}function Vr(o){return o.join("")}var xv=class{constructor(o,n=""){this.client=o,this.prefix=n}async listNamespaces(o){const n=o?{parent:Vr(o.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(o,n){const i={namespace:o.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(o){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vr(o.namespace)}`})}async loadNamespaceMetadata(o){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(o.namespace)}`})).data.properties}}async namespaceExists(o){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vr(o.namespace)}`}),!0}catch(n){if(n instanceof hi&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(o,n){try{return await this.createNamespace(o,n)}catch(i){if(i instanceof hi&&i.status===409)return;throw i}}};function Fn(o){return o.join("")}var Sv=class{constructor(o,n="",i){this.client=o,this.prefix=n,this.accessDelegation=i}async listTables(o){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fn(o.namespace)}/tables`})).data.identifiers}async createTable(o,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fn(o.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(o,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fn(o.namespace)}/tables/${o.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(o,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fn(o.namespace)}/tables/${o.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(o){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fn(o.namespace)}/tables/${o.name}`,headers:n})).data.metadata}async tableExists(o){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fn(o.namespace)}/tables/${o.name}`,headers:n}),!0}catch(i){if(i instanceof hi&&i.status===404)return!1;throw i}}async createTableIfNotExists(o,n){try{return await this.createTable(o,n)}catch(i){if(i instanceof hi&&i.status===409)return await this.loadTable({namespace:o.namespace,name:n.name});throw i}}},jv=class{constructor(o){let n="v1";o.catalogName&&(n+=`/${o.catalogName}`);const i=o.baseUrl.endsWith("/")?o.baseUrl:`${o.baseUrl}/`;this.client=wv({baseUrl:i,auth:o.auth,fetchImpl:o.fetch}),this.accessDelegation=o.accessDelegation?.join(","),this.namespaceOps=new xv(this.client,n),this.tableOps=new Sv(this.client,n,this.accessDelegation)}async listNamespaces(o){return this.namespaceOps.listNamespaces(o)}async createNamespace(o,n){return this.namespaceOps.createNamespace(o,n)}async dropNamespace(o){await this.namespaceOps.dropNamespace(o)}async loadNamespaceMetadata(o){return this.namespaceOps.loadNamespaceMetadata(o)}async listTables(o){return this.tableOps.listTables(o)}async createTable(o,n){return this.tableOps.createTable(o,n)}async updateTable(o,n){return this.tableOps.updateTable(o,n)}async dropTable(o,n){await this.tableOps.dropTable(o,n)}async loadTable(o){return this.tableOps.loadTable(o)}async namespaceExists(o){return this.namespaceOps.namespaceExists(o)}async tableExists(o){return this.tableOps.tableExists(o)}async createNamespaceIfNotExists(o,n){return this.namespaceOps.createNamespaceIfNotExists(o,n)}async createTableIfNotExists(o,n){return this.tableOps.createTableIfNotExists(o,n)}};class Ev{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mm),i),this.fetch=dc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return P(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}listBuckets(n){return P(this,void 0,void 0,function*(){try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const r=i.toString(),c=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield di(this.fetch,c,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}deleteBucket(n){return P(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}from(n){if(!cv(n))throw new il("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new jv({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>P(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const fc={"X-Client-Info":`storage-js/${Dm}`,"Content-Type":"application/json"};class Bm extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xt(o){return typeof o=="object"&&o!==null&&"__isStorageVectorsError"in o}class $u extends Bm{constructor(n,i,r){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nv extends Bm{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var Bg;(function(o){o.InternalError="InternalError",o.S3VectorConflictException="S3VectorConflictException",o.S3VectorNotFoundException="S3VectorNotFoundException",o.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",o.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",o.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bg||(Bg={}));const gc=o=>o?(...n)=>o(...n):(...n)=>fetch(...n),Tv=o=>{if(typeof o!="object"||o===null)return!1;const n=Object.getPrototypeOf(o);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},qg=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Ov=(o,n,i)=>P(void 0,void 0,void 0,function*(){if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!i?.noResolveJson){const c=o.status||500,d=o;if(typeof d.json=="function")d.json().then(h=>{const m=h?.statusCode||h?.code||c+"";n(new $u(qg(h),c,m))}).catch(()=>{const h=c+"",m=d.statusText||`HTTP ${c} error`;n(new $u(m,c,h))});else{const h=c+"",m=d.statusText||`HTTP ${c} error`;n(new $u(m,c,h))}}else n(new Nv(qg(o),o))}),Av=(o,n,i,r)=>{const c={method:o,headers:n?.headers||{}};return r?(Tv(r)?(c.headers=Object.assign({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,Object.assign(Object.assign({},c),i)):c};function Cv(o,n,i,r,c,d){return P(this,void 0,void 0,function*(){return new Promise((h,m)=>{o(i,Av(n,r,c,d)).then(p=>{if(!p.ok)throw p;if(r?.noResolveJson)return p;const v=p.headers.get("content-type");return!v||!v.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>Ov(p,m,r))})})}function St(o,n,i,r,c){return P(this,void 0,void 0,function*(){return Cv(o,"POST",n,r,c,i)})}class Rv{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fc),i),this.fetch=gc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return P(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}getIndex(n,i){return P(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listIndexes(n){return P(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return P(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}}class kv{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fc),i),this.fetch=gc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return P(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield St(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}getVectors(n){return P(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}listVectors(n){return P(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield St(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}queryVectors(n){return P(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}deleteVectors(n){return P(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield St(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}}class zv{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fc),i),this.fetch=gc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return P(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}getBucket(n){return P(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}listBuckets(){return P(this,arguments,void 0,function*(n={}){try{return{data:yield St(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}deleteBucket(n){return P(this,void 0,void 0,function*(){try{return{data:(yield St(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xt(i))return{data:null,error:i};throw i}})}}class Uv extends zv{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new Dv(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return P(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return P(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return P(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return P(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class Dv extends Rv{constructor(n,i,r,c){super(n,i,c),this.vectorBucketName=r}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Mv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Mv extends kv{constructor(n,i,r,c,d){super(n,i,d),this.vectorBucketName=r,this.indexName=c}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Bv extends vv{constructor(n,i={},r,c){super(n,i,r,c)}from(n){return new yv(this.url,this.headers,n,this.fetch)}get vectors(){return new Uv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ev(this.url+"/iceberg",this.headers,this.fetch)}}const qv="2.86.0";let li="";typeof Deno<"u"?li="deno":typeof document<"u"?li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?li="react-native":li="node";const Lv={"X-Client-Info":`supabase-js-${li}/${qv}`},Hv={headers:Lv},$v={schema:"public"},Gv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vv={},Yv=o=>o?(...n)=>o(...n):(...n)=>fetch(...n),Kv=()=>Headers,Jv=(o,n,i)=>{const r=Yv(i),c=Kv();return async(d,h)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:o;let v=new c(h?.headers);return v.has("apikey")||v.set("apikey",o),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),r(d,Object.assign(Object.assign({},h),{headers:v}))}};function Qv(o){return o.endsWith("/")?o:o+"/"}function Xv(o,n){var i,r;const{db:c,auth:d,realtime:h,global:m}=o,{db:p,auth:v,realtime:b,global:w}=n,x={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},v),d),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),m),{headers:Object.assign(Object.assign({},(i=w?.headers)!==null&&i!==void 0?i:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return o.accessToken?x.accessToken=o.accessToken:delete x.accessToken,x}function Zv(o){const n=o?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qv(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qm="2.86.0",ss=30*1e3,ac=3,Gu=ac*ss,Iv="http://localhost:9999",Pv="supabase.auth.token",Fv={"X-Client-Info":`gotrue-js/${qm}`},nc="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eb=600*1e3;class fi extends Error{constructor(n,i,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function W(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class tb extends fi{constructor(n,i,r){super(n,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function ab(o){return W(o)&&o.name==="AuthApiError"}class dn extends fi{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class La extends fi{constructor(n,i,r,c){super(n,r,c),this.name=i,this.status=r}}class wt extends La{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nb(o){return W(o)&&o.name==="AuthSessionMissingError"}class Wn extends La{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yr extends La{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Kr extends La{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sb(o){return W(o)&&o.name==="AuthImplicitGrantRedirectError"}class Lg extends La{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sc extends La{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Vu(o){return W(o)&&o.name==="AuthRetryableFetchError"}class Hg extends La{constructor(n,i,r){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class ic extends La{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$g=` 	
\r=`.split(""),ib=(()=>{const o=new Array(128);for(let n=0;n<o.length;n+=1)o[n]=-1;for(let n=0;n<$g.length;n+=1)o[$g[n].charCodeAt(0)]=-2;for(let n=0;n<Fr.length;n+=1)o[Fr[n].charCodeAt(0)]=n;return o})();function Gg(o,n,i){if(o!==null)for(n.queue=n.queue<<8|o,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;i(Fr[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;i(Fr[r]),n.queuedBits-=6}}function Hm(o,n,i){const r=ib[o];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Vg(o){const n=[],i=h=>{n.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{ob(h,r,i)};for(let h=0;h<o.length;h+=1)Hm(o.charCodeAt(h),c,d);return n.join("")}function rb(o,n){if(o<=127){n(o);return}else if(o<=2047){n(192|o>>6),n(128|o&63);return}else if(o<=65535){n(224|o>>12),n(128|o>>6&63),n(128|o&63);return}else if(o<=1114111){n(240|o>>18),n(128|o>>12&63),n(128|o>>6&63),n(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function lb(o,n){for(let i=0;i<o.length;i+=1){let r=o.charCodeAt(i);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(o.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}rb(r,n)}}function ob(o,n,i){if(n.utf8seq===0){if(o<=127){i(o);return}for(let r=1;r<6;r+=1)if((o>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=o&31;else if(n.utf8seq===3)n.codepoint=o&15;else if(n.utf8seq===4)n.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|o&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function rs(o){const n=[],i={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<o.length;c+=1)Hm(o.charCodeAt(c),i,r);return new Uint8Array(n)}function ub(o){const n=[];return lb(o,i=>n.push(i)),new Uint8Array(n)}function hn(o){const n=[],i={queue:0,queuedBits:0},r=c=>{n.push(c)};return o.forEach(c=>Gg(c,i,r)),Gg(null,i,r),n.join("")}function cb(o){return Math.round(Date.now()/1e3)+o}function db(){return Symbol("auth-callback")}const et=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},$m=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function hb(o){const n={},i=new URL(o);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return i.searchParams.forEach((r,c)=>{n[c]=r}),n}const Gm=o=>o?(...n)=>o(...n):(...n)=>fetch(...n),fb=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",is=async(o,n,i)=>{await o.setItem(n,JSON.stringify(i))},ln=async(o,n)=>{const i=await o.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Ba=async(o,n)=>{await o.removeItem(n)};class rl{constructor(){this.promise=new rl.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}rl.promiseConstructor=Promise;function Yu(o){const n=o.split(".");if(n.length!==3)throw new ic("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Wv.test(n[r]))throw new ic("JWT not in base64url format");return{header:JSON.parse(Vg(n[0])),payload:JSON.parse(Vg(n[1])),signature:rs(n[2]),raw:{header:n[0],payload:n[1]}}}async function gb(o){return await new Promise(n=>{setTimeout(()=>n(null),o)})}function mb(o,n){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await o(d);if(!n(d,null,h)){r(h);return}}catch(h){if(!n(d,h)){c(h);return}}})()})}function pb(o){return("0"+o.toString(16)).substr(-2)}function yb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,pb).join("")}async function vb(o){const i=new TextEncoder().encode(o),r=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function bb(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const i=await vb(o);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(o,n,i=!1){const r=yb();let c=r;i&&(c+="/PASSWORD_RECOVERY"),await is(o,`${n}-code-verifier`,c);const d=await bb(r);return[d,r===d?"plain":"s256"]}const _b=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wb(o){const n=o.headers.get(nc);if(!n||!n.match(_b))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function xb(o){if(!o)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(o<=n)throw new Error("JWT has expired")}function Sb(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(o){if(!jb.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ku(){const o={};return new Proxy(o,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Eb(o,n){return new Proxy(o,{get:(i,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,r,c)}})}function Yg(o){return JSON.parse(JSON.stringify(o))}const on=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Nb=[502,503,504];async function Kg(o){var n;if(!fb(o))throw new sc(on(o),0);if(Nb.includes(o.status))throw new sc(on(o),o.status);let i;try{i=await o.json()}catch(d){throw new dn(on(d),d)}let r;const c=wb(o);if(c&&c.getTime()>=Lm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Hg(on(i),o.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new wt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Hg(on(i),o.status,i.weak_password.reasons);throw new tb(on(i),o.status||500,r)}const Tb=(o,n,i,r)=>{const c={method:o,headers:n?.headers||{}};return o==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),i))};async function ie(o,n,i,r){var c;const d=Object.assign({},r?.headers);d[nc]||(d[nc]=Lm["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const h=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(h.redirect_to=r.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Ob(o,n,i+m,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function Ob(o,n,i,r,c,d){const h=Tb(n,r,c,d);let m;try{m=await o(i,Object.assign({},h))}catch(p){throw console.error(p),new sc(on(p),0)}if(m.ok||await Kg(m),r?.noResolveJson)return m;try{return await m.json()}catch(p){await Kg(p)}}function Bt(o){var n;let i=null;Rb(o)&&(i=Object.assign({},o),o.expires_at||(i.expires_at=cb(o.expires_in)));const r=(n=o.user)!==null&&n!==void 0?n:o;return{data:{session:i,user:r},error:null}}function Jg(o){const n=Bt(o);return!n.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(n.data.weak_password=o.weak_password),n}function qa(o){var n;return{data:{user:(n=o.user)!==null&&n!==void 0?n:o},error:null}}function Ab(o){return{data:o,error:null}}function Cb(o){const{action_link:n,email_otp:i,hashed_token:r,redirect_to:c,verification_type:d}=o,h=cs(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:i,hashed_token:r,redirect_to:c,verification_type:d},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function Qg(o){return o}function Rb(o){return o.access_token&&o.refresh_token&&o.expires_in}const Ju=["global","local","others"];class kb{constructor({url:n="",headers:i={},fetch:r}){this.url=n,this.headers=i,this.fetch=Gm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Ju[0]){if(Ju.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,i={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:qa})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:i}=n,r=cs(n,["options"]),c=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Cb,redirectTo:i?.redirectTo})}catch(i){if(W(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:qa})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,r,c,d,h,m,p;try{const v={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Qg});if(b.error)throw b.error;const w=await b.json(),x=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(N.split(";")[1].split("=")[1]);v[`${D}Page`]=C}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(W(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){ts(n);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:qa})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){ts(n);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:qa})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,i=!1){ts(n);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:qa})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){ts(n.userId);try{const{data:i,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:r}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteFactor(n){ts(n.userId),ts(n.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,r,c,d,h,m,p;try{const v={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Qg});if(b.error)throw b.error;const w=await b.json(),x=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(N.split(";")[1].split("=")[1]);v[`${D}Page`]=C}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(W(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}}function Xg(o={}){return{getItem:n=>o[n]||null,setItem:(n,i)=>{o[n]=i},removeItem:n=>{delete o[n]}}}const as={debug:!!(globalThis&&$m()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class zb extends Vm{}async function Ub(o,n,i){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),as.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,c.name);try{return await i()}finally{as.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,c.name)}}else{if(n===0)throw as.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new zb(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(as.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Db(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ym(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function Mb(o){return parseInt(o,16)}function Bb(o){const n=new TextEncoder().encode(o);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function qb(o){var n;const{chainId:i,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:m,requestId:p,resources:v,scheme:b,uri:w,version:x}=o;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=o.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const j=Ym(o.address),N=b?`${b}://${r}`:r,C=o.statement?`${o.statement}
`:"",D=`${N} wants you to sign in with your Ethereum account:
${j}

${C}`;let M=`URI: ${w}
Version: ${x}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(M+=`
Expiration Time: ${c.toISOString()}`),m&&(M+=`
Not Before: ${m.toISOString()}`),p&&(M+=`
Request ID: ${p}`),v){let V=`
Resources:`;for(const $ of v){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);V+=`
- ${$}`}M+=V}return`${D}
${M}`}class Ve extends Error{constructor({message:n,code:i,cause:r,name:c}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Wr extends Ve{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function Lb({error:o,options:n}){var i,r,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new Ve({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const h=window.location.hostname;if(Km(h)){if(d.rp.id!==h)return new Ve({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function Hb({error:o,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new Ve({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const r=window.location.hostname;if(Km(r)){if(i.rpId!==r)return new Ve({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class $b{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Gb=new $b;function Vb(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:n,user:i,excludeCredentials:r}=o,c=cs(o,["challenge","user","excludeCredentials"]),d=rs(n).buffer,h=Object.assign(Object.assign({},i),{id:rs(i.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:h});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const v=r[p];m.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:rs(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function Yb(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:n,allowCredentials:i}=o,r=cs(o,["challenge","allowCredentials"]),c=rs(n).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];d.allowCredentials[h]=Object.assign(Object.assign({},m),{id:rs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Kb(o){var n;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const i=o;return{id:o.id,rawId:o.id,response:{attestationObject:hn(new Uint8Array(o.response.attestationObject)),clientDataJSON:hn(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jb(o){var n;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const i=o,r=o.getClientExtensionResults(),c=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:hn(new Uint8Array(c.authenticatorData)),clientDataJSON:hn(new Uint8Array(c.clientDataJSON)),signature:hn(new Uint8Array(c.signature)),userHandle:c.userHandle?hn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Km(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function Zg(){var o,n;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Qb(o){try{const n=await navigator.credentials.create(o);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Wr("Browser returned unexpected credential type",n)}:{data:null,error:new Wr("Empty credential response",n)}}catch(n){return{data:null,error:Lb({error:n,options:o})}}}async function Xb(o){try{const n=await navigator.credentials.get(o);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Wr("Browser returned unexpected credential type",n)}:{data:null,error:new Wr("Empty credential response",n)}}catch(n){return{data:null,error:Hb({error:n,options:o})}}}const Zb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ib={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function el(...o){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of o)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))r[d]=h;else if(i(h))r[d]=h;else if(n(h)){const m=r[d];n(m)?r[d]=el(m,h):r[d]=el(h)}else r[d]=h}return r}function Pb(o,n){return el(Zb,o,n||{})}function Fb(o,n){return el(Ib,o,n||{})}class Wb{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:r,signal:c},d){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:m};const p=c??Gb.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${r}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=Pb(h.webauthn.credential_options.publicKey,d?.create),{data:b,error:w}=await Qb({publicKey:v,signal:p});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const v=Fb(h.webauthn.credential_options.publicKey,d?.request),{data:b,error:w}=await Xb(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:p}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new dn("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new fi("rpId is required for WebAuthn authentication")};try{if(!Zg())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:r},signal:c},{request:d});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:r,credential_response:p.credential_response}})}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new dn("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new fi("rpId is required for WebAuthn registration")};try{if(!Zg())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:p,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:c},{create:d});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new dn("Unexpected error in register",h)}}}}Db();const e_={url:Iv,storageKey:Pv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ig(o,n,i){return await i()}const ns={};class gi{get jwks(){var n,i;return(i=(n=ns[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){ns[this.storageKey]=Object.assign(Object.assign({},ns[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=ns[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ns[this.storageKey]=Object.assign(Object.assign({},ns[this.storageKey]),{cachedAt:n})}constructor(n){var i,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},e_),n);if(this.storageKey=d.storageKey,this.instanceID=(i=gi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,gi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&et()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new kb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Gm(d.fetch),this.lock=d.lock||Ig,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:et()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ub:this.lock=Ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:$m()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},r="none";if(et()&&(i=hb(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),et()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),sb(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return W(i)?this._returnResult({error:i}):this._returnResult({error:new dn("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,r,c;try{const d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Bt}),{data:h,error:m}=d;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var i,r,c;try{let d;if("email"in n){const{email:b,password:w,options:x}=n;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await es(this.storage,this.storageKey)),d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:b,password:w,data:(i=x?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:j,code_challenge_method:N},xform:Bt})}else if("phone"in n){const{phone:b,password:w,options:x}=n;d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Bt})}else throw new Yr("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:h,options:m}=n;i=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Jg})}else if("phone"in n){const{phone:d,password:h,options:m}=n;i=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Jg})}else throw new Yr("You must provide either an email or phone number and a password");const{data:r,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new Wn;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,r,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,r,c,d,h,m,p,v,b,w,x;let j,N;if("message"in n)j=n.message,N=n.signature;else{const{chain:C,wallet:D,statement:M,options:V}=n;let $;if(et())if(typeof D=="object")$=D;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")$=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=D}const k=new URL((i=V?.url)!==null&&i!==void 0?i:window.location.href),q=await $.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=Ym(q[0]);let ne=(r=V?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!ne){const te=await $.request({method:"eth_chainId"});ne=Mb(te)}const X={domain:k.host,address:Z,statement:M,uri:k.href,version:"1",chainId:ne,nonce:(c=V?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=V?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=V?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=V?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=V?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=V?.signInWithEthereum)===null||b===void 0?void 0:b.resources};j=qb(X),N=await $.request({method:"personal_sign",params:[Bb(j),Z]})}try{const{data:C,error:D}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:N},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Bt});if(D)throw D;if(!C||!C.session||!C.user){const M=new Wn;return this._returnResult({data:{user:null,session:null},error:M})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:D})}catch(C){if(W(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var i,r,c,d,h,m,p,v,b,w,x,j;let N,C;if("message"in n)N=n.message,C=n.signature;else{const{chain:D,wallet:M,statement:V,options:$}=n;let k;if(et())if(typeof M=="object")k=M;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))k=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=M}const q=new URL((i=$?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in k&&k.signIn){const Z=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),V?{statement:V}:null));let ne;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")ne=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)ne=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)N=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),C=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${q.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(c=(r=$?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=$?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((h=$?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((v=$?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((w=(b=$?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...$.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const Z=await k.signMessage(new TextEncoder().encode(N),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Z}}try{const{data:D,error:M}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:hn(C)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Bt});if(M)throw M;if(!D||!D.session||!D.user){const V=new Wn;return this._returnResult({data:{user:null,session:null},error:V})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:M})}catch(D){if(W(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(n){const i=await ln(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(i??"").split("/");try{const{data:d,error:h}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Bt});if(await Ba(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const m=new Wn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:i,provider:r,token:c,access_token:d,nonce:h}=n,m=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Bt}),{data:p,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p||!p.session||!p.user){const b=new Wn;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:v})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,r,c,d,h;try{if("email"in n){const{email:m,options:p}=n;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await es(this.storage,this.storageKey));const{error:w}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in n){const{phone:m,options:p}=n,{data:v,error:b}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:b})}throw new Yr("You must provide either an email or phone number.")}catch(m){if(W(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var i,r;try{let c,d;"options"in n&&(c=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:m}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Bt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,v=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var i,r,c,d,h;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await es(this.storage,this.storageKey));const v=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:Ab});return!((d=v.data)===null||d===void 0)&&d.url&&et()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(W(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:r}=n;if(r)throw r;if(!i)throw new wt;const{error:c}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:d}=n,{error:h}=await ie(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:r,type:c,options:d}=n,{data:h,error:m}=await ie(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Yr("You must provide either an email or phone number and a type")}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Gu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const h=await ln(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Ku()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=Eb(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:qa}):await this._useSession(async i=>{var r,c,d;const{data:h,error:m}=i;if(m)throw m;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:qa})})}catch(i){if(W(i))return nb(i)&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new wt;const h=c.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await es(this.storage,this.storageKey));const{data:v,error:b}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:qa});if(b)throw b;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(r){if(W(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new wt;const i=Date.now()/1e3;let r=i,c=!0,d=null;const{payload:h}=Yu(n.access_token);if(h.exp&&(r=h.exp,c=r<=i),c){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)throw p;d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var r;if(!n){const{data:h,error:m}=i;if(m)throw m;n=(r=h.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new wt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!et())throw new Kr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Kr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kr("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Lg("No code detected.");const{data:V,error:$}=await this._exchangeCodeForSession(n.code);if($)throw $;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:p,token_type:v}=n;if(!d||!m||!h||!v)throw new Kr("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(m);let x=b+w;p&&(x=parseInt(p));const j=x-b;j*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${w}s`);const N=x-w;b-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,x,b):b-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,x,b);const{data:C,error:D}=await this._getUser(d);if(D)throw D;const M={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:x,refresh_token:h,token_type:v,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:n.type},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const h=(r=c.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(ab(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=db(),r={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async i=>{var r,c;try{const{data:{session:d},error:h}=i;if(h)throw h;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await es(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(W(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:r,error:c}=await this._useSession(async d=>{var h,m,p,v,b;const{data:w,error:x}=d;if(x)throw x;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",j,{headers:this.headers,jwt:(b=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return et()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(W(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var r;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:h,provider:m,token:p,access_token:v,nonce:b}=n,w=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:p,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Bt}),{data:x,error:j}=w;return j?this._returnResult({data:{user:null,session:null},error:j}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Wn}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:j}))}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var r,c;const{data:d,error:h}=i;if(h)throw h;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await mb(async c=>(c>0&&await gb(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Bt})),(c,d)=>{const h=200*Math.pow(2,c);return d&&Vu(d)&&Date.now()+h-r<ss})}catch(r){if(this._debug(i,"error",r),W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",r),et()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await ln(this.storage,this.storageKey);if(c&&this.userStorage){let h=await ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await is(this.userStorage,this.storageKey+"-user",h)),c.user=(n=h?.user)!==null&&n!==void 0?n:Ku()}else if(c&&!c.user&&!c.user){const h=await ln(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await Ba(this.storage,this.storageKey+"-user"),await is(this.storage,this.storageKey,c)):c.user=Ku()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Gu;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Gu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Vu(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var i,r;if(!n)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new rl;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new wt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),W(d)){const h={data:null,error:d};return Vu(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,i,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,i)}catch(p){d.push(p)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const i=Object.assign({},n),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await is(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=Yg(c);await is(this.storage,this.storageKey,d)}else{const c=Yg(i);await is(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Ba(this.storage,this.storageKey),await Ba(this.storage,this.storageKey+"-code-verifier"),await Ba(this.storage,this.storageKey+"-user"),this.userStorage&&await Ba(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ss}ms, refresh threshold is ${ac} ticks`),c<=ac&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Vm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,r){const c=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,h]=await es(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await ie(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var r,c;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:v}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Kb(n.webauthn.credential_response):Jb(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await ie(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=await ie(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Vb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Yb(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=i?.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Yu(r.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const v=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:r},error:c}=i;return c?this._returnResult({data:null,error:c}):r?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new wt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new wt});const h=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&et()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,i){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new wt});const h=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&et()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:r}=n;return r?this._returnResult({data:null,error:r}):i?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new wt})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:r},error:c}=i;return c?this._returnResult({data:null,error:c}):r?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let r=i.keys.find(m=>m.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===n),r&&this.jwks_cached_at+eb>c)return r;const{data:d,error:h}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(m=>m.kid===n),!r)?null:r}async getClaims(n,i={}){try{let r=n;if(!r){const{data:j,error:N}=await this.getSession();if(N||!j.session)return this._returnResult({data:null,error:N});r=j.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:p}}=Yu(r);i?.allowExpired||xb(d.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!v){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:d,header:c,signature:h},error:null}}const b=Sb(c.alg),w=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,h,ub(`${m}.${p}`)))throw new ic("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}}gi.nextInstanceID={};const t_=gi;class a_ extends t_{constructor(n){super(n)}}class n_{constructor(n,i,r){var c,d,h;this.supabaseUrl=n,this.supabaseKey=i;const m=Zv(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,v={db:$v,realtime:Vv,auth:Object.assign(Object.assign({},Gv),{storageKey:p}),global:Hv},b=Xv(r??{},v);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=Jv(i,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new Vy(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Bv(this.storageUrl.href,this.headers,this.fetch,r?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Ly(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,r)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:r,storage:c,userStorage:d,storageKey:h,flowType:m,lock:p,debug:v,throwOnError:b},w,x){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a_({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),w),storageKey:h,autoRefreshToken:n,persistSession:i,detectSessionInUrl:r,storage:c,userStorage:d,flowType:m,lock:p,debug:v,throwOnError:b,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new rv(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r?.access_token)})}_handleTokenChanged(n,i,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const s_=(o,n,i)=>new n_(o,n,i);function i_(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const n=o.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}i_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const r_="https://nvpknwtppuejrffaswlh.supabase.co",l_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52cGtud3RwcHVlanJmZmFzd2xoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NzY0OTAsImV4cCI6MjA3MjE1MjQ5MH0.6acQrRjS5RUXOF9j3TqZ0ikj6oVzA71opR5gIa6NFsQ",oe=s_(r_,l_,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"supabase.auth.token"}});const o_=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u_=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),Pg=o=>{const n=u_(o);return n.charAt(0).toUpperCase()+n.slice(1)},Jm=(...o)=>o.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim(),c_=o=>{for(const n in o)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var d_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h_=Y.forwardRef(({color:o="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:h,...m},p)=>Y.createElement("svg",{ref:p,...d_,width:n,height:n,stroke:o,strokeWidth:r?Number(i)*24/Number(n):i,className:Jm("lucide",c),...!d&&!c_(m)&&{"aria-hidden":"true"},...m},[...h.map(([v,b])=>Y.createElement(v,b)),...Array.isArray(d)?d:[d]]));const qe=(o,n)=>{const i=Y.forwardRef(({className:r,...c},d)=>Y.createElement(h_,{ref:d,iconNode:n,className:Jm(`lucide-${o_(Pg(o))}`,`lucide-${o}`,r),...c}));return i.displayName=Pg(o),i};const f_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ll=qe("arrow-left",f_);const g_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tl=qe("bell",g_);const m_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ci=qe("calendar",m_);const p_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],y_=qe("circle-alert",p_);const v_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],b_=qe("database",v_);const __=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],al=qe("dollar-sign",__);const w_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qm=qe("eye-off",w_);const x_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xm=qe("eye",x_);const S_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fg=qe("lock",S_);const j_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],E_=qe("log-in",j_);const N_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],T_=qe("log-out",N_);const O_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zm=qe("mail",O_);const A_=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],C_=qe("phone",A_);const R_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ol=qe("plus",R_);const k_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],os=qe("refresh-cw",k_);const z_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ul=qe("save",z_);const U_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cl=qe("square-pen",U_);const D_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dl=qe("trash-2",D_);const M_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],B_=qe("user",M_);const q_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nl=qe("users",q_);const L_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hl=qe("x",L_),H_=()=>{const[o,n]=Y.useState(""),[i,r]=Y.useState(""),[c,d]=Y.useState(""),[h,m]=Y.useState(!1),[p,v]=Y.useState("attendee"),[b,w]=Y.useState(!1),[x,j]=Y.useState(!1),[N,C]=Y.useState({full_name:"",email:"",password:"",confirmPassword:""}),D=async q=>{if(q.preventDefault(),d(""),!N.full_name||!N.email||!N.password){d("All fields are required");return}if(N.password.length<6){d("Password must be at least 6 characters");return}if(N.password!==N.confirmPassword){d("Passwords do not match");return}m(!0);try{console.log(" Starting attendee signup...");const ne=await(await fetch("https://event-manager-app-jade.vercel.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:N.full_name.trim(),email:N.email.trim(),password:N.password})})).json();ne.success?(console.log(" Signup successful"),d(""),alert(" Registration successful! You can now login with your credentials."),w(!1),n(N.email),C({full_name:"",email:"",password:"",confirmPassword:""})):d(ne.error||"Registration failed")}catch(Z){console.error(" Signup error:",Z),d("Network error. Please try again.")}finally{m(!1)}},M=async()=>{d(""),m(!0);try{console.log(" Starting Google OAuth...");const{data:q,error:Z}=await oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(Z)throw new Error(Z.message);console.log(" Google OAuth initiated")}catch(q){console.error(" Google OAuth error:",q),d(q.message||"Google login failed"),m(!1)}},V=async q=>{q.preventDefault(),d(""),m(!0);try{const{data:Z,error:ne}=await oe.auth.signInWithPassword({email:o.trim(),password:i});if(ne)throw new Error(ne.message);Z.user&&(console.log(" Attendee login successful"),window.location.href="/events")}catch(Z){d(Z.message||"Failed to login")}finally{m(!1)}},$=async q=>{q.preventDefault(),d(""),m(!0);try{console.log(" Starting organizer login for:",o);const{data:Z,error:ne}=await oe.auth.signInWithPassword({email:o.trim(),password:i});if(ne)throw console.error(" Login error:",ne),new Error("Invalid email or password");console.log(" Login successful, checking organizer role...");const te=await(await fetch("https://event-manager-app-jade.vercel.app/api/auth/verify-organizer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.trim()})})).json();if(console.log(" Organizer verification result:",te),te.success&&te.isOrganizer)console.log(" Organizer access granted! Redirecting..."),window.location.href="/organizer/dashboard";else throw console.log(" Not an organizer - signing out"),await oe.auth.signOut(),new Error(te.error||"Access denied. Organizer role required.")}catch(Z){console.error(" Organizer login failed:",Z),d(Z.message||"Failed to login as organizer")}finally{m(!1)}},k=q=>{p==="organizer"?$(q):b?D(q):V(q)};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:b?"Create Your Account":"Sign in to your account"}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:b?"Join us to explore amazing events":"Choose your login type"})]}),!b&&f.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[f.jsx("button",{type:"button",onClick:()=>v("attendee"),className:`px-4 py-2 rounded-md font-medium ${p==="attendee"?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Attendee"}),f.jsx("button",{type:"button",onClick:()=>v("organizer"),className:`px-4 py-2 rounded-md font-medium ${p==="organizer"?"bg-green-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Organizer"})]}),p==="attendee"&&!b&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("button",{onClick:M,disabled:h,className:"w-full flex justify-center items-center gap-3 py-3 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[f.jsx("img",{className:"h-5 w-5",src:"https://www.google.com/favicon.ico",alt:"Google"}),"Sign in with Google"]}),f.jsxs("div",{className:"mt-4 flex items-center",children:[f.jsx("div",{className:"flex-1 border-t border-gray-300"}),f.jsx("div",{className:"px-3 text-sm text-gray-500",children:"or"}),f.jsx("div",{className:"flex-1 border-t border-gray-300"})]})]}),f.jsxs("form",{className:"mt-4 space-y-4",onSubmit:k,children:[b&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),f.jsxs("div",{className:"relative",children:[f.jsx(B_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{id:"full_name",name:"full_name",type:"text",required:!0,className:"appearance-none rounded-md relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name",value:N.full_name,onChange:q=>C({...N,full_name:q.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),f.jsxs("div",{className:"relative",children:[f.jsx(Zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"user@example.com",value:b?N.email:o,onChange:q=>b?C({...N,email:q.target.value}):n(q.target.value)})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(Fg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:b?"new-password":"current-password",required:!0,className:"appearance-none rounded-md relative block w-full pl-10 pr-10 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:b?"Create password (min. 6 characters)":"Enter your password",value:b?N.password:i,onChange:q=>b?C({...N,password:q.target.value}):r(q.target.value)}),f.jsx("button",{type:"button",onClick:()=>j(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?f.jsx(Qm,{className:"w-5 h-5"}):f.jsx(Xm,{className:"w-5 h-5"})})]})]}),b&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(Fg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-md relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password",value:N.confirmPassword,onChange:q=>C({...N,confirmPassword:q.target.value})})]})]}),c&&f.jsx("div",{className:"rounded-md bg-red-50 p-4",children:f.jsx("div",{className:"text-sm text-red-700",children:c})}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:h,className:`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white ${p==="organizer"?"bg-green-600 hover:bg-green-700 focus:ring-green-500":b?"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${h?"opacity-50 cursor-not-allowed":""}`,children:h?f.jsxs("span",{className:"flex items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),b?"Creating Account...":"Signing in..."]}):f.jsxs("span",{className:"flex items-center",children:[f.jsx(E_,{className:"w-4 h-4 mr-2"}),b?"Create Account":`Sign in as ${p}`]})})})]}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-sm text-gray-600",children:[b?"Already have an account? ":"Don't have an account? ",p==="attendee"?f.jsx("button",{type:"button",onClick:()=>w(!b),className:"font-medium text-blue-600 hover:text-blue-500",children:b?"Sign in here":"Sign up here"}):f.jsx("span",{className:"text-gray-500",children:"Contact admin for organizer account"})]})}),f.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-md border border-blue-200",children:f.jsxs("p",{className:"text-sm text-blue-700",children:[f.jsx("strong",{children:"Current Mode:"})," ",b?"Attendee Signup":`${p} Login`,p==="organizer"&&f.jsx("span",{className:"block mt-1 text-xs",children:"Organizers must use email/password login. Contact support for organizer access."}),p==="attendee"&&!b&&f.jsx("span",{className:"block mt-1 text-xs",children:"Attendees can sign up or login with Google or email/password."})]})})]})})};function Jr(o){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)o[r]=i[r]}return o}var $_={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function rc(o,n){function i(c,d,h){if(!(typeof document>"u")){h=Jr({},n,h),typeof h.expires=="number"&&(h.expires=new Date(Date.now()+h.expires*864e5)),h.expires&&(h.expires=h.expires.toUTCString()),c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var m="";for(var p in h)h[p]&&(m+="; "+p,h[p]!==!0&&(m+="="+h[p].split(";")[0]));return document.cookie=c+"="+o.write(d,c)+m}}function r(c){if(!(typeof document>"u"||arguments.length&&!c)){for(var d=document.cookie?document.cookie.split("; "):[],h={},m=0;m<d.length;m++){var p=d[m].split("="),v=p.slice(1).join("=");try{var b=decodeURIComponent(p[0]);if(h[b]=o.read(v,b),c===b)break}catch{}}return c?h[c]:h}}return Object.create({set:i,get:r,remove:function(c,d){i(c,"",Jr({},d,{expires:-1}))},withAttributes:function(c){return rc(this.converter,Jr({},this.attributes,c))},withConverter:function(c){return rc(Jr({},this.converter,c),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(o)}})}var Qr=rc($_,{path:"/"});const G_=({eventId:o,user:n})=>{const[i,r]=Y.useState([]),[c,d]=Y.useState(""),[h,m]=Y.useState(!1),[p,v]=Y.useState(null),[b,w]=Y.useState(null),[x,j]=Y.useState("");Y.useEffect(()=>{N()},[o]);const N=async()=>{try{const{data:k,error:q}=await oe.from("comments").select("*").eq("event_id",parseInt(o)).order("created_at",{ascending:!1});if(q)throw q;r(k||[])}catch(k){console.error("Error fetching comments:",k)}},C=async()=>{if(!c.trim()){alert("Please write a comment");return}m(!0);try{const{data:k,error:q}=await oe.from("comments").insert([{event_id:parseInt(o),user_id:n.id,author_name:n.user_metadata?.full_name||n.email,comment_text:c.trim()}]).select();if(q)throw q;d(""),N()}catch(k){console.error("Error adding comment:",k),alert("Failed to add comment")}finally{m(!1)}},D=k=>{if(k.user_id!==n.id){alert("You can only edit your own comments!");return}w(k.id),j(k.comment_text)},M=()=>{w(null),j("")},V=async k=>{if(!x.trim()){alert("Comment text cannot be empty");return}try{const{error:q}=await oe.from("comments").update({comment_text:x.trim()}).eq("id",k).eq("user_id",n.id);if(q)throw q;w(null),j(""),N()}catch(q){console.error("Error updating comment:",q),alert("Failed to update comment")}},$=async k=>{if(window.confirm("Are you sure you want to delete this comment?")){v(k);try{const{error:q}=await oe.from("comments").delete().eq("id",k).eq("user_id",n.id);if(q)throw q;N()}catch(q){console.error("Error deleting comment:",q),alert("Failed to delete comment")}finally{v(null)}}};return f.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[f.jsxs("h4",{className:"font-semibold text-blue-900 mb-3",children:[" Comments (",i.length,")"]}),f.jsxs("div",{className:"space-y-2 mb-3",children:[f.jsx("textarea",{placeholder:"Add your comment...",value:c,onChange:k=>d(k.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",rows:"3"}),f.jsx("button",{onClick:C,disabled:h,className:"w-full py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all disabled:bg-gray-400 text-sm",children:h?"Adding...":" Add Comment"})]}),i.length===0?f.jsx("p",{className:"text-blue-700 text-sm text-center py-3",children:"No comments yet. Be the first!"}):f.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:i.map(k=>{const q=k.user_id===n.id;return f.jsxs("div",{className:"p-3 bg-white rounded-lg border border-blue-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsxs("span",{className:"font-semibold text-blue-900 text-sm",children:[k.author_name,q&&f.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:"You"})]}),f.jsx("span",{className:"text-xs text-blue-600",children:new Date(k.created_at).toLocaleDateString()})]}),b===k.id?f.jsxs("div",{className:"space-y-2",children:[f.jsx("textarea",{value:x,onChange:Z=>j(Z.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:"3"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>V(k.id),className:"text-xs text-green-600 hover:text-green-800 hover:bg-green-50 px-3 py-1 rounded font-medium transition-colors",children:" Save"}),f.jsx("button",{onClick:M,className:"text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-50 px-3 py-1 rounded font-medium transition-colors",children:" Cancel"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-blue-800 text-sm mb-2",children:k.comment_text}),q&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>D(k),className:"text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-2 py-1 rounded font-medium transition-colors",children:" Edit"}),f.jsx("button",{onClick:()=>$(k.id),disabled:p===k.id,className:"text-xs text-red-600 hover:text-red-800 hover:bg-red-50 px-2 py-1 rounded font-medium transition-colors disabled:opacity-50",children:p===k.id?" Deleting...":" Delete"})]})]})]},k.id)})})]})},V_=({eventId:o})=>{const[n,i]=Y.useState(0),[r,c]=Y.useState([]),[d,h]=Y.useState(!1),[m,p]=Y.useState(""),[v,b]=Y.useState(!1),[w,x]=Y.useState(!1),j=async()=>{try{const V=await(await fetch(`https://event-manager-app-jade.vercel.app/api/events/${o}/attendance`)).json();i(V.count),c(V.attendees);const $=localStorage.getItem("userName");if($){p($);const k=V.attendees.some(q=>q.user_name===$);h(k)}}catch(M){console.error("Error fetching attendance:",M)}};Y.useEffect(()=>{j()},[o]);const N=()=>{const M=localStorage.getItem("userName");M?C(M):b(!0)},C=async M=>{x(!0);try{const V=await fetch(`https://event-manager-app-jade.vercel.app/api/events/${o}/attend`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:M})});if(V.ok)localStorage.setItem("userName",M),p(M),h(!0),b(!1),j();else{const $=await V.json();alert($.error||"Failed to mark attendance")}}catch(V){console.error("Error marking attendance:",V),alert("Failed to mark attendance")}finally{x(!1)}},D=async()=>{x(!0);try{(await fetch(`https://event-manager-app-jade.vercel.app/api/events/${o}/attend`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:m})})).ok&&(h(!1),j())}catch(M){console.error("Error removing attendance:",M),alert("Failed to remove attendance")}finally{x(!1)}};return f.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[f.jsx("h3",{style:{margin:0,fontSize:"16px"},children:" Attendance"}),f.jsx("span",{style:{backgroundColor:"#007bff",color:"white",padding:"2px 10px",borderRadius:"12px",fontSize:"14px",fontWeight:"bold"},children:n})]}),v?f.jsxs("div",{children:[f.jsx("input",{type:"text",placeholder:"Enter your name",value:m,onChange:M=>p(M.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsx("button",{onClick:()=>C(m),disabled:!m.trim()||w,style:{flex:1,backgroundColor:"#28a745",color:"white",border:"none",padding:"10px",borderRadius:"5px",cursor:!m.trim()||w?"not-allowed":"pointer",fontSize:"14px"},children:w?" Submitting...":"Submit"}),f.jsx("button",{onClick:()=>b(!1),style:{flex:1,backgroundColor:"#6c757d",color:"white",border:"none",padding:"10px",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]})]}):f.jsx("div",{children:d?f.jsxs("div",{children:[f.jsxs("p",{style:{color:"#28a745",fontWeight:"bold",marginBottom:"10px"},children:[" You're attending as ",m]}),f.jsx("button",{onClick:D,disabled:w,style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:w?"not-allowed":"pointer",fontSize:"14px"},children:w?" Loading...":" Remove Attendance"})]}):f.jsx("button",{onClick:N,disabled:w,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:w?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",width:"100%"},children:w?" Loading...":" Mark as Attending"})}),n>0&&f.jsxs("div",{style:{marginTop:"15px",fontSize:"12px",color:"#666"},children:[f.jsx("strong",{children:"Attendees:"})," ",r.map(M=>M.user_name).join(", ")]})]})},Y_=({eventId:o,eventStatus:n})=>{const[i,r]=Y.useState([]),[c,d]=Y.useState(0),[h,m]=Y.useState(0),[p,v]=Y.useState(""),[b,w]=Y.useState(0),[x,j]=Y.useState(0),[N,C]=Y.useState(!1),[D,M]=Y.useState(null),[V,$]=Y.useState(!1),[k,q]=Y.useState("");Y.useEffect(()=>{Z()},[o]),Y.useEffect(()=>{p.trim()&&ne()},[p]);const Z=async()=>{try{const G=await(await fetch(`https://event-manager-app-jade.vercel.app/api/events/${o}/rating`)).json();d(G.averageRating),m(G.totalRatings),r(G.ratings)}catch(re){console.error("Error fetching ratings:",re)}},ne=async()=>{try{const G=await(await fetch(`https://event-manager-app-jade.vercel.app/api/events/${o}/check-rating/${p.trim()}`)).json();C(G.hasRated),M(G.userRating),G.hasRated&&w(G.userRating)}catch(re){console.error("Error checking rating:",re)}},X=async()=>{if(!p.trim()){q(" Please enter your name");return}if(b===0){q(" Please select a rating");return}$(!0),q("");try{const re=await fetch(`https://event-manager-app-jade.vercel.app/api/events/${o}/rating`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:p.trim(),rating:b})}),G=await re.json();re.ok?(q(" Rating submitted successfully!"),C(!0),M(b),Z()):q(` ${G.error}`)}catch(re){q(" Error submitting rating"),console.error("Error:",re)}finally{$(!1)}},te=n==="Ended",me=(re,G=!1)=>f.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(J=>f.jsx("button",{type:"button",disabled:!G||N,onClick:()=>G&&w(J),onMouseEnter:()=>G&&j(J),onMouseLeave:()=>G&&j(0),className:`text-2xl transition-all ${G&&!N?"cursor-pointer hover:scale-110":"cursor-default"}`,children:J<=(x||re)?"":""},J))});return f.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[f.jsx("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:" Event Rating"}),h>0&&f.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-3xl font-bold text-yellow-600",children:[c," "]}),f.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Based on ",h," rating",h!==1?"s":""]})]}),me(Math.round(c))]})}),te?f.jsx("div",{className:"space-y-3",children:N?f.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:[" You rated this event ",D," star",D!==1?"s":""]}):f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"text",placeholder:"Your name",value:p,onChange:re=>v(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",disabled:V}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Your rating:"}),me(b,!0)]}),f.jsx("button",{onClick:X,disabled:V||N,className:"w-full py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all disabled:bg-gray-400 disabled:cursor-not-allowed text-sm",children:V?"Submitting...":"Submit Rating"}),k&&f.jsx("div",{className:`p-2 rounded-lg text-sm ${k.includes("")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:k})]})}):f.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700 text-sm",children:" You can rate this event after it ends"}),i.length>0&&f.jsxs("div",{className:"mt-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Recent Ratings:"}),f.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:i.slice(0,5).map(re=>f.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200 text-sm",children:[f.jsx("span",{className:"font-medium text-gray-800",children:re.user_name}),f.jsx("span",{className:"text-yellow-600",children:"".repeat(re.rating)})]},re.rating_id))})]})]})},K_=({event:o,eventId:n})=>{const[i,r]=Y.useState(!1),c=async()=>{const d=`${window.location.origin}?eventId=${n}&eventTitle=${encodeURIComponent(o.title||o.event_title)}&location=${encodeURIComponent(o.location||"No location")}`;try{await navigator.clipboard.writeText(d),r(!0),setTimeout(()=>r(!1),2e3)}catch(h){console.error("Failed to copy link:",h),alert("Failed to copy link to clipboard")}};return f.jsxs("div",{className:"relative w-full",children:[f.jsx("button",{onClick:c,className:"w-full px-3 py-2 rounded-lg transition-all duration-300 bg-blue-50 text-blue-600 hover:bg-blue-100 font-medium text-sm",children:" Share"}),i&&f.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-3 py-2 bg-green-600 text-white text-sm rounded-lg whitespace-nowrap shadow-lg z-50",children:" Link copied!"})]})},J_=({user:o})=>{const[n,i]=Y.useState([]),[r,c]=Y.useState(!0),[d,h]=Y.useState(null),[m,p]=Y.useState([]),[v,b]=Y.useState(!1),[w,x]=Y.useState(""),[j,N]=Y.useState([]),[C,D]=Y.useState(!1),[M,V]=Y.useState(null),[$,k]=Y.useState(null);Y.useEffect(()=>{(()=>{try{const U=Qr.get("savedEvents");if(U){const Q=JSON.parse(U);p(Q)}}catch(U){console.error("Error loading events from cookies:",U),Qr.remove("savedEvents")}})()},[]);const q=Array.from(new Set(n.flatMap(J=>(J.categories||[]).map(U=>U.category_name)).filter(Boolean)));Y.useEffect(()=>{m.length>0?Qr.set("savedEvents",JSON.stringify(m),{expires:30}):Qr.remove("savedEvents")},[m]),Y.useEffect(()=>{(async()=>{try{c(!0);const U=await fetch("https://event-manager-app-jade.vercel.app/api/events");if(!U.ok)throw new Error("Failed to fetch events");const Q=await U.json();i(Q||[])}catch(U){console.error("Error fetching events:",U),h(U.message)}finally{c(!1)}})()},[]);const Z=J=>J.id||J.event_id,ne=J=>{const U=Z(J);p(Q=>Q.includes(U)?Q.filter(K=>K!==U):[...Q,U])},X=J=>J?new Date(J).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",te=(J,U)=>{const Q=new Date,T=new Date(J),K=new Date(U);return Q>=T&&Q<=K?{label:"On Going",color:"bg-green-100 text-green-700"}:Q<T?{label:"Up Coming",color:"bg-yellow-100 text-yellow-700"}:{label:"Ended",color:"bg-red-100 text-red-700"}};if(r)return f.jsx("p",{className:"p-6 text-center text-gray-600",children:"Loading events..."});if(d)return f.jsxs("p",{className:"p-6 text-center text-red-600",children:["Error: ",d]});let re=(v?n.filter(J=>m.includes(Z(J))):n).filter(J=>{const U=w===""||(J.title||J.event_title||"").toLowerCase().includes(w.toLowerCase()),Q=j.length===0||(J.categories||[]).some(T=>j.includes(T.category_name));return U&&Q});const G={"On Going":0,"Up Coming":1,Ended:2};return re=re.sort((J,U)=>{const Q=te(J.start_time,U.end_time).label,T=te(U.start_time,U.end_time).label;return Q===T?new Date(J.start_time)-new Date(U.start_time):G[Q]-G[T]}),f.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[f.jsx("div",{className:"sticky top-0 z-10 bg-white shadow-md border-b border-gray-200",children:f.jsx("div",{className:"p-6 pb-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:v?" Saved Events":" Events"}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center",children:[f.jsx("input",{type:"text",value:w,onChange:J=>x(J.target.value),placeholder:"Search events...",className:"px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-800"}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{type:"button",className:"px-4 py-2 rounded-lg font-medium bg-gray-100 text-gray-700 border border-gray-300 hover:bg-blue-50 transition-all duration-200",onClick:()=>D(J=>!J),children:[j.length>0?`${j.join(", ")}`:"Categories",f.jsx("span",{className:"ml-2",children:""})]}),C&&f.jsxs("div",{className:"absolute left-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-20 p-2",children:[q.map(J=>f.jsxs("label",{className:"flex items-center px-2 py-2 cursor-pointer rounded-lg hover:bg-blue-50 transition-all duration-150",children:[f.jsx("input",{type:"checkbox",checked:j.includes(J),onChange:U=>{U.target.checked?N(Q=>[...Q,J]):N(Q=>Q.filter(T=>T!==J))},className:"mr-2 accent-blue-600"}),f.jsx("span",{className:j.includes(J)?"font-bold text-blue-700":"text-gray-800",children:J})]},J)),f.jsx("div",{className:"flex justify-end mt-2",children:f.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition-all duration-150",onClick:()=>D(!1),children:"Done"})})]})]}),f.jsx("button",{onClick:()=>b(!1),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${v?"bg-gray-200 text-gray-800 hover:bg-gray-300":"bg-blue-600 text-white shadow-md"}`,children:"All Events"}),f.jsxs("button",{onClick:()=>b(!0),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${v?"bg-red-600 text-white shadow-md":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:["Saved (",m.length,")"]})]})]})})}),f.jsx("div",{className:"p-6 pt-4",children:re.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-gray-600 text-lg",children:w?`No events found for "${w}"`:v?"No saved events yet":"No events scheduled"})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:re.map(J=>{const U=Z(J),Q=te(J.start_time,J.end_time);return f.jsxs("div",{className:"bg-white border rounded-xl p-5 shadow-md transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:border-blue-300 flex flex-col h-full",children:[f.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:J.title||J.event_title||"Untitled Event"}),f.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:[" ",X(J.start_time),J.end_time&&` - ${X(J.end_time)}`]}),J.categories&&J.categories.length>0?f.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:J.categories.map((T,K)=>f.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-100",children:T.category_name||T.name||"Category"},T.category_id||T.category_name||K))}):f.jsx("div",{className:"mb-3",children:f.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600 border border-gray-200",children:"No category"})}),f.jsxs("p",{className:"text-gray-600 text-sm mb-3 flex items-center",children:[f.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),J.location||"No location"]}),f.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full mb-4 w-fit ${Q.color}`,children:Q.label}),f.jsx("div",{className:"mt-auto space-y-2",children:f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("button",{onClick:()=>k($===U?null:U),className:`px-3 py-2 rounded-lg transition-all duration-300 font-medium text-sm whitespace-nowrap ${Q.label==="Ended"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 border border-yellow-300":"bg-gray-100 text-gray-400 cursor-not-allowed border border-gray-200"}`,disabled:Q.label!=="Ended",title:Q.label!=="Ended"?"Available after event ends":"Click to rate",children:" Rate"}),!v&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"px-3 py-2 rounded-lg transition-all duration-300 bg-blue-50 text-blue-600 hover:bg-blue-100 font-medium text-sm border border-blue-200",onClick:()=>V(M===U?null:U),title:"View comments and attendance",children:" Info"}),f.jsx(K_,{event:J,eventId:U}),f.jsxs("button",{onClick:()=>ne(J),className:`px-3 py-2 rounded-lg transition-all duration-300 font-medium text-sm border ${m.includes(U)?"bg-red-100 text-red-700 border-red-300 hover:bg-red-200":"bg-red-50 text-red-600 border-red-200 hover:bg-red-100"}`,title:m.includes(U)?"Click to remove":"Click to save",children:[" ",m.includes(U)?"Saved":"Save"]})]}),v&&f.jsx("button",{onClick:()=>ne(J),className:"px-3 py-2 rounded-lg transition-all duration-300 bg-red-100 text-red-700 hover:bg-red-200 font-medium text-sm border border-red-300",title:"Remove from saved",children:" Remove"})]})}),$===U&&f.jsx(Y_,{eventId:U,eventStatus:Q.label}),M===U&&f.jsxs(f.Fragment,{children:[f.jsx(V_,{eventId:U}),f.jsx(G_,{eventId:U,user:o})]})]},U)})})})]})};function Q_(){const o=us(),[n,i]=Y.useState(null),[r,c]=Y.useState(!0),[d,h]=Y.useState({totalEvents:0,totalExpenses:0,committeeMembers:0,activeNotices:0}),[m,p]=Y.useState("");Y.useEffect(()=>{v()},[]);const v=async()=>{try{c(!0),p("");const{data:{session:x},error:j}=await oe.auth.getSession();if(j||!x){console.log("No session found, redirecting to login"),o("/");return}console.log(" Checking organizer access for:",x.user.email);const C=await(await fetch("https://event-manager-app-jade.vercel.app/api/auth/verify-organizer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.user.email})})).json();if(!C.success||!C.isOrganizer){console.log(" User is not organizer, redirecting"),await oe.auth.signOut(),p("Access denied. Organizer privileges required."),setTimeout(()=>o("/"),2e3);return}console.log(" Organizer access verified"),i(x.user),b()}catch(x){console.error("Auth check error:",x),p("Authentication error. Please try again."),setTimeout(()=>o("/"),2e3)}finally{c(!1)}},b=async()=>{try{const{count:x}=await oe.from("events").select("*",{count:"exact",head:!0}),{data:j}=await oe.from("expenses").select("amount"),N=j?.reduce((M,V)=>M+(parseFloat(V.amount)||0),0)||0,{count:C}=await oe.from("committee").select("*",{count:"exact",head:!0}),{count:D}=await oe.from("notices").select("*",{count:"exact",head:!0}).eq("is_active",!0);h({totalEvents:x||0,totalExpenses:N,committeeMembers:C||0,activeNotices:D||0})}catch(x){console.error("Error loading stats:",x)}},w=async()=>{try{await oe.auth.signOut(),o("/",{replace:!0})}catch(x){console.error("Logout error:",x)}};return r?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):m?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx(y_,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),f.jsx("p",{className:"text-gray-600 mb-4",children:m}),f.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login..."})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100",children:[f.jsx("div",{className:"bg-white shadow-sm border-b",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ci,{className:"w-8 h-8 text-indigo-600"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Organizer Dashboard"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Event Management Portal"})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-gray-600",children:["Welcome, ",n?.email||"Organizer"]}),f.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition",children:[f.jsx(T_,{className:"w-4 h-4"}),"Logout"]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx(Xr,{icon:f.jsx(ci,{className:"w-8 h-8"}),title:"Total Events",value:d.totalEvents,color:"bg-blue-500"}),f.jsx(Xr,{icon:f.jsx(al,{className:"w-8 h-8"}),title:"Total Expenses",value:`Rs. ${d.totalExpenses.toLocaleString()}`,color:"bg-green-500"}),f.jsx(Xr,{icon:f.jsx(nl,{className:"w-8 h-8"}),title:"Committee Members",value:d.committeeMembers,color:"bg-purple-500"}),f.jsx(Xr,{icon:f.jsx(tl,{className:"w-8 h-8"}),title:"Active Notices",value:d.activeNotices,color:"bg-pink-500"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Zr,{icon:f.jsx(ci,{className:"w-12 h-12"}),title:"Manage Events",description:"Create and manage events",onClick:()=>o("/organizer/events"),color:"from-blue-500 to-blue-600"}),f.jsx(Zr,{icon:f.jsx(al,{className:"w-12 h-12"}),title:"Track Expenses",description:"Monitor event budgets",onClick:()=>o("/organizer/expenses"),color:"from-green-500 to-green-600"}),f.jsx(Zr,{icon:f.jsx(nl,{className:"w-12 h-12"}),title:"Committee",description:"Manage committee members",onClick:()=>o("/organizer/committee"),color:"from-purple-500 to-purple-600"}),f.jsx(Zr,{icon:f.jsx(tl,{className:"w-12 h-12"}),title:"Notices",description:"Post announcements",onClick:()=>o("/organizer/notices"),color:"from-pink-500 to-pink-600"})]}),f.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Start Guide"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"For New Organizers:"}),f.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[f.jsx("li",{children:"Create events in the Events Manager"}),f.jsx("li",{children:"Add committee members to manage events"}),f.jsx("li",{children:"Track expenses for each event"}),f.jsx("li",{children:"Post notices to communicate with users"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Remember:"}),f.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[f.jsx("li",{children:"Only approved organizers can access this dashboard"}),f.jsx("li",{children:"Users cannot self-register as organizers"}),f.jsx("li",{children:"Use the logout button to securely exit"})]})]})]})]})]})]})}function Xr({icon:o,title:n,value:i,color:r}){return f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`${r} text-white p-3 rounded-lg`,children:o}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm",children:n}),f.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i})]})]})})}function Zr({icon:o,title:n,description:i,onClick:r,color:c}){return f.jsx("button",{onClick:r,className:`bg-gradient-to-br ${c} text-white rounded-xl shadow-lg p-6 hover:shadow-xl hover:scale-105 transition-all text-left`,children:f.jsxs("div",{className:"flex flex-col gap-3",children:[o,f.jsx("h3",{className:"text-xl font-bold",children:n}),f.jsx("p",{className:"text-white/90 text-sm",children:i})]})})}function X_(){const o=us();Y.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:{session:i},error:r}=await oe.auth.getSession();if(r){console.error(" Auth callback error:",r),o("/?error=Authentication failed");return}if(i){if(console.log(" Google OAuth successful for:",i.user.email),i.user.app_metadata.provider==="google")try{const d=await(await fetch("https://event-manager-app-jade.vercel.app/api/auth/google-callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:i.user})})).json();d.success||console.error(" Google user profile creation failed:",d.error)}catch(c){console.error(" Profile creation error:",c)}console.log(" Auth callback successful, redirecting to events..."),o("/events")}else o("/?error=No session found")}catch(i){console.error(" Auth callback processing error:",i),o("/?error=Authentication error")}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Completing authentication..."}),f.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Please wait while we log you in."})]})})}function Z_(){const o=us(),[n,i]=Y.useState([]),[r,c]=Y.useState([]),[d,h]=Y.useState(!0),[m,p]=Y.useState(!1),[v,b]=Y.useState(null),[w,x]=Y.useState(""),[j,N]=Y.useState(null),[C,D]=Y.useState({event_title:"",start_time:"",end_time:"",location:"",description:"",selectedCategories:[]});Y.useEffect(()=>{M()},[]);const M=async()=>{try{x("");const{data:{session:G}}=await oe.auth.getSession();if(!G){console.log(" No session found"),o("/");return}N(G.user);const U=await(await fetch("https://event-manager-app-jade.vercel.app/api/auth/verify-organizer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:G.user.email})})).json();if(!U.success||!U.isOrganizer){x("Organizer access required");return}V(),$()}catch(G){console.error("Auth check error:",G),x("Authentication failed")}},V=async()=>{try{if(h(!0),x(""),!j)throw new Error("No user session");console.log(" Loading events...");const{data:{session:G}}=await oe.auth.getSession();if(!G)throw new Error("No session found");const J=G.access_token,Q=await(await fetch("https://event-manager-app-jade.vercel.app/api/organizer/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`}})).json();if(Q.success)console.log(" Events loaded:",Q.events?.length||0),i(Q.events||[]);else throw new Error(Q.error||"Failed to load events")}catch(G){console.error(" Error loading events:",G),x(G.message)}finally{h(!1)}},$=async()=>{try{const{data:{session:G}}=await oe.auth.getSession();if(!G)throw new Error("No session found");const J=G.access_token,Q=await(await fetch("https://event-manager-app-jade.vercel.app/api/organizer/categories",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`}})).json();if(Q.success)c(Q.categories||[]);else throw new Error(Q.error||"Failed to load categories")}catch(G){console.error(" Error loading categories:",G),x("Failed to load categories")}},k=async G=>{if(G.preventDefault(),x(""),!C.event_title||!C.start_time||!C.end_time){x("Event title, start time, and end time are required");return}if(new Date(C.start_time)>=new Date(C.end_time)){x("End time must be after start time");return}try{const{data:{session:J}}=await oe.auth.getSession();if(!J)throw new Error("No session found");const U=J.access_token,Q=v?`https://event-manager-app-jade.vercel.app/api/organizer/events/${v.event_id}`:"https://event-manager-app-jade.vercel.app/api/organizer/events",ae=await(await fetch(Q,{method:v?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(C)})).json();if(ae.success)alert(v?"Event updated successfully!":"Event created successfully!"),ne(),V();else throw new Error(ae.error||"Failed to save event")}catch(J){console.error(" Error saving event:",J),x(J.message)}},q=G=>{b(G),D({event_title:G.event_title,start_time:G.start_time?G.start_time.slice(0,16):"",end_time:G.end_time?G.end_time.slice(0,16):"",location:G.location||"",description:G.description||"",selectedCategories:G.event_categories?.map(J=>J.category_id.toString())||[]}),p(!0)},Z=async G=>{if(window.confirm("Are you sure you want to delete this event? This action cannot be undone."))try{const{data:{session:J}}=await oe.auth.getSession();if(!J)throw new Error("No session found");const U=J.access_token,T=await(await fetch(`https://event-manager-app-jade.vercel.app/api/organizer/events/${G}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`}})).json();if(T.success)alert("Event deleted successfully!"),V();else throw new Error(T.error||"Failed to delete event")}catch(J){console.error(" Error deleting event:",J),x(J.message)}},ne=()=>{D({event_title:"",start_time:"",end_time:"",location:"",description:"",selectedCategories:[]}),b(null),p(!1),x("")},X=()=>{x(""),V()},te=G=>{const J=G.toString();D(U=>({...U,selectedCategories:U.selectedCategories.includes(J)?U.selectedCategories.filter(Q=>Q!==J):[...U.selectedCategories,J]}))},me=G=>G?new Date(G).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",re=(G,J)=>{const U=new Date,Q=new Date(G),T=new Date(J);return U>=Q&&U<=T?{label:"On Going",color:"bg-green-100 text-green-700"}:U<Q?{label:"Up Coming",color:"bg-yellow-100 text-yellow-700"}:{label:"Ended",color:"bg-red-100 text-red-700"}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[f.jsx("div",{className:"bg-white shadow-md",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>o("/organizer/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:f.jsx(ll,{className:"w-5 h-5"})}),f.jsx(ci,{className:"w-8 h-8 text-blue-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Events Manager"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:X,className:"flex items-center gap-2 px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",title:"Reload events",children:f.jsx(os,{className:"w-4 h-4"})}),f.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(ol,{className:"w-5 h-5"}),"New Event"]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[w&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("p",{className:"text-red-700",children:w}),f.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition text-sm",children:[f.jsx(os,{className:"w-4 h-4"}),"Retry"]})]})}),m&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:v?"Edit Event":"Create New Event"}),f.jsx("button",{onClick:ne,className:"p-2 hover:bg-gray-100 rounded-lg",children:f.jsx(hl,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:k,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),f.jsx("input",{type:"text",value:C.event_title,onChange:G=>D({...C,event_title:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter event title...",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time *"}),f.jsx("input",{type:"datetime-local",value:C.start_time,onChange:G=>D({...C,start_time:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time *"}),f.jsx("input",{type:"datetime-local",value:C.end_time,onChange:G=>D({...C,end_time:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),f.jsx("input",{type:"text",value:C.location,onChange:G=>D({...C,location:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter event location..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),f.jsx("textarea",{value:C.description,onChange:G=>D({...C,description:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4",placeholder:"Enter event description..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),f.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:r.map(G=>f.jsxs("label",{className:"flex items-center p-2 border rounded-lg cursor-pointer hover:bg-gray-50 transition",children:[f.jsx("input",{type:"checkbox",checked:C.selectedCategories.includes(G.category_id.toString()),onChange:()=>te(G.category_id),className:"mr-2 text-blue-600 focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-gray-700",children:G.category_name})]},G.category_id))})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[f.jsx(ul,{className:"w-5 h-5"}),v?"Update Event":"Create Event"]}),f.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Cancel"})]})]})]})})}),d?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"text-gray-600 mt-4",children:"Loading events..."})]}):n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(ci,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"No events yet"}),f.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Create your first event to get started"})]}):f.jsx("div",{className:"grid gap-6",children:n.map(G=>{const J=re(G.start_time,G.end_time);return f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:G.event_title}),f.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${J.color}`,children:J.label})]}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-3",children:[f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-semibold",children:" Start:"}),me(G.start_time)]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-semibold",children:" End:"}),me(G.end_time)]}),G.location&&f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-semibold",children:" Location:"}),G.location]}),G.description&&f.jsx("p",{className:"text-gray-700 mt-2",children:G.description})]}),G.event_categories&&G.event_categories.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:G.event_categories.map(U=>f.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:U.category?.category_name},U.category_id))})]}),f.jsxs("div",{className:"flex gap-2 ml-4",children:[f.jsx("button",{onClick:()=>q(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit event",children:f.jsx(cl,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>Z(G.event_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete event",children:f.jsx(dl,{className:"w-5 h-5"})})]})]})},G.event_id)})})]})]})}function I_(){const o=us(),[n,i]=Y.useState([]),[r,c]=Y.useState([]),[d,h]=Y.useState(!0),[m,p]=Y.useState(!1),[v,b]=Y.useState(null),[w,x]=Y.useState(""),[j,N]=Y.useState(null),[C,D]=Y.useState(0),[M,V]=Y.useState({event_id:"",expense_category:"",amount:"",description:"",expense_date:new Date().toISOString().split("T")[0]}),$=["Venue","Catering","Decoration","Equipment","Marketing","Staff","Transportation","Entertainment","Miscellaneous"];Y.useEffect(()=>{k()},[]),Y.useEffect(()=>{const U=n.reduce((Q,T)=>Q+parseFloat(T.amount||0),0);D(U)},[n]);const k=async()=>{try{x("");const{data:{session:U}}=await oe.auth.getSession();if(!U){console.log(" No session found"),o("/");return}N(U.user);const T=await(await fetch("https://event-manager-app-jade.vercel.app/api/auth/verify-organizer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:U.user.email})})).json();if(!T.success||!T.isOrganizer){x("Organizer access required");return}q(),Z()}catch(U){console.error("Auth check error:",U),x("Authentication failed")}},q=async()=>{try{if(h(!0),x(""),!j)throw new Error("No user session");console.log(" Loading expenses...");const{data:{session:U}}=await oe.auth.getSession();if(!U)throw new Error("No session found");const Q=U.access_token,K=await(await fetch("https://event-manager-app-jade.vercel.app/api/organizer/expenses",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`}})).json();if(K.success)console.log(" Expenses loaded:",K.expenses?.length||0),i(K.expenses||[]);else throw K.error&&K.error.includes("does not exist")?new Error("Expenses table not found. Please set up the database first."):new Error(K.error||"Failed to load expenses")}catch(U){console.error(" Error loading expenses:",U),x(U.message)}finally{h(!1)}},Z=async()=>{try{const{data:{session:U}}=await oe.auth.getSession();if(!U)throw new Error("No session found");const Q=U.access_token,K=await(await fetch("https://event-manager-app-jade.vercel.app/api/organizer/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`}})).json();if(K.success)c(K.events||[]);else throw new Error(K.error||"Failed to load events")}catch(U){console.error(" Error loading events:",U),x("Failed to load events")}},ne=async U=>{if(U.preventDefault(),x(""),!M.event_id||!M.expense_category||!M.amount){x("Event, category, and amount are required");return}try{const{data:{session:Q}}=await oe.auth.getSession();if(!Q)throw new Error("No session found");const T=Q.access_token,K=v?`https://event-manager-app-jade.vercel.app/api/organizer/expenses/${v.expense_id}`:"https://event-manager-app-jade.vercel.app/api/organizer/expenses",xe=await(await fetch(K,{method:v?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({...M,amount:parseFloat(M.amount)})})).json();if(xe.success)alert(v?"Expense updated successfully!":"Expense added successfully!"),re(),q();else throw new Error(xe.error||"Failed to save expense")}catch(Q){console.error(" Error saving expense:",Q),x(Q.message)}},X=U=>{b(U),V({event_id:U.event_id.toString(),expense_category:U.expense_category,amount:U.amount.toString(),description:U.description||"",expense_date:U.expense_date}),p(!0)},te=async U=>{if(window.confirm("Are you sure you want to delete this expense?"))try{const{data:{session:Q}}=await oe.auth.getSession();if(!Q)throw new Error("No session found");const T=Q.access_token,ae=await(await fetch(`https://event-manager-app-jade.vercel.app/api/organizer/expenses/${U}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}})).json();if(ae.success)alert("Expense deleted successfully!"),q();else throw new Error(ae.error||"Failed to delete expense")}catch(Q){console.error(" Error deleting expense:",Q),x(Q.message)}},me=async()=>{if(window.confirm("This will set up the expenses table in the database. Continue?"))try{const{data:{session:U}}=await oe.auth.getSession();if(!U)throw new Error("No session found");const Q=U.access_token,K=await(await fetch("https://event-manager-app-jade.vercel.app/api/organizer/setup-expenses",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`}})).json();if(K.success)alert("Expenses table created successfully!"),q();else throw new Error(K.error||"Failed to set up expenses table")}catch(U){console.error(" Expenses setup error:",U),x("Failed to set up expenses table: "+U.message)}},re=()=>{V({event_id:"",expense_category:"",amount:"",description:"",expense_date:new Date().toISOString().split("T")[0]}),b(null),p(!1),x("")},G=()=>{x(""),q()},J=n.reduce((U,Q)=>{const T=Q.event_id,K=Q.event?.event_title||"Unknown Event";return U[T]||(U[T]={event_title:K,expenses:[],total:0}),U[T].expenses.push(Q),U[T].total+=parseFloat(Q.amount||0),U},{});return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100",children:[f.jsx("div",{className:"bg-white shadow-md",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>o("/organizer/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:f.jsx(ll,{className:"w-5 h-5"})}),f.jsx(al,{className:"w-8 h-8 text-green-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Expenses Tracker"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:G,className:"flex items-center gap-2 px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",title:"Reload expenses",children:f.jsx(os,{className:"w-4 h-4"})}),f.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[f.jsx(ol,{className:"w-5 h-5"}),"Add Expense"]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[w&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("p",{className:"text-red-700",children:w}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition text-sm",children:[f.jsx(os,{className:"w-4 h-4"}),"Retry"]}),w.includes("does not exist")&&f.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition text-sm",children:[f.jsx(b_,{className:"w-4 h-4"}),"Setup Database"]})]})]})}),n.length>0&&f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Total Expenses"}),f.jsxs("p",{className:"text-4xl font-bold text-green-600",children:["Rs. ",C.toLocaleString("en-IN",{minimumFractionDigits:2})]}),f.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Across ",n.length," expense",n.length!==1?"s":""]})]}),m&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:v?"Edit Expense":"Add New Expense"}),f.jsx("button",{onClick:re,className:"p-2 hover:bg-gray-100 rounded-lg",children:f.jsx(hl,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event *"}),f.jsxs("select",{value:M.event_id,onChange:U=>V({...M,event_id:U.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[f.jsx("option",{value:"",children:"Select Event"}),r.map(U=>f.jsx("option",{value:U.event_id,children:U.event_title},U.event_id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),f.jsxs("select",{value:M.expense_category,onChange:U=>V({...M,expense_category:U.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[f.jsx("option",{value:"",children:"Select Category"}),$.map(U=>f.jsx("option",{value:U,children:U},U))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (Rs.) *"}),f.jsx("input",{type:"number",step:"0.01",min:"0",value:M.amount,onChange:U=>V({...M,amount:U.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0.00",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),f.jsx("input",{type:"date",value:M.expense_date,onChange:U=>V({...M,expense_date:U.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),f.jsx("textarea",{value:M.description,onChange:U=>V({...M,description:U.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:"3",placeholder:"Enter expense description..."})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[f.jsx(ul,{className:"w-5 h-5"}),v?"Update Expense":"Add Expense"]}),f.jsx("button",{type:"button",onClick:re,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Cancel"})]})]})]})})}),d?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),f.jsx("p",{className:"text-gray-600 mt-4",children:"Loading expenses..."})]}):n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(al,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"No expenses recorded yet"}),f.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add your first expense to start tracking"}),r.length===0&&f.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:f.jsx("p",{className:"text-yellow-700 text-sm",children:"No events found. You need to create events first before adding expenses."})})]}):f.jsx("div",{className:"space-y-6",children:Object.entries(J).map(([U,Q])=>f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:Q.event_title}),f.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["Total: Rs. ",Q.total.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),f.jsx("div",{className:"space-y-3",children:Q.expenses.map(T=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition border border-gray-200",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:T.expense_category}),f.jsx("span",{className:"text-sm text-gray-500",children:new Date(T.expense_date).toLocaleDateString()})]}),T.description&&f.jsx("p",{className:"text-sm text-gray-600",children:T.description})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["Rs. ",parseFloat(T.amount).toLocaleString("en-IN",{minimumFractionDigits:2})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>X(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit expense",children:f.jsx(cl,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>te(T.expense_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete expense",children:f.jsx(dl,{className:"w-4 h-4"})})]})]})]},T.expense_id))})]},U))})]})]})}function P_(){const o=us(),[n,i]=Y.useState([]),[r,c]=Y.useState(!0),[d,h]=Y.useState(!1),[m,p]=Y.useState(null),[v,b]=Y.useState(""),[w,x]=Y.useState(null),[j,N]=Y.useState({member_name:"",role:"",email:"",phone:"",responsibilities:""}),C=["President","Vice President","Secretary","Treasurer","Event Coordinator","Marketing Head","Logistics Head","Technical Head","Volunteer Coordinator","Member"];Y.useEffect(()=>{D()},[]);const D=async()=>{try{b("");const{data:{session:X}}=await oe.auth.getSession();if(!X){console.log(" No session found"),o("/");return}x(X.user);const me=await(await fetch("https://event-manager-app-jade.vercel.app/api/auth/verify-organizer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:X.user.email})})).json();if(!me.success||!me.isOrganizer){b("Organizer access required");return}M()}catch(X){console.error("Auth check error:",X),b("Authentication failed")}},M=async()=>{try{if(c(!0),b(""),!w)throw new Error("No user session");console.log(" Loading committee members...");const{data:{session:X}}=await oe.auth.getSession();if(!X)throw new Error("No session found");const te=X.access_token,re=await(await fetch("https://event-manager-app-jade.vercel.app/api/organizer/committee",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}})).json();if(re.success)console.log(" Committee members loaded:",re.members?.length||0),i(re.members||[]);else throw new Error(re.error||"Failed to load committee members")}catch(X){console.error(" Error loading committee members:",X),b(X.message)}finally{c(!1)}},V=async X=>{if(X.preventDefault(),b(""),!j.member_name||!j.role){b("Member name and role are required");return}try{const{data:{session:te}}=await oe.auth.getSession();if(!te)throw new Error("No session found");const me=te.access_token,re=m?`https://event-manager-app-jade.vercel.app/api/organizer/committee/${m.member_id}`:"https://event-manager-app-jade.vercel.app/api/organizer/committee",G=m?"PUT":"POST";console.log(` ${m?"Updating":"Adding"} committee member:`,j);const U=await(await fetch(re,{method:G,headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`},body:JSON.stringify(j)})).json();if(U.success)console.log(` Member ${m?"updated":"added"} successfully`),alert(m?"Member updated successfully!":"Member added successfully!"),q(),M();else throw new Error(U.error||"Failed to save member")}catch(te){console.error(" Error saving committee member:",te),b(te.message||"Failed to save member. Please try again.")}},$=X=>{console.log(" Editing committee member:",X),p(X),N({member_name:X.member_name,role:X.role,email:X.email||"",phone:X.phone||"",responsibilities:X.responsibilities||""}),h(!0)},k=async X=>{if(window.confirm("Are you sure you want to remove this member?"))try{const{data:{session:te}}=await oe.auth.getSession();if(!te)throw new Error("No session found");const me=te.access_token;console.log(" Deleting committee member with member_id:",X);const G=await(await fetch(`https://event-manager-app-jade.vercel.app/api/organizer/committee/${X}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`}})).json();if(G.success)console.log(" Member deleted successfully"),alert("Member removed successfully!"),M();else throw new Error(G.error||"Failed to remove member")}catch(te){console.error(" Error deleting committee member:",te),b(te.message||"Failed to remove member. Please try again.")}},q=()=>{N({member_name:"",role:"",email:"",phone:"",responsibilities:""}),p(null),h(!1),b("")},Z=()=>{b(""),M()},ne=n.reduce((X,te)=>(X[te.role]||(X[te.role]=[]),X[te.role].push(te),X),{});return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[f.jsx("div",{className:"bg-white shadow-md",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>o("/organizer/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:f.jsx(ll,{className:"w-5 h-5"})}),f.jsx(nl,{className:"w-8 h-8 text-purple-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Committee Manager"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:Z,className:"flex items-center gap-2 px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",title:"Reload members",children:f.jsx(os,{className:"w-4 h-4"})}),f.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:[f.jsx(ol,{className:"w-5 h-5"}),"Add Member"]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[v&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("p",{className:"text-red-700",children:v}),f.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition text-sm",children:[f.jsx(os,{className:"w-4 h-4"}),"Retry"]})]})}),d&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Member":"Add New Member"}),f.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-100 rounded-lg",children:f.jsx(hl,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:V,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),f.jsx("input",{type:"text",value:j.member_name,onChange:X=>N({...j,member_name:X.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter full name",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),f.jsxs("select",{value:j.role,onChange:X=>N({...j,role:X.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[f.jsx("option",{value:"",children:"Select Role"}),C.map(X=>f.jsx("option",{value:X,children:X},X))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),f.jsx("input",{type:"email",value:j.email,onChange:X=>N({...j,email:X.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"member@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),f.jsx("input",{type:"tel",value:j.phone,onChange:X=>N({...j,phone:X.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsibilities"}),f.jsx("textarea",{value:j.responsibilities,onChange:X=>N({...j,responsibilities:X.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"3",placeholder:"List key responsibilities..."})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:[f.jsx(ul,{className:"w-5 h-5"}),m?"Update Member":"Add Member"]}),f.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Cancel"})]})]})]})})}),r?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),f.jsx("p",{className:"text-gray-600 mt-4",children:"Loading committee members..."})]}):n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(nl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"No committee members yet"}),f.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Add your first committee member to get started"})]}):f.jsx("div",{className:"space-y-6",children:Object.entries(ne).map(([X,te])=>f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[f.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold",children:te.length}),X]}),f.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:te.map(me=>f.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition border border-gray-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:me.member_name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>$(me),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition",title:"Edit member",children:f.jsx(cl,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>k(me.member_id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition",title:"Delete member",children:f.jsx(dl,{className:"w-4 h-4"})})]})]}),me.email&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[f.jsx(Zm,{className:"w-4 h-4"}),f.jsx("a",{href:`mailto:${me.email}`,className:"hover:text-purple-600 truncate",children:me.email})]}),me.phone&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[f.jsx(C_,{className:"w-4 h-4"}),f.jsx("a",{href:`tel:${me.phone}`,className:"hover:text-purple-600",children:me.phone})]}),me.responsibilities&&f.jsx("p",{className:"text-xs text-gray-500 mt-2 border-t pt-2",children:me.responsibilities})]},me.member_id))})]},X))})]})]})}function F_(){const o=us(),[n,i]=Y.useState([]),[r,c]=Y.useState(!0),[d,h]=Y.useState(!1),[m,p]=Y.useState(null),[v,b]=Y.useState({notice_title:"",notice_content:"",priority:"normal",is_active:!0}),w=[{value:"low",label:"Low",color:"bg-gray-100 text-gray-700"},{value:"normal",label:"Normal",color:"bg-blue-100 text-blue-700"},{value:"high",label:"High",color:"bg-yellow-100 text-yellow-700"},{value:"urgent",label:"Urgent",color:"bg-red-100 text-red-700"}];Y.useEffect(()=>{x(),j()},[]);const x=async()=>{const{data:{user:k}}=await oe.auth.getUser();if(!k){o("/organizer-login");return}const{data:q}=await oe.from("users").select("role").eq("id",k.id).single();q?.role!=="organizer"&&o("/organizer-login")},j=async()=>{try{c(!0);const{data:k,error:q}=await oe.from("notices").select("*").order("created_at",{ascending:!1});if(q)throw q;i(k||[])}catch(k){console.error("Error loading notices:",k),alert("Failed to load notices")}finally{c(!1)}},N=async k=>{if(k.preventDefault(),!v.notice_title||!v.notice_content){alert("Please fill in title and content");return}try{if(m){const{error:q}=await oe.from("notices").update({notice_title:v.notice_title,notice_content:v.notice_content,priority:v.priority,is_active:v.is_active}).eq("notice_id",m.notice_id);if(q)throw q;alert("Notice updated successfully!")}else{const{error:q}=await oe.from("notices").insert([{notice_title:v.notice_title,notice_content:v.notice_content,priority:v.priority,is_active:v.is_active}]);if(q)throw q;alert("Notice created successfully!")}V(),j()}catch(q){console.error("Error saving notice:",q),alert("Failed to save notice: "+q.message)}},C=k=>{p(k),b({notice_title:k.notice_title,notice_content:k.notice_content,priority:k.priority,is_active:k.is_active}),h(!0)},D=async k=>{if(window.confirm("Are you sure you want to delete this notice?"))try{const{error:q}=await oe.from("notices").delete().eq("notice_id",k);if(q)throw q;alert("Notice deleted successfully!"),j()}catch(q){console.error("Error deleting notice:",q),alert("Failed to delete notice")}},M=async k=>{try{const{error:q}=await oe.from("notices").update({is_active:!k.is_active}).eq("notice_id",k.notice_id);if(q)throw q;j()}catch(q){console.error("Error toggling notice:",q),alert("Failed to update notice status")}},V=()=>{b({notice_title:"",notice_content:"",priority:"normal",is_active:!0}),p(null),h(!1)},$=k=>w.find(Z=>Z.value===k)?.color||"bg-gray-100 text-gray-700";return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-rose-100",children:[f.jsx("div",{className:"bg-white shadow-md",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>o("/organizer/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:f.jsx(ll,{className:"w-5 h-5"})}),f.jsx(tl,{className:"w-8 h-8 text-pink-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notices Manager"})]}),f.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition",children:[f.jsx(ol,{className:"w-5 h-5"}),"New Notice"]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[d&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Notice":"Create New Notice"}),f.jsx("button",{onClick:V,className:"p-2 hover:bg-gray-100 rounded-lg",children:f.jsx(hl,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:N,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),f.jsx("input",{type:"text",value:v.notice_title,onChange:k=>b({...v,notice_title:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"Enter notice title...",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),f.jsx("textarea",{value:v.notice_content,onChange:k=>b({...v,notice_content:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-500",rows:"6",placeholder:"Enter notice content...",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:w.map(k=>f.jsx("button",{type:"button",onClick:()=>b({...v,priority:k.value}),className:`px-4 py-2 rounded-lg font-medium transition ${v.priority===k.value?k.color+" ring-2 ring-offset-2 ring-pink-500":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:k.label},k.value))})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"checkbox",id:"is_active",checked:v.is_active,onChange:k=>b({...v,is_active:k.target.checked}),className:"w-5 h-5 text-pink-600 rounded focus:ring-pink-500"}),f.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Publish immediately (make visible to users)"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition",children:[f.jsx(ul,{className:"w-5 h-5"}),m?"Update Notice":"Create Notice"]}),f.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Cancel"})]})]})]})})}),r?f.jsx("div",{className:"text-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto"})}):n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(tl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"No notices yet. Create your first announcement!"})]}):f.jsx("div",{className:"grid gap-4",children:n.map(k=>f.jsx("div",{className:`bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition ${k.is_active?"":"opacity-60"}`,children:f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:k.notice_title}),f.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${$(k.priority)}`,children:k.priority.toUpperCase()}),!k.is_active&&f.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-200 text-gray-600",children:"DRAFT"})]}),f.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Posted: ",new Date(k.created_at).toLocaleString()]}),f.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:k.notice_content})]}),f.jsxs("div",{className:"flex gap-2 ml-4",children:[f.jsx("button",{onClick:()=>M(k),className:`p-2 rounded-lg transition ${k.is_active?"text-green-600 hover:bg-green-50":"text-gray-600 hover:bg-gray-50"}`,title:k.is_active?"Unpublish":"Publish",children:k.is_active?f.jsx(Xm,{className:"w-5 h-5"}):f.jsx(Qm,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>C(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",children:f.jsx(cl,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>D(k.notice_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",children:f.jsx(dl,{className:"w-5 h-5"})})]})]})},k.notice_id))})]})]})}const W_="https://event-manager-app-jade.vercel.app";function ew(){const[o,n]=Y.useState(!1),[i,r]=Y.useState(!0);Y.useEffect(()=>{c()},[]);const c=async()=>{try{console.log(" Checking organizer status...");const{data:{session:d}}=await oe.auth.getSession();if(!d){console.log(" No session found"),n(!1),r(!1);return}console.log(" Session found, checking role for:",d.user.email);const m=await(await fetch(`${W_}/api/auth/verify-organizer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.user.email})})).json();m.success&&m.isOrganizer?(console.log(" User is organizer"),n(!0)):(console.log(" User is not organizer"),n(!1))}catch(d){console.error(" Organizer check error:",d),n(!1)}finally{r(!1)}};return{isOrganizer:o,loading:i,checkOrganizerStatus:c}}function ri({children:o}){const{isOrganizer:n,loading:i}=ew();return i?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Checking organizer access..."})]})}):n?o:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("span",{className:"text-red-500 text-2xl",children:""})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Organizer privileges required."}),f.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Back to Login"})]})})}function tw(){const[o,n]=Y.useState(null),[i,r]=Y.useState(!0);Y.useEffect(()=>{oe.auth.getSession().then(({data:{session:h}})=>{n(h?.user??null),r(!1)});const{data:{subscription:d}}=oe.auth.onAuthStateChange(async(h,m)=>{n(m?.user??null),r(!1)});return()=>d.unsubscribe()},[]);const c=async()=>{await oe.auth.signOut(),n(null),window.location.href="/"};return i?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading application..."})]})}):f.jsx(Sy,{children:f.jsxs(jy,{children:[f.jsx(ua,{path:"/",element:o?f.jsx(zu,{to:"/events",replace:!0}):f.jsx(H_,{})}),f.jsx(ua,{path:"/auth/callback",element:f.jsx(X_,{})}),f.jsx(ua,{path:"/events",element:o?f.jsxs("div",{className:"App",children:[f.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-xl",children:""}),f.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Event Manager"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm font-medium text-gray-800",children:o.user_metadata?.full_name||"User"}),f.jsx("p",{className:"text-xs text-gray-500",children:o.email})]}),f.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600 transition-colors text-sm",children:" Logout"})]})]})}),f.jsx(J_,{user:o})]}):f.jsx(zu,{to:"/",replace:!0})}),f.jsx(ua,{path:"/organizer/dashboard",element:f.jsx(ri,{children:f.jsx(Q_,{})})}),f.jsx(ua,{path:"/organizer/events",element:f.jsx(ri,{children:f.jsx(Z_,{})})}),f.jsx(ua,{path:"/organizer/expenses",element:f.jsx(ri,{children:f.jsx(I_,{})})}),f.jsx(ua,{path:"/organizer/committee",element:f.jsx(ri,{children:f.jsx(P_,{})})}),f.jsx(ua,{path:"/organizer/notices",element:f.jsx(ri,{children:f.jsx(F_,{})})}),f.jsx(ua,{path:"*",element:f.jsx(zu,{to:"/",replace:!0})})]})})}ky.createRoot(document.getElementById("root")).render(f.jsx(Y.StrictMode,{children:f.jsx(tw,{})}));
